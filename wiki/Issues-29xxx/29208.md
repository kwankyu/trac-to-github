# Issue 29208: bug: RuntimeError: ECL says: -1 is not of type (INTEGER 0 2305843009213693951).

archive/issues_028971.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis code:\n\n```\n#!/usr/bin/env sage\nfrom sage.all import *\n\nh = var('h')\nt = var('t')\nx = function('x')(t)\nDE = diff(x, t, t) - diff(x, t)**2 - diff(x, t) / (h-x)\n\ndesolve(DE, [x,t])\n```\noutputs \n\n```\nTraceback (most recent call last):\n  File \"./dgl.py\", line 9, in <module>\n    desolve(DE, [x,t])\n  File \"/usr/lib/python3.8/site-packages/sage/calculus/desolvers.py\", line 586, in desolve\n    if str(soln).strip() == 'false':\n  File \"/usr/lib/python3.8/site-packages/sage/interfaces/maxima_abstract.py\", line 1120, in __str__\n    return self.display2d(onscreen=False)\n  File \"/usr/lib/python3.8/site-packages/sage/interfaces/maxima_lib.py\", line 1142, in display2d\n    s = stdout_to_string('disp(%s)'%self.name())\n  File \"/usr/lib/python3.8/site-packages/sage/interfaces/maxima_lib.py\", line 271, in stdout_to_string\n    return ecl_eval(r\"\"\"(with-output-to-string (*standard-output*)\n  File \"sage/libs/ecl.pyx\", line 1339, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10184)\n  File \"sage/libs/ecl.pyx\", line 1354, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10123)\n  File \"sage/libs/ecl.pyx\", line 363, in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5181)\nRuntimeError: ECL says: -1 is not of type (INTEGER 0 2305843009213693951).\n\n```\n\nI used the following version:\nSage 9.0 commit 31cb54b77951c888af513734ca36ac045fa9ca86\nOS: Arch Linux\n\nInterestingly, it works if I replace h by an arbitrary number.\n\nComponent: **symbolics**\n\nKeywords: **bug**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29208_\n\n",
    "created_at": "2020-02-16T16:09:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "bug: RuntimeError: ECL says: -1 is not of type (INTEGER 0 2305843009213693951).",
    "type": "issue",
    "updated_at": "2023-01-29T23:06:23Z",
    "url": "https://github.com/sagemath/sage/issues/29208",
    "user": "https://github.com/Volker-Weissmann"
}
```
<div id="comment:0"></div>

This code:

```
#!/usr/bin/env sage
from sage.all import *

h = var('h')
t = var('t')
x = function('x')(t)
DE = diff(x, t, t) - diff(x, t)**2 - diff(x, t) / (h-x)

desolve(DE, [x,t])
```
outputs 

```
Traceback (most recent call last):
  File "./dgl.py", line 9, in <module>
    desolve(DE, [x,t])
  File "/usr/lib/python3.8/site-packages/sage/calculus/desolvers.py", line 586, in desolve
    if str(soln).strip() == 'false':
  File "/usr/lib/python3.8/site-packages/sage/interfaces/maxima_abstract.py", line 1120, in __str__
    return self.display2d(onscreen=False)
  File "/usr/lib/python3.8/site-packages/sage/interfaces/maxima_lib.py", line 1142, in display2d
    s = stdout_to_string('disp(%s)'%self.name())
  File "/usr/lib/python3.8/site-packages/sage/interfaces/maxima_lib.py", line 271, in stdout_to_string
    return ecl_eval(r"""(with-output-to-string (*standard-output*)
  File "sage/libs/ecl.pyx", line 1339, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10184)
  File "sage/libs/ecl.pyx", line 1354, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10123)
  File "sage/libs/ecl.pyx", line 363, in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5181)
RuntimeError: ECL says: -1 is not of type (INTEGER 0 2305843009213693951).

```

I used the following version:
Sage 9.0 commit 31cb54b77951c888af513734ca36ac045fa9ca86
OS: Arch Linux

Interestingly, it works if I replace h by an arbitrary number.

Component: **symbolics**

Keywords: **bug**

_Issue created by migration from https://trac.sagemath.org/ticket/29208_





---

archive/issue_events_398998.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-02-16T16:09:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-398998"
}
```



---

archive/issue_events_398999.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-02-16T16:09:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-398999"
}
```



---

archive/issue_events_399000.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-02-16T16:09:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399000"
}
```



---

archive/issue_comments_458057.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,6 +8,8 @@\n t = var('t')\n x = function('x')(t)\n DE = diff(x, t, t) - diff(x, t)**2 - diff(x, t) / (h-x)\n+\n+desolve(DE, [x,t])\n ```\n outputs \n \n``````\n",
    "created_at": "2020-02-16T16:10:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29208#issuecomment-458057",
    "user": "https://github.com/Volker-Weissmann"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,6 +8,8 @@
 t = var('t')
 x = function('x')(t)
 DE = diff(x, t, t) - diff(x, t)**2 - diff(x, t) / (h-x)
+
+desolve(DE, [x,t])
 ```
 outputs 
 
``````




---

archive/issue_events_399001.json:
```json
{
    "actor": "https://github.com/Volker-Weissmann",
    "created_at": "2020-02-16T16:21:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399001"
}
```



---

archive/issue_events_399002.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399002"
}
```



---

archive/issue_events_399003.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399003"
}
```



---

archive/issue_comments_458058.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29208#issuecomment-458058",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_458059.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nUnchanged when upgrading to 5.44.0 (#30063).",
    "created_at": "2020-07-19T07:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29208#issuecomment-458059",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Unchanged when upgrading to 5.44.0 (#30063).



---

archive/issue_events_399004.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399004"
}
```



---

archive/issue_events_399005.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399005"
}
```



---

archive/issue_comments_458060.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nStill present in 9.3.rc0 (after upgrade of ECL)",
    "created_at": "2021-03-29T03:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29208#issuecomment-458060",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Still present in 9.3.rc0 (after upgrade of ECL)



---

archive/issue_comments_458061.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29208#issuecomment-458061",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_399006.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399006"
}
```



---

archive/issue_events_399007.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399007"
}
```



---

archive/issue_events_399008.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399008"
}
```



---

archive/issue_events_399009.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399009"
}
```



---

archive/issue_events_399010.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399010"
}
```



---

archive/issue_events_399011.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399011"
}
```



---

archive/issue_events_399012.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399012"
}
```



---

archive/issue_events_399013.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399013"
}
```



---

archive/issue_events_399014.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399014"
}
```



---

archive/issue_events_399015.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399015"
}
```



---

archive/issue_events_399016.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-29T23:06:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29208",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29208#event-399016"
}
```
