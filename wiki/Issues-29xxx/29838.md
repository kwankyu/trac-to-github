# Issue 29838: Implement slack matrix for polyhedra

archive/issues_029601.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nWe implement the slack matrix for polyhedra.\n\nThis matrix contains all the evaluations of Hrepresentation elements on Vrepresentation elements.\n\nThis method can be used to obtain the incidence matrix much quicker (at least for base ring rationals or integers).\n\nCC:  @jplab @LaisRast\n\nComponent: **geometry**\n\nKeywords: **polyhedra, slack matrix**\n\nAuthor: **Jonathan Kliem**\n\nBranch/Commit: **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**\n\nReviewer: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29838_\n\n",
    "closed_at": "2020-06-27T09:25:24Z",
    "created_at": "2020-06-10T11:52:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement slack matrix for polyhedra",
    "type": "issue",
    "updated_at": "2020-06-27T09:25:24Z",
    "url": "https://github.com/sagemath/sage/issues/29838",
    "user": "https://github.com/kliem"
}
```
<div id="comment:0"></div>

We implement the slack matrix for polyhedra.

This matrix contains all the evaluations of Hrepresentation elements on Vrepresentation elements.

This method can be used to obtain the incidence matrix much quicker (at least for base ring rationals or integers).

CC:  @jplab @LaisRast

Component: **geometry**

Keywords: **polyhedra, slack matrix**

Author: **Jonathan Kliem**

Branch/Commit: **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**

Reviewer: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/29838_





---

archive/issue_events_408093.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-10T11:52:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408093"
}
```



---

archive/issue_events_408094.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-10T11:52:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408094"
}
```



---

archive/issue_events_408095.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-10T11:52:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408095"
}
```



---

archive/issue_events_408096.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-10T11:52:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408096"
}
```



---

archive/issue_comments_471093.json:
```json
{
    "body": "Branch: **[public/29838](https://github.com/sagemath/sagetrac-mirror/tree/public/29838)**",
    "created_at": "2020-06-10T11:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471093",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/29838](https://github.com/sagemath/sagetrac-mirror/tree/public/29838)**



---

archive/issue_events_408097.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-10T11:53:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408097"
}
```



---

archive/issue_comments_471094.json:
```json
{
    "body": "Commit: **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**",
    "created_at": "2020-06-10T11:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471094",
    "user": "https://github.com/kliem"
}
```

Commit: **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**



---

archive/issue_comments_471095.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe\"><code>47a19c6</code></a></td><td><code>implement slack matrix</code></td></tr></table>\n",
    "created_at": "2020-06-10T11:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471095",
    "user": "https://github.com/kliem"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe"><code>47a19c6</code></a></td><td><code>implement slack matrix</code></td></tr></table>




---

archive/issue_comments_471096.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTo obtain the slack matrix is currently much quicker than the incidence matrix:\n\n```\nsage: P = polytopes.permutahedron(7)\nsage: %time M = P.slack_matrix()\nCPU times: user 46.5 ms, sys: 4.06 ms, total: 50.6 ms\nWall time: 49.6 ms\nsage: %time _ = P.incidence_matrix()\nCPU times: user 684 ms, sys: 0 ns, total: 684 ms\nWall time: 683 ms\n\nsage: P = polytopes.permutahedron(7)\nsage: P = P.base_extend(QQ)\nsage: %time M = P.slack_matrix()\nCPU times: user 157 ms, sys: 4.01 ms, total: 161 ms\nWall time: 160 ms\nsage: %time _ = P.incidence_matrix()\nCPU times: user 1.2 s, sys: 17 \u00b5s, total: 1.2 s\nWall time: 1.2 s\n\nsage: P = polytopes.associahedron(['A', 9])\nsage: %time M = P.slack_matrix()\nCPU times: user 312 ms, sys: 8 ms, total: 320 ms\nWall time: 319 ms\nsage: %time _ = P.incidence_matrix()\nCPU times: user 1.83 s, sys: 0 ns, total: 1.83 s\nWall time: 1.83 s\n```",
    "created_at": "2020-06-10T11:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471096",
    "user": "https://github.com/kliem"
}
```

<div id="comment:2" align="right">comment:2</div>

To obtain the slack matrix is currently much quicker than the incidence matrix:

```
sage: P = polytopes.permutahedron(7)
sage: %time M = P.slack_matrix()
CPU times: user 46.5 ms, sys: 4.06 ms, total: 50.6 ms
Wall time: 49.6 ms
sage: %time _ = P.incidence_matrix()
CPU times: user 684 ms, sys: 0 ns, total: 684 ms
Wall time: 683 ms

sage: P = polytopes.permutahedron(7)
sage: P = P.base_extend(QQ)
sage: %time M = P.slack_matrix()
CPU times: user 157 ms, sys: 4.01 ms, total: 161 ms
Wall time: 160 ms
sage: %time _ = P.incidence_matrix()
CPU times: user 1.2 s, sys: 17 Âµs, total: 1.2 s
Wall time: 1.2 s

sage: P = polytopes.associahedron(['A', 9])
sage: %time M = P.slack_matrix()
CPU times: user 312 ms, sys: 8 ms, total: 320 ms
Wall time: 319 ms
sage: %time _ = P.incidence_matrix()
CPU times: user 1.83 s, sys: 0 ns, total: 1.83 s
Wall time: 1.83 s
```



---

archive/issue_comments_471097.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLGTM",
    "created_at": "2020-06-10T20:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471097",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

LGTM



---

archive/issue_events_408098.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-10T20:17:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408098"
}
```



---

archive/issue_events_408099.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-10T20:17:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408099"
}
```



---

archive/issue_comments_471098.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-06-10T20:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471098",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_408100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-27T09:25:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408100"
}
```



---

archive/issue_events_408101.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6c495f46eae5b952c21c7e974fc5d0c5ec999d41",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-27T09:25:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29838#event-408101"
}
```



---

archive/issue_comments_471099.json:
```json
{
    "body": "Changed branch from **[public/29838](https://github.com/sagemath/sagetrac-mirror/tree/public/29838)** to **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**",
    "created_at": "2020-06-27T09:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29838",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29838#issuecomment-471099",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/29838](https://github.com/sagemath/sagetrac-mirror/tree/public/29838)** to **[`47a19c6`](https://github.com/sagemath/sagetrac-mirror/commit/47a19c6c02206602f0bb8285ef3ff6c78c23b0fe)**
