# Issue 8252: names parameter in optimized_representation is tweaked,

archive/issues_008252.json:
```json
{
    "body": "Here is a bit of annoyance:\n\n```\nsage: K.<a>=NumberField(x^2+1)\nsage: L.<b>=K.extension(x^2+5)\nsage: Labs.<tau> = L.absolute_field()\nsage: Lnice = Labs.optimized_representation(names='t')\nsage: Lnice[0]\nNumber Field in t3 with defining polynomial x^4 + 3*x^2 + 1\n```\n\nWhile the more reasonable output should be \n\n```\nNumber Field in t with defining polynomial x^4 + 3*x^2 + 1\n```\n\nI've looked at the code, and the problem is that the helper function that finds the optimized number field calculates all sorts of other fields, and needs to make sure the names don't conflict with each other, so the output makes sense in that front. However, the output is still unexpected for the user. \n\nThere is an obvious hack that can solve this problem (edit Lnice._names before returning from optimized_representation), but I'm not sure if that's the best approach (side effects scare me).\n\n**Assignee:** @loefflerd\n\n**Keywords:** number fields\n\n**Branch:** [u/AlexGhitza/ticket/8252](https://github.com/sagemath/sagetrac-mirror/tree/u/AlexGhitza/ticket/8252)\n\n**Commit:** [e7db903ad58aecb2224f5eb9608ce08f12b8c703](https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703)\n\n**Author:** Alex Ghitza\n\nIssue created by migration from https://trac.sagemath.org/ticket/8252\n\n",
    "created_at": "2010-02-12T22:17:51Z",
    "labels": [
        "component: number fields",
        "minor",
        "bug",
        "needs work"
    ],
    "title": "names parameter in optimized_representation is tweaked,",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/8252",
    "user": "https://github.com/syazdani77"
}
```
Here is a bit of annoyance:

```
sage: K.<a>=NumberField(x^2+1)
sage: L.<b>=K.extension(x^2+5)
sage: Labs.<tau> = L.absolute_field()
sage: Lnice = Labs.optimized_representation(names='t')
sage: Lnice[0]
Number Field in t3 with defining polynomial x^4 + 3*x^2 + 1
```

While the more reasonable output should be 

```
Number Field in t with defining polynomial x^4 + 3*x^2 + 1
```

I've looked at the code, and the problem is that the helper function that finds the optimized number field calculates all sorts of other fields, and needs to make sure the names don't conflict with each other, so the output makes sense in that front. However, the output is still unexpected for the user. 

There is an obvious hack that can solve this problem (edit Lnice._names before returning from optimized_representation), but I'm not sure if that's the best approach (side effects scare me).

**Assignee:** @loefflerd

**Keywords:** number fields

**Branch:** [u/AlexGhitza/ticket/8252](https://github.com/sagemath/sagetrac-mirror/tree/u/AlexGhitza/ticket/8252)

**Commit:** [e7db903ad58aecb2224f5eb9608ce08f12b8c703](https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703)

**Author:** Alex Ghitza

Issue created by migration from https://trac.sagemath.org/ticket/8252





---

archive/issue_comments_065894.json:
```json
{
    "body": "**Branch:** [u/AlexGhitza/ticket/8252](https://github.com/sagemath/sagetrac-mirror/tree/u/AlexGhitza/ticket/8252)",
    "created_at": "2014-04-18T05:28:15Z",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8252#issuecomment-65894",
    "user": "https://github.com/aghitza"
}
```

**Branch:** [u/AlexGhitza/ticket/8252](https://github.com/sagemath/sagetrac-mirror/tree/u/AlexGhitza/ticket/8252)



---

archive/issue_events_058021.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2014-04-18T05:29:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58021"
}
```



---

archive/issue_comments_065895.json:
```json
{
    "body": "**Author:** Alex Ghitza",
    "created_at": "2014-04-18T05:29:45Z",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8252#issuecomment-65895",
    "user": "https://github.com/aghitza"
}
```

**Author:** Alex Ghitza



---

archive/issue_events_058022.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2014-04-18T05:29:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58022"
}
```



---

archive/issue_comments_065896.json:
```json
{
    "body": "**Commit:** [e7db903ad58aecb2224f5eb9608ce08f12b8c703](https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703)",
    "created_at": "2014-04-18T05:29:45Z",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8252#issuecomment-65896",
    "user": "https://github.com/aghitza"
}
```

**Commit:** [e7db903ad58aecb2224f5eb9608ce08f12b8c703](https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703)



---

archive/issue_comments_065897.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703\">e7db903</a></td><td><code>fix variable name in optimized_representation</code></td></tr></table>\n",
    "created_at": "2014-04-18T05:29:45Z",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8252#issuecomment-65897",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7db903ad58aecb2224f5eb9608ce08f12b8c703">e7db903</a></td><td><code>fix variable name in optimized_representation</code></td></tr></table>




---

archive/issue_events_058023.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58023"
}
```



---

archive/issue_events_058024.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58024"
}
```



---

archive/issue_comments_065898.json:
```json
{
    "body": "<a id='comment:4'></a>\n\n```\nsage -t --long src/sage/schemes/elliptic_curves/heegner.py  # 2 doctests failed\n```",
    "created_at": "2014-05-20T13:03:15Z",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/8252#issuecomment-65898",
    "user": "https://github.com/rwst"
}
```

<a id='comment:4'></a>

```
sage -t --long src/sage/schemes/elliptic_curves/heegner.py  # 2 doctests failed
```



---

archive/issue_events_058025.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-20T13:03:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58025"
}
```



---

archive/issue_events_058026.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-20T13:03:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58026"
}
```



---

archive/issue_events_058027.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58027"
}
```



---

archive/issue_events_058028.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58028"
}
```



---

archive/issue_events_058029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/8252",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/8252#event-58029"
}
```
