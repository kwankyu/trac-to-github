# Issue 27397: upgrade to twisted 19.7.0

archive/issues_027160.json:
```json
{
    "body": "This could help to run sagenb with python3\n\nhttps://files.pythonhosted.org/packages/61/31/3855dcacd1d3b2e60c0b4ccc8e727b8cd497bd7087d327d81a9f0cbb580c/Twisted-19.7.0.tar.bz2\n\n**CC:**  @embray @jdemeyer @kiwifb\n\n**Keywords:** upgrade, twisted\n\n**Branch:** [u/chapoton/27397](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27397)\n\n**Commit:** [ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99](https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99)\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/27397\n\n",
    "closed_at": "2020-03-18T08:20:09Z",
    "created_at": "2019-03-02T11:40:03Z",
    "labels": [
        "component: packages: standard",
        "enhancement",
        "invalid"
    ],
    "title": "upgrade to twisted 19.7.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/27397",
    "user": "https://github.com/fchapoton"
}
```
This could help to run sagenb with python3

https://files.pythonhosted.org/packages/61/31/3855dcacd1d3b2e60c0b4ccc8e727b8cd497bd7087d327d81a9f0cbb580c/Twisted-19.7.0.tar.bz2

**CC:**  @embray @jdemeyer @kiwifb

**Keywords:** upgrade, twisted

**Branch:** [u/chapoton/27397](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27397)

**Commit:** [ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99](https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99)

**Reviewer:** François Bissey

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/27397





---

archive/issue_comments_426540.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n This could help to tun sagenb with python3\n+\n+https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2\n``````\n",
    "created_at": "2019-03-02T11:40:41Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426540",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 This could help to tun sagenb with python3
+
+https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2
``````




---

archive/issue_comments_426541.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7\">258cf1b</a></td><td><code>upgrade twisted to 18.9.0</code></td></tr></table>\n",
    "created_at": "2019-03-02T11:44:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426541",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7">258cf1b</a></td><td><code>upgrade twisted to 18.9.0</code></td></tr></table>




---

archive/issue_comments_426542.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2019-03-02T11:44:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426542",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_426543.json:
```json
{
    "body": "**Branch:** [u/chapoton/27397](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27397)",
    "created_at": "2019-03-02T11:44:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426543",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/27397](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27397)



---

archive/issue_events_244294.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-02T11:44:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244294"
}
```



---

archive/issue_comments_426544.json:
```json
{
    "body": "**Commit:** [258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7](https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7)",
    "created_at": "2019-03-02T11:44:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426544",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7](https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7)



---

archive/issue_comments_426545.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This could help to tun sagenb with python3\n+This could help to run sagenb with python3\n \n https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2\n``````\n",
    "created_at": "2019-03-02T11:44:36Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426545",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This could help to tun sagenb with python3
+This could help to run sagenb with python3
 
 https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2
``````




---

archive/issue_comments_426546.json:
```json
{
    "body": "<a id='comment:4'></a>\nStrangely, this does not seem to install all files (on a python3-built sage)\n\nFor example, twisted.mail.relaymanager is not installed...\n\nHelp! What is happening?",
    "created_at": "2019-03-02T12:16:55Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426546",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Strangely, this does not seem to install all files (on a python3-built sage)

For example, twisted.mail.relaymanager is not installed...

Help! What is happening?



---

archive/issue_comments_426547.json:
```json
{
    "body": "<a id='comment:5'></a>\nActually the gentoo ebuild seems to have a similar behavior, python2.7 has way more file installed than python3.6. It appears to be the default, not sure if that's bad yet.",
    "created_at": "2019-03-02T22:07:49Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426547",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Actually the gentoo ebuild seems to have a similar behavior, python2.7 has way more file installed than python3.6. It appears to be the default, not sure if that's bad yet.



---

archive/issue_comments_426548.json:
```json
{
    "body": "<a id='comment:6'></a>\nCould this be related to different levels of compatibility of twisted with respect to different versions of py3 (3.3, 3.4, 3.5, 3.6, etc)\n\nBecause it seems that `twisted.mail.smtp` gets installed with the branch here, whereas it was not with our current version of twisted.",
    "created_at": "2019-03-03T08:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426548",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Could this be related to different levels of compatibility of twisted with respect to different versions of py3 (3.3, 3.4, 3.5, 3.6, etc)

Because it seems that `twisted.mail.smtp` gets installed with the branch here, whereas it was not with our current version of twisted.



---

archive/issue_comments_426549.json:
```json
{
    "body": "<a id='comment:7'></a>\nNote: the same lack of installed files happens when twisted is installed on top of the system (ubuntu 18.10) python3.",
    "created_at": "2019-03-03T15:29:12Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426549",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Note: the same lack of installed files happens when twisted is installed on top of the system (ubuntu 18.10) python3.



---

archive/issue_comments_426550.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe [Twisted home page](https://twistedmatrix.com/trac/) makes very moderate claims to Python 3 support:\n\n> Twisted runs on Python 2 and an ever growing subset also works with Python 3.",
    "created_at": "2019-03-04T23:30:12Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426550",
    "user": "https://github.com/slel"
}
```

<a id='comment:8'></a>
The [Twisted home page](https://twistedmatrix.com/trac/) makes very moderate claims to Python 3 support:

> Twisted runs on Python 2 and an ever growing subset also works with Python 3.



---

archive/issue_comments_426551.json:
```json
{
    "body": "**Changing keywords** from \"upgrade\" to \"upgrade, twisted\".",
    "created_at": "2019-03-04T23:30:12Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426551",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "upgrade" to "upgrade, twisted".



---

archive/issue_events_244295.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-03-04T23:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244295"
}
```



---

archive/issue_comments_426552.json:
```json
{
    "body": "<a id='comment:9'></a>\nThat said, the [news item for Twisted 18.9.0](https://github.com/twisted/twisted/blob/trunk/NEWS.rst) mentions\n\n> Python 3.7 is now supported",
    "created_at": "2019-03-04T23:34:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426552",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>
That said, the [news item for Twisted 18.9.0](https://github.com/twisted/twisted/blob/trunk/NEWS.rst) mentions

> Python 3.7 is now supported



---

archive/issue_comments_426553.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe [pull request about Python 3.7 support](https://github.com/twisted/twisted/pull/1071/files) still says:\n\n> Python 2.7 (full functionality) or 3.4/3.5/3.6/3.7 (subset of functionality)",
    "created_at": "2019-03-05T04:02:56Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426553",
    "user": "https://github.com/slel"
}
```

<a id='comment:10'></a>
The [pull request about Python 3.7 support](https://github.com/twisted/twisted/pull/1071/files) still says:

> Python 2.7 (full functionality) or 3.4/3.5/3.6/3.7 (subset of functionality)



---

archive/issue_comments_426554.json:
```json
{
    "body": "<a id='comment:11'></a>\nThere is a list of \"non ported modules\" here:\n\nhttps://github.com/twisted/twisted/blob/trunk/src/twisted/python/_setup.py\n\nand this controls what is installed on python3.\n\nWe need relaymanager and all its depencies...",
    "created_at": "2019-03-05T07:49:49Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426554",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
There is a list of "non ported modules" here:

https://github.com/twisted/twisted/blob/trunk/src/twisted/python/_setup.py

and this controls what is installed on python3.

We need relaymanager and all its depencies...



---

archive/issue_comments_426555.json:
```json
{
    "body": "<a id='comment:12'></a>\nIs this just for sagenb?  I'd suggest not supporting it on Python 3 at all (I know you've done a lot of work towards getting that working anyways but I'm not sure it's worth all the trouble since it's being deprecated anyways).\n\nAt the very least, maybe it can be missing some functionality (with appropriate warnings given).",
    "created_at": "2019-03-05T15:23:09Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426555",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
Is this just for sagenb?  I'd suggest not supporting it on Python 3 at all (I know you've done a lot of work towards getting that working anyways but I'm not sure it's worth all the trouble since it's being deprecated anyways).

At the very least, maybe it can be missing some functionality (with appropriate warnings given).



---

archive/issue_comments_426556.json:
```json
{
    "body": "<a id='comment:13'></a>\nyes, this is just for sagenb. It currently fails to start because of these 2 missing modules of twisted.mail.  I remember that a brute force removal of these imports allow the notebook to start, but it looked ugly for some reason.\n\nI will not push hard for this ticket, but maybe we were almost there.. Sigh..",
    "created_at": "2019-03-05T15:25:47Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426556",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
yes, this is just for sagenb. It currently fails to start because of these 2 missing modules of twisted.mail.  I remember that a brute force removal of these imports allow the notebook to start, but it looked ugly for some reason.

I will not push hard for this ticket, but maybe we were almost there.. Sigh..



---

archive/issue_comments_426557.json:
```json
{
    "body": "<a id='comment:14'></a>\nI guess you could do something like\n\n```\ntry:\n    import twisted.mail\n    HAVE_TWISTED_MAIL = True\nexcept ImportError:\n    HAVE_TWISTED_MAIL = False\n    if <twisted version <= whatever>:\n        # This is an actual error since an older Twisted version should have this\n        raise\n```\n\nand later\n\n```\nif HAVE_TWISTED_MAIL:\n    <do the thing>\nelse:\n    warnings.warn(\"<this functionality is no longer supported, sagenb is deprecated, blah blah blah>\")\n```\n\nI haven't looked at the relevant code though so I don't know how straightforward that would be in practice.",
    "created_at": "2019-03-05T15:45:56Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426557",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>
I guess you could do something like

```
try:
    import twisted.mail
    HAVE_TWISTED_MAIL = True
except ImportError:
    HAVE_TWISTED_MAIL = False
    if <twisted version <= whatever>:
        # This is an actual error since an older Twisted version should have this
        raise
```

and later

```
if HAVE_TWISTED_MAIL:
    <do the thing>
else:
    warnings.warn("<this functionality is no longer supported, sagenb is deprecated, blah blah blah>")
```

I haven't looked at the relevant code though so I don't know how straightforward that would be in practice.



---

archive/issue_events_244296.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244296"
}
```



---

archive/issue_events_244297.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244297"
}
```



---

archive/issue_comments_426558.json:
```json
{
    "body": "<a id='comment:15'></a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426558",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_244298.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-04-28T08:05:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244298"
}
```



---

archive/issue_events_244299.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-04-28T08:05:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244299"
}
```



---

archive/issue_events_244300.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244300"
}
```



---

archive/issue_events_244301.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244301"
}
```



---

archive/issue_comments_426559.json:
```json
{
    "body": "<a id='comment:17'></a>\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426559",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_244302.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-02T17:24:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "rename": {
        "from": "upgrade to twisted 18.9.0",
        "to": "upgrade to twisted 19.7.0"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244302"
}
```



---

archive/issue_comments_426560.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n This could help to run sagenb with python3\n \n-https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2\n+https://github.com/twisted/twisted/archive/twisted-19.7.0.tar.gz\n+\n``````\n",
    "created_at": "2019-11-02T17:24:06Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426560",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 This could help to run sagenb with python3
 
-https://files.pythonhosted.org/packages/5d/0e/a72d85a55761c2c3ff1cb968143a2fd5f360220779ed90e0fadf4106d4f2/Twisted-18.9.0.tar.bz2
+https://github.com/twisted/twisted/archive/twisted-19.7.0.tar.gz
+
``````




---

archive/issue_comments_426561.json:
```json
{
    "body": "<a id='comment:18'></a>\nIs there any volunteer to try this and sagenb with sage running python 3 ?",
    "created_at": "2019-11-02T17:24:06Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426561",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
Is there any volunteer to try this and sagenb with sage running python 3 ?



---

archive/issue_events_244303.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-02T17:24:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244303"
}
```



---

archive/issue_events_244304.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-02T17:24:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244304"
}
```



---

archive/issue_events_244305.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-02T17:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244305"
}
```



---

archive/issue_events_244306.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-02T17:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244306"
}
```



---

archive/issue_comments_426562.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,3 @@\n This could help to run sagenb with python3\n \n-https://github.com/twisted/twisted/archive/twisted-19.7.0.tar.gz\n-\n+https://files.pythonhosted.org/packages/61/31/3855dcacd1d3b2e60c0b4ccc8e727b8cd497bd7087d327d81a9f0cbb580c/Twisted-19.7.0.tar.bz2\n``````\n",
    "created_at": "2019-11-02T17:29:21Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426562",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,3 @@
 This could help to run sagenb with python3
 
-https://github.com/twisted/twisted/archive/twisted-19.7.0.tar.gz
-
+https://files.pythonhosted.org/packages/61/31/3855dcacd1d3b2e60c0b4ccc8e727b8cd497bd7087d327d81a9f0cbb580c/Twisted-19.7.0.tar.bz2
``````




---

archive/issue_comments_426563.json:
```json
{
    "body": "**Changing commit** from \"[258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7](https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7)\" to \"[ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99](https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99)\".",
    "created_at": "2019-11-02T17:31:01Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7](https://github.com/sagemath/sagetrac-mirror/commit/258cf1b95cf6bf6447e1f0eb9a5acb43560e6ce7)" to "[ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99](https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99)".



---

archive/issue_comments_426564.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99\">ee5d6b6</a></td><td><code>upgrade twisted to 19.7.0</code></td></tr></table>\n",
    "created_at": "2019-11-02T17:31:01Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99">ee5d6b6</a></td><td><code>upgrade twisted to 19.7.0</code></td></tr></table>




---

archive/issue_comments_426565.json:
```json
{
    "body": "<a id='comment:21'></a>\nI had to do\n\n```\nsage -pip install --upgrade incremental\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99\">ee5d6b6</a></td><td><code>upgrade twisted to 19.7.0</code></td></tr></table>\n",
    "created_at": "2019-11-02T17:41:58Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426565",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
I had to do

```
sage -pip install --upgrade incremental
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee5d6b683e8bfe352bc0fc82e072da6bb5c66b99">ee5d6b6</a></td><td><code>upgrade twisted to 19.7.0</code></td></tr></table>




---

archive/issue_comments_426566.json:
```json
{
    "body": "<a id='comment:22'></a>\nand then\n\n```\nsage -pip install constantly\n```\nBut sagenb still fails as before. So no real hope to make it work under py3.",
    "created_at": "2019-11-02T17:47:36Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426566",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
and then

```
sage -pip install constantly
```
But sagenb still fails as before. So no real hope to make it work under py3.



---

archive/issue_comments_426567.json:
```json
{
    "body": "<a id='comment:23'></a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426567",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_244307.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244307"
}
```



---

archive/issue_events_244308.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244308"
}
```



---

archive/issue_comments_426568.json:
```json
{
    "body": "<a id='comment:24'></a>\ngiven #29320, I propose to close this one as invalid",
    "created_at": "2020-03-18T07:59:26Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426568",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
given #29320, I propose to close this one as invalid



---

archive/issue_events_244309.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T07:59:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244309"
}
```



---

archive/issue_events_244310.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T07:59:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244310"
}
```



---

archive/issue_events_244311.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T07:59:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244311"
}
```



---

archive/issue_events_244312.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-03-18T08:01:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244312"
}
```



---

archive/issue_events_244313.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-03-18T08:01:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244313"
}
```



---

archive/issue_comments_426569.json:
```json
{
    "body": "<a id='comment:25'></a>\nWith pleasure.",
    "created_at": "2020-03-18T08:01:06Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426569",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>
With pleasure.



---

archive/issue_comments_426570.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2020-03-18T08:01:06Z",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27397#issuecomment-426570",
    "user": "https://github.com/kiwifb"
}
```

**Reviewer:** François Bissey



---

archive/issue_events_244314.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T08:20:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244314"
}
```



---

archive/issue_events_244315.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T08:20:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27397",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27397#event-244315"
}
```
