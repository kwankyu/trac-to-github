# Issue 27915: Fix py3_syntax.py doctest on distros

archive/issues_027678.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nMake SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.\n\nCC:  @kiwifb @timokau @saraedum @slel\n\nComponent: **distribution**\n\nKeywords: **packaging**\n\nAuthor: **Antonio Rojas**\n\nBranch/Commit: **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27915_\n\n",
    "closed_at": "2019-06-05T18:30:47Z",
    "created_at": "2019-06-01T10:52:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20distribution",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix py3_syntax.py doctest on distros",
    "type": "issue",
    "updated_at": "2019-06-05T18:30:47Z",
    "url": "https://github.com/sagemath/sage/issues/27915",
    "user": "https://github.com/antonio-rojas"
}
```
<div id="comment:0"></div>

Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.

CC:  @kiwifb @timokau @saraedum @slel

Component: **distribution**

Keywords: **packaging**

Author: **Antonio Rojas**

Branch/Commit: **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**

Reviewer: **Fran√ßois Bissey**

_Issue created by migration from https://trac.sagemath.org/ticket/27915_





---

archive/issue_events_380127.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:52:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380127"
}
```



---

archive/issue_events_380128.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:52:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380128"
}
```



---

archive/issue_comments_433788.json:
```json
{
    "body": "Branch: **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)**",
    "created_at": "2019-06-01T10:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433788",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)**



---

archive/issue_comments_433789.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56\"><code>b4db222</code></a></td><td><code>Fix doctest when source is not available</code></td></tr></table>\n",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433789",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56"><code>b4db222</code></a></td><td><code>Fix doctest when source is not available</code></td></tr></table>




---

archive/issue_comments_433790.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.\n``````\n",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433790",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.
``````




---

archive/issue_events_380129.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380129"
}
```



---

archive/issue_events_380130.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380130"
}
```



---

archive/issue_events_380131.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20distribution",
    "label_color": "0000b0",
    "label_name": "c: distribution",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380131"
}
```



---

archive/issue_comments_433791.json:
```json
{
    "body": "Changed keywords from none to **packaging**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433791",
    "user": "https://github.com/antonio-rojas"
}
```

Changed keywords from none to **packaging**



---

archive/issue_comments_433792.json:
```json
{
    "body": "Commit: **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433792",
    "user": "https://github.com/antonio-rojas"
}
```

Commit: **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**



---

archive/issue_comments_433793.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433793",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_events_380132.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-06-01T11:45:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380132"
}
```



---

archive/issue_events_380133.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-06-01T11:45:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380133"
}
```



---

archive/issue_comments_433794.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLGTM. I must say I don't run that test file in sage-on-gentoo. Felt a little bit silly running a python3 from python2. It made sense at the beginning of the python3 port but now that we can run the testsuite with python3.6 or 3.7 (with lots of failures) it feels a bit pointless.",
    "created_at": "2019-06-01T11:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433794",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">comment:3</div>

LGTM. I must say I don't run that test file in sage-on-gentoo. Felt a little bit silly running a python3 from python2. It made sense at the beginning of the python3 port but now that we can run the testsuite with python3.6 or 3.7 (with lots of failures) it feels a bit pointless.



---

archive/issue_comments_433795.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nadd missing reviewer name, please",
    "created_at": "2019-06-02T06:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433795",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

add missing reviewer name, please



---

archive/issue_comments_433796.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2019-06-02T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433796",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **Fran√ßois Bissey**



---

archive/issue_comments_433797.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for the reminder.",
    "created_at": "2019-06-02T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433797",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for the reminder.



---

archive/issue_events_380134.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-05T18:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380134"
}
```



---

archive/issue_events_380135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "44c8a4e2f99c0207824dfc39d02a03da43923190",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-05T18:30:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-380135"
}
```



---

archive/issue_comments_433798.json:
```json
{
    "body": "Changed branch from **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)** to **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**",
    "created_at": "2019-06-05T18:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-433798",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)** to **[`b4db222`](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**
