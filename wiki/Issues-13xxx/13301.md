# Issue 13301: Implement linear time algorithm to detect path intersection

archive/issues_013129.json:
```json
{
    "body": "Path intersection can be detected in a fast way using the algorithm described\nin [BKP2011]. The algorithm is based on radix trees.\n\n[BKP2011] S. Brlek, M. Koskas, X. Proven\u00e7al. A linear time and space\nalgorithm for detecting path intersection in `Z^d`, Theorical Computer\nScience 412 (2011) 4841-4850:[http://dx.doi.org/10.1016/j.tcs.2011.04.019](http://dx.doi.org/10.1016/j.tcs.2011.04.019)\n\n\n**Assignee:** lucaspastor\n\n**CC:**  @seblabbe\n\nIssue created by migration from https://trac.sagemath.org/ticket/13301\n\n",
    "created_at": "2012-07-26T22:32:01Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "title": "Implement linear time algorithm to detect path intersection",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/13301",
    "user": "https://trac.sagemath.org/admin/accounts/users/lucaspastor"
}
```
Path intersection can be detected in a fast way using the algorithm described
in [BKP2011]. The algorithm is based on radix trees.

[BKP2011] S. Brlek, M. Koskas, X. Proven√ßal. A linear time and space
algorithm for detecting path intersection in `Z^d`, Theorical Computer
Science 412 (2011) 4841-4850:[http://dx.doi.org/10.1016/j.tcs.2011.04.019](http://dx.doi.org/10.1016/j.tcs.2011.04.019)


**Assignee:** lucaspastor

**CC:**  @seblabbe

Issue created by migration from https://trac.sagemath.org/ticket/13301





---

archive/issue_comments_156068.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe fact that -1 % 2 returns -1 in sage library .pyx file is explained here :\n\nhttps://groups.google.com/forum/?fromgroups#!topic/sage-devel/GMfCUATUquQ",
    "created_at": "2012-07-27T02:25:37Z",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13301#issuecomment-156068",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:2'></a>
The fact that -1 % 2 returns -1 in sage library .pyx file is explained here :

https://groups.google.com/forum/?fromgroups#!topic/sage-devel/GMfCUATUquQ



---

archive/attachments_018641.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "self_intersection.patch",
    "asset_url": "tarball://root/attachments/ticket13301/self_intersection.patch",
    "created_at": "2012-08-07T23:28:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket13301/self_intersection.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/lucaspastor"
}
```



---

archive/issue_comments_156069.json:
```json
{
    "body": "**Attachment:** [self_intersection.patch](https://github.com/sagemath/sage/files/ticket13301/self_intersection.patch)\n\nThe implementation's sage patch.",
    "created_at": "2012-08-07T23:28:51Z",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13301#issuecomment-156069",
    "user": "https://trac.sagemath.org/admin/accounts/users/lucaspastor"
}
```

**Attachment:** [self_intersection.patch](https://github.com/sagemath/sage/files/ticket13301/self_intersection.patch)

The implementation's sage patch.



---

archive/issue_comments_156070.json:
```json
{
    "body": "<a id='comment:3'></a>\nAs of now, the node structure is:\n\n```\n#Node structure\ncdef struct Node:\n    int node_number\n    int node_id\n    Node* parent\n    Node** children\n    Node** neighbors\n    int* coords\n    int visited\n```\n\nI believe it could be simplified. For example, I believe `node_id` is unused by the important 4 functions. Also `node_number` and `visited` are used by distinct functions. So, they could be merged into one `int data` which could do both job.\n\nMoreover, I thought the coords were not necessary inside the node as we can find them from the data structure. Hence, a simplified node structure could be :\n\n```\n#Node structure\ncdef struct Node:\n    Node* parent\n    Node** children\n    Node** neighbors\n    int data\n```\n\nWhat do you think?",
    "created_at": "2012-08-30T16:01:58Z",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/13301#issuecomment-156070",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:3'></a>
As of now, the node structure is:

```
#Node structure
cdef struct Node:
    int node_number
    int node_id
    Node* parent
    Node** children
    Node** neighbors
    int* coords
    int visited
```

I believe it could be simplified. For example, I believe `node_id` is unused by the important 4 functions. Also `node_number` and `visited` are used by distinct functions. So, they could be merged into one `int data` which could do both job.

Moreover, I thought the coords were not necessary inside the node as we can find them from the data structure. Hence, a simplified node structure could be :

```
#Node structure
cdef struct Node:
    Node* parent
    Node** children
    Node** neighbors
    int data
```

What do you think?



---

archive/issue_events_113512.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113512"
}
```



---

archive/issue_events_113513.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113513"
}
```



---

archive/issue_events_113514.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113514"
}
```



---

archive/issue_events_113515.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113515"
}
```



---

archive/issue_events_113516.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113516"
}
```



---

archive/issue_events_113517.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113517"
}
```



---

archive/issue_events_113518.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113518"
}
```



---

archive/issue_events_113519.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113519"
}
```



---

archive/issue_events_113520.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/13301",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/13301#event-113520"
}
```
