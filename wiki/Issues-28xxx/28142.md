# Issue 28142: Girth of directed graphs

archive/issues_027905.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.\n\nBoth methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `\"bfs\"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.\n\nCC:  @dcoudert\n\nComponent: **graph theory**\n\nKeywords: **fpsac2019**\n\nAuthor: **Jano\u0161 Vidali**\n\nBranch/Commit: **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**\n\nReviewer: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28142_\n\n",
    "closed_at": "2019-07-20T09:10:50Z",
    "created_at": "2019-07-09T12:32:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Girth of directed graphs",
    "type": "issue",
    "updated_at": "2019-07-20T09:10:50Z",
    "url": "https://github.com/sagemath/sage/issues/28142",
    "user": "https://github.com/jaanos"
}
```
<div id="comment:0"></div>

This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.

Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `"bfs"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.

CC:  @dcoudert

Component: **graph theory**

Keywords: **fpsac2019**

Author: **Jano≈° Vidali**

Branch/Commit: **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**

Reviewer: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/28142_





---

archive/issue_events_383264.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:32:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383264"
}
```



---

archive/issue_events_383265.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:32:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383265"
}
```



---

archive/issue_comments_437897.json:
```json
{
    "body": "Branch: **[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)**",
    "created_at": "2019-07-09T12:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437897",
    "user": "https://github.com/jaanos"
}
```

Branch: **[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)**



---

archive/issue_comments_437898.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.\n \n+Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `\"bfs\"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.\n``````\n",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437898",
    "user": "https://github.com/jaanos"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.
 
+Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `"bfs"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.
``````




---

archive/issue_events_383266.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:52:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383266"
}
```



---

archive/issue_comments_437899.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde\"><code>5663f77</code></a></td><td><code>Properly compute girth for directed graphs</code></td></tr></table>\n",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437899",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde"><code>5663f77</code></a></td><td><code>Properly compute girth for directed graphs</code></td></tr></table>




---

archive/issue_comments_437900.json:
```json
{
    "body": "Author: **Jano\u0161 Vidali**",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437900",
    "user": "https://github.com/jaanos"
}
```

Author: **Jano≈° Vidali**



---

archive/issue_events_383267.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:52:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383267"
}
```



---

archive/issue_comments_437901.json:
```json
{
    "body": "Commit: **[`5663f77`](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)**",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437901",
    "user": "https://github.com/jaanos"
}
```

Commit: **[`5663f77`](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)**



---

archive/issue_comments_437902.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI will add the doctests in the next commit. Should I also add a `_girth_bfs` method in `generic_graphs.py` (which would raise `NotImplementedError`)?",
    "created_at": "2019-07-09T12:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437902",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:3" align="right">comment:3</div>

I will add the doctests in the next commit. Should I also add a `_girth_bfs` method in `generic_graphs.py` (which would raise `NotImplementedError`)?



---

archive/issue_events_383268.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:54:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383268"
}
```



---

archive/issue_comments_437903.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35\"><code>3e7f1da</code></a></td><td><code>Bugfixes and doctests</code></td></tr></table>\n",
    "created_at": "2019-07-10T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437903",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35"><code>3e7f1da</code></a></td><td><code>Bugfixes and doctests</code></td></tr></table>




---

archive/issue_comments_437904.json:
```json
{
    "body": "Changed commit from **[`5663f77`](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)** to **[`3e7f1da`](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)**",
    "created_at": "2019-07-10T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5663f77`](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)** to **[`3e7f1da`](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)**



---

archive/issue_comments_437905.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSome quick comments:\n\n- references must be put in file `src/doc/en/reference/references/index.rst`. Then you can cite them in the documentation of the methods using `[Har62]_` and `[Biggs93]_`.\n\n- in input blocks, the correct format is:\n\n```diff\n-        - ``odd`` -- whether to compute the odd girth (default: ``False``).\n+        - ``odd`` -- boolean (default: ``False``); whether to compute the odd girth\n```\n\n- in `generic_graph.py`, why not extending method `girth` by adding it parameter `odd` and then call the appropriate method for graph or digraph or bipartite graph or ... \n\n- Is it possible to add parameter `certificate` in these methods to return the cycle, if any ?",
    "created_at": "2019-07-10T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437905",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

Some quick comments:

- references must be put in file `src/doc/en/reference/references/index.rst`. Then you can cite them in the documentation of the methods using `[Har62]_` and `[Biggs93]_`.

- in input blocks, the correct format is:

```diff
-        - ``odd`` -- whether to compute the odd girth (default: ``False``).
+        - ``odd`` -- boolean (default: ``False``); whether to compute the odd girth
```

- in `generic_graph.py`, why not extending method `girth` by adding it parameter `odd` and then call the appropriate method for graph or digraph or bipartite graph or ... 

- Is it possible to add parameter `certificate` in these methods to return the cycle, if any ?



---

archive/issue_comments_437906.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for the feedback! Will fix the references and input.\n\nRegarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.\n\nRegarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?",
    "created_at": "2019-07-10T10:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437906",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for the feedback! Will fix the references and input.

Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.

Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?



---

archive/issue_comments_437907.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.\n\nThat would be nice.\nIn case, we also have a specific class for bipartite graphs in `bipartitie_graph.py`\n \n> Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?\n\nIf the method only returns an upper bound, then yes, as long as it is clearly documented. Otherwise, you can simply add a todo block letting this task for future work.",
    "created_at": "2019-07-10T10:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437907",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

> Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.

That would be nice.
In case, we also have a specific class for bipartite graphs in `bipartitie_graph.py`
 
> Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?

If the method only returns an upper bound, then yes, as long as it is clearly documented. Otherwise, you can simply add a todo block letting this task for future work.



---

archive/issue_comments_437908.json:
```json
{
    "body": "Changed commit from **[`3e7f1da`](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)** to **[`997bed9`](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)**",
    "created_at": "2019-07-10T15:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437908",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3e7f1da`](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)** to **[`997bed9`](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)**



---

archive/issue_comments_437909.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2f1713b6c039e409ae6c68fceb5663c9ad77c67\"><code>f2f1713</code></a></td><td><code>Move _girth_bfs to generic_graph.py to support BipartiteGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45e50b54a76a24891dc8590d5c493b8eb4d7c034\"><code>45e50b5</code></a></td><td><code>Put references in reference list, docstring fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c\"><code>997bed9</code></a></td><td><code>Add option to return certificate</code></td></tr></table>\n",
    "created_at": "2019-07-10T15:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437909",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2f1713b6c039e409ae6c68fceb5663c9ad77c67"><code>f2f1713</code></a></td><td><code>Move _girth_bfs to generic_graph.py to support BipartiteGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45e50b54a76a24891dc8590d5c493b8eb4d7c034"><code>45e50b5</code></a></td><td><code>Put references in reference list, docstring fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c"><code>997bed9</code></a></td><td><code>Add option to return certificate</code></td></tr></table>




---

archive/issue_comments_437910.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK, I've moved the main algorithm to `generic_graph.py`, fixed the references, and added certificates. I'm not sure any more that having a parameter `odd` on the `girth` method would be good - it is there for `_girth_bfs` since the method is used for both, but as concepts (and therefore public methods) I think it's best to keep them separate.",
    "created_at": "2019-07-10T15:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437910",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:9" align="right">comment:9</div>

OK, I've moved the main algorithm to `generic_graph.py`, fixed the references, and added certificates. I'm not sure any more that having a parameter `odd` on the `girth` method would be good - it is there for `_girth_bfs` since the method is used for both, but as concepts (and therefore public methods) I think it's best to keep them separate.



---

archive/issue_events_383269.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-10T15:49:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383269"
}
```



---

archive/issue_events_383270.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-10T15:49:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383270"
}
```



---

archive/issue_comments_437911.json:
```json
{
    "body": "Changed keywords from none to **fpsac2019**",
    "created_at": "2019-07-11T08:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437911",
    "user": "https://github.com/jaanos"
}
```

Changed keywords from none to **fpsac2019**



---

archive/issue_comments_437912.json:
```json
{
    "body": "Changed branch from **[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)** to **[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)**",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437912",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)** to **[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)**



---

archive/issue_comments_437913.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI took the liberty to edit your code and push it in a new branch (in `public/` so that you can modify it as well).\n\nI did various small corrections and added several doctests (for instance for small cases).\n\nPlease check that every think is fine and that the documentation builds properly and displays nicely.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f00ebbe67fa091ef03caa5d95a7cb25c3a17f179\"><code>f00ebbe</code></a></td><td><code>trac #28142: Merged with 8.9.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf5f63692a489963b83706a404bb3c469a6b7f05\"><code>cf5f636</code></a></td><td><code>trac #28142: improve references</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd2de112df36c6d95f7d953bacabd289c4c5c5a5\"><code>bd2de11</code></a></td><td><code>trac #28142: minor edit in digraph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65626143cbe974f3fb9adeefcbb17be6e759577e\"><code>6562614</code></a></td><td><code>trac #28142: review edit in generic_graph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332\"><code>301c12a</code></a></td><td><code>trac #28142: review edit in generic_graph.py (2)</code></td></tr></table>\n",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437913",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">comment:11</div>

I took the liberty to edit your code and push it in a new branch (in `public/` so that you can modify it as well).

I did various small corrections and added several doctests (for instance for small cases).

Please check that every think is fine and that the documentation builds properly and displays nicely.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f00ebbe67fa091ef03caa5d95a7cb25c3a17f179"><code>f00ebbe</code></a></td><td><code>trac #28142: Merged with 8.9.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf5f63692a489963b83706a404bb3c469a6b7f05"><code>cf5f636</code></a></td><td><code>trac #28142: improve references</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd2de112df36c6d95f7d953bacabd289c4c5c5a5"><code>bd2de11</code></a></td><td><code>trac #28142: minor edit in digraph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65626143cbe974f3fb9adeefcbb17be6e759577e"><code>6562614</code></a></td><td><code>trac #28142: review edit in generic_graph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332"><code>301c12a</code></a></td><td><code>trac #28142: review edit in generic_graph.py (2)</code></td></tr></table>




---

archive/issue_comments_437914.json:
```json
{
    "body": "Changed commit from **[`997bed9`](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)** to **[`301c12a`](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)**",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437914",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`997bed9`](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)** to **[`301c12a`](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)**



---

archive/issue_comments_437915.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437915",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_437916.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d\"><code>03b5839</code></a></td><td><code>\"Compute\" -> \"Return\" in method index</code></td></tr></table>\n",
    "created_at": "2019-07-15T09:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437916",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d"><code>03b5839</code></a></td><td><code>"Compute" -> "Return" in method index</code></td></tr></table>




---

archive/issue_comments_437917.json:
```json
{
    "body": "Changed commit from **[`301c12a`](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)** to **[`03b5839`](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)**",
    "created_at": "2019-07-15T09:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437917",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`301c12a`](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)** to **[`03b5839`](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)**



---

archive/issue_comments_437918.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThanks, everything looks fine to me! I have just changed two words in the `Graph` method index.",
    "created_at": "2019-07-15T09:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437918",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:13" align="right">comment:13</div>

Thanks, everything looks fine to me! I have just changed two words in the `Graph` method index.



---

archive/issue_comments_437919.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThere is a failing doctest reported by the patchbot\n\n```\nsage -t --long src/sage/categories/category.py\n**********************************************************************\nFile \"src/sage/categories/category.py\", line 806, in sage.categories.category.Category.is_abelian.category_graph\nFailed example:\n    G.girth()\nExpected:\n    4\nGot:\n    +Infinity\n```",
    "created_at": "2019-07-15T12:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437919",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

There is a failing doctest reported by the patchbot

```
sage -t --long src/sage/categories/category.py
**********************************************************************
File "src/sage/categories/category.py", line 806, in sage.categories.category.Category.is_abelian.category_graph
Failed example:
    G.girth()
Expected:
    4
Got:
    +Infinity
```



---

archive/issue_events_383271.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-15T12:49:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383271"
}
```



---

archive/issue_events_383272.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-15T12:49:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383272"
}
```



---

archive/issue_comments_437920.json:
```json
{
    "body": "Changed commit from **[`03b5839`](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)** to **[`71c7dce`](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)**",
    "created_at": "2019-07-15T13:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437920",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`03b5839`](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)** to **[`71c7dce`](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)**



---

archive/issue_comments_437921.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f\"><code>71c7dce</code></a></td><td><code>Fix failing doctest</code></td></tr></table>\n",
    "created_at": "2019-07-15T13:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437921",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f"><code>71c7dce</code></a></td><td><code>Fix failing doctest</code></td></tr></table>




---

archive/issue_comments_437922.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe doctest generated a directed acyclic graph, so its girth is now correctly reported as infinite. I have changed the doctest to compute the girth of its underlying undirected graph.",
    "created_at": "2019-07-15T13:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437922",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:16" align="right">comment:16</div>

The doctest generated a directed acyclic graph, so its girth is now correctly reported as infinite. I have changed the doctest to compute the girth of its underlying undirected graph.



---

archive/issue_events_383273.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-15T13:24:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383273"
}
```



---

archive/issue_events_383274.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-15T13:24:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383274"
}
```



---

archive/issue_comments_437923.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou should add a comment explaining that the girth of a DAG is infinite, and that the girth of the underlying undirected graph is 4 in this case.",
    "created_at": "2019-07-15T13:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437923",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:17" align="right">comment:17</div>

You should add a comment explaining that the girth of a DAG is infinite, and that the girth of the underlying undirected graph is 4 in this case.



---

archive/issue_comments_437924.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c\"><code>41a135a</code></a></td><td><code>Add explanation for the girth of the category DAG</code></td></tr></table>\n",
    "created_at": "2019-07-16T11:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437924",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c"><code>41a135a</code></a></td><td><code>Add explanation for the girth of the category DAG</code></td></tr></table>




---

archive/issue_comments_437925.json:
```json
{
    "body": "Changed commit from **[`71c7dce`](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)** to **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**",
    "created_at": "2019-07-16T11:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`71c7dce`](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)** to **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**



---

archive/issue_comments_437926.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nOK, done. I have also fixed the indenting of the `category_graph` method.",
    "created_at": "2019-07-16T11:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437926",
    "user": "https://github.com/jaanos"
}
```

<div id="comment:19" align="right">comment:19</div>

OK, done. I have also fixed the indenting of the `category_graph` method.



---

archive/issue_comments_437927.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nLGTM. Thanks.",
    "created_at": "2019-07-16T14:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437927",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:20" align="right">comment:20</div>

LGTM. Thanks.



---

archive/issue_events_383275.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-16T14:16:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383275"
}
```



---

archive/issue_events_383276.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-16T14:16:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383276"
}
```



---

archive/issue_events_383277.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:10:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383277"
}
```



---

archive/issue_events_383278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10b03c4baaefa54efc796503016125f53886bbaa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-20T09:10:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-383278"
}
```



---

archive/issue_comments_437928.json:
```json
{
    "body": "Changed branch from **[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)** to **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**",
    "created_at": "2019-07-20T09:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-437928",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)** to **[`41a135a`](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)**
