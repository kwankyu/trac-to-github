# Issue 28326: Restore default term state after printing environment variables

archive/issues_028089.json:
```json
{
    "body": "Terminal may be pollute color sequences in environment variables during build.\nBasically, my build log is full green.\n\nThis can be avoided by restoring default color after the dump of variables.\n\n**CC:**  @embray\n\n**Branch/Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)\n\n**Reviewer:** Erik Bray\n\n**Author:** Henri Derycke\n\nIssue created by migration from https://trac.sagemath.org/ticket/28326\n\n",
    "closed_at": "2019-12-20T22:45:53Z",
    "created_at": "2019-08-06T12:13:25Z",
    "labels": [
        "component: build",
        "trivial",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "title": "Restore default term state after printing environment variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/28326",
    "user": "https://github.com/nheir"
}
```
Terminal may be pollute color sequences in environment variables during build.
Basically, my build log is full green.

This can be avoided by restoring default color after the dump of variables.

**CC:**  @embray

**Branch/Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)

**Reviewer:** Erik Bray

**Author:** Henri Derycke

Issue created by migration from https://trac.sagemath.org/ticket/28326





---

archive/issue_comments_444203.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765\">671efa7</a></td><td><code>restore terminal default colors</code></td></tr></table>\n",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444203",
    "user": "https://github.com/nheir"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765">671efa7</a></td><td><code>restore terminal default colors</code></td></tr></table>




---

archive/issue_comments_444204.json:
```json
{
    "body": "**Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444204",
    "user": "https://github.com/nheir"
}
```

**Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)



---

archive/issue_comments_444205.json:
```json
{
    "body": "**Branch:** [u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444205",
    "user": "https://github.com/nheir"
}
```

**Branch:** [u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)



---

archive/issue_comments_444206.json:
```json
{
    "body": "<a id='comment:2'></a>\nwhile this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.\nI cannot test it on other OS.",
    "created_at": "2019-08-06T12:22:42Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444206",
    "user": "https://github.com/nheir"
}
```

<a id='comment:2'></a>
while this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.
I cannot test it on other OS.



---

archive/issue_events_252892.json:
```json
{
    "actor": "https://github.com/nheir",
    "created_at": "2019-08-06T12:23:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252892"
}
```



---

archive/issue_comments_444207.json:
```json
{
    "body": "**Reviewer:** Erik Bray",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444207",
    "user": "https://github.com/embray"
}
```

**Reviewer:** Erik Bray



---

archive/issue_events_252893.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252893"
}
```



---

archive/issue_events_252894.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252894"
}
```



---

archive/issue_comments_444208.json:
```json
{
    "body": "<a id='comment:5'></a>\nMakes sense, thanks.",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444208",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Makes sense, thanks.



---

archive/issue_events_252895.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252895"
}
```



---

archive/issue_events_252896.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252896"
}
```



---

archive/issue_events_252897.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-16T23:27:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252897"
}
```



---

archive/issue_events_252898.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-16T23:27:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252898"
}
```



---

archive/issue_comments_444209.json:
```json
{
    "body": "<a id='comment:6'></a>\nAuthor name is missing",
    "created_at": "2019-12-16T23:27:39Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444209",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
Author name is missing



---

archive/issue_comments_444210.json:
```json
{
    "body": "<a id='comment:7'></a>\nhderycke, is this your correct full name ?",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444210",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
hderycke, is this your correct full name ?



---

archive/issue_comments_444211.json:
```json
{
    "body": "**Author:** Henri Derycke",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444211",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Henri Derycke



---

archive/issue_events_252899.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-17T12:51:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252899"
}
```



---

archive/issue_events_252900.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-17T12:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252900"
}
```



---

archive/issue_events_252901.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-20T22:45:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252901"
}
```



---

archive/issue_events_252902.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b299043fd2bdc8626bb6f89c367255e4af4915c6",
    "created_at": "2019-12-20T22:45:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28326#event-252902"
}
```



---

archive/issue_comments_444212.json:
```json
{
    "body": "**Changing branch** from \"[u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)\" to \"[671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)\".",
    "created_at": "2019-12-20T22:45:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28326#issuecomment-444212",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)" to "[671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)".
