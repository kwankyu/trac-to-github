# Issue 25604: adding a .toric_variety method to fans

archive/issues_025367.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nas this is more convenient sometimes than using `ToricVariety(fan)`\n\nComponent: **geometry**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**\n\nReviewer: **Andrey Novoseltsev**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/25604_\n\n",
    "closed_at": "2018-06-23T19:58:29Z",
    "created_at": "2018-06-19T07:23:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "adding a .toric_variety method to fans",
    "type": "issue",
    "updated_at": "2018-06-23T19:58:29Z",
    "url": "https://github.com/sagemath/sage/issues/25604",
    "user": "https://github.com/fchapoton"
}
```
<div id="comment:0"></div>

as this is more convenient sometimes than using `ToricVariety(fan)`

Component: **geometry**

Author: **Frédéric Chapoton**

Branch/Commit: **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**

Reviewer: **Andrey Novoseltsev**

_Issue created by migration from https://trac.sagemath.org/ticket/25604_





---

archive/issue_events_351371.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:23:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351371"
}
```



---

archive/issue_events_351372.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351372"
}
```



---

archive/issue_events_351373.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351373"
}
```



---

archive/issue_events_351374.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351374"
}
```



---

archive/issue_events_351375.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T07:24:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351375"
}
```



---

archive/issue_comments_393257.json:
```json
{
    "body": "Branch: **[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)**",
    "created_at": "2018-06-19T07:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393257",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)**



---

archive/issue_comments_393258.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9\"><code>3cb770a</code></a></td><td><code>adding .toric_variety method for fans</code></td></tr></table>\n",
    "created_at": "2018-06-19T07:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393258",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9"><code>3cb770a</code></a></td><td><code>adding .toric_variety method for fans</code></td></tr></table>




---

archive/issue_comments_393259.json:
```json
{
    "body": "Commit: **[`3cb770a`](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)**",
    "created_at": "2018-06-19T07:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393259",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`3cb770a`](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)**



---

archive/issue_events_351376.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-19T13:38:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351376"
}
```



---

archive/issue_events_351377.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-19T13:38:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351377"
}
```



---

archive/issue_comments_393260.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2018-06-19T13:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393260",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_comments_393261.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.",
    "created_at": "2018-06-19T13:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393261",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:2" align="right">comment:2</div>

I am not quite sure how it is more convenient (apart from TAB-completion), but can you please pass `*args, **kwds` to the constructor? Then these will be two ways for the same functionality.



---

archive/issue_comments_393262.json:
```json
{
    "body": "Changed commit from **[`3cb770a`](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)** to **[`110667e`](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)**",
    "created_at": "2018-06-19T13:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393262",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3cb770a`](https://github.com/sagemath/sagetrac-mirror/commit/3cb770a8789fe17713a87bb493d1452bb70c5cc9)** to **[`110667e`](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)**



---

archive/issue_comments_393263.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be\"><code>110667e</code></a></td><td><code>adding *args and **kwds to .toric_variety</code></td></tr></table>\n",
    "created_at": "2018-06-19T13:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be"><code>110667e</code></a></td><td><code>adding *args and **kwds to .toric_variety</code></td></tr></table>




---

archive/issue_events_351378.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T13:54:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351378"
}
```



---

archive/issue_events_351379.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-19T13:54:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351379"
}
```



---

archive/issue_comments_393264.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nthanks ! Done.",
    "created_at": "2018-06-19T13:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393264",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

thanks ! Done.



---

archive/issue_comments_393265.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCould you please set to positive, if you agree ?\n\nBy the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?\n\n```\nsage: F = eventail_own(4)\nsage: V = ToricVariety(F)\nsage: d = sum(V.Kaehler_cone().rays())\nsage: d\nDivisor class [-3, 4, 1, 4, 1, 4, 4]\n```\n\nEDIT:\n\nok, I have found what I was looking for:\n\n```\nd.lift().polyhedron()\n```",
    "created_at": "2018-06-20T09:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393265",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

Could you please set to positive, if you agree ?

By the way, I would like to find the polytope associated to an ample divisor class (polytope of sections of the associated line bundle). Do you have any idea on how to do that in sage ?

```
sage: F = eventail_own(4)
sage: V = ToricVariety(F)
sage: d = sum(V.Kaehler_cone().rays())
sage: d
Divisor class [-3, 4, 1, 4, 1, 4, 4]
```

EDIT:

ok, I have found what I was looking for:

```
d.lift().polyhedron()
```



---

archive/issue_comments_393266.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.\n\nI am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.",
    "created_at": "2018-06-20T17:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393266",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't agree - there should be INPUT and OUTPUT and the documentation should clearly state that `F.toric_variety(...)` is equivalent to `ToricVariety(F, ...)` and so it is just a shortcut for convenience.

I am still not convinced that it is necessary - those who know about fans presumably do know about toric varieties as well and can figure out how to construct them, but there is no harm and since you find it useful, others may as well.



---

archive/issue_events_351380.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T17:21:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351380"
}
```



---

archive/issue_events_351381.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T17:21:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351381"
}
```



---

archive/issue_comments_393267.json:
```json
{
    "body": "Changed commit from **[`110667e`](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)** to **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**",
    "created_at": "2018-06-20T17:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`110667e`](https://github.com/sagemath/sagetrac-mirror/commit/110667e984035ca8272e12f790f91a446092a0be)** to **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**



---

archive/issue_comments_393268.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35\"><code>665fdf1</code></a></td><td><code>trac 25604 adding documentation for .toric_variety</code></td></tr></table>\n",
    "created_at": "2018-06-20T17:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393268",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35"><code>665fdf1</code></a></td><td><code>trac 25604 adding documentation for .toric_variety</code></td></tr></table>




---

archive/issue_comments_393269.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks. I think it is useful. The lack of this has bothered me for a long time.\n\nI have added some documentation, as suggested.",
    "created_at": "2018-06-20T17:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393269",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks. I think it is useful. The lack of this has bothered me for a long time.

I have added some documentation, as suggested.



---

archive/issue_events_351382.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-20T17:58:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351382"
}
```



---

archive/issue_events_351383.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-20T17:58:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351383"
}
```



---

archive/issue_events_351384.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T19:21:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351384"
}
```



---

archive/issue_events_351385.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2018-06-20T19:21:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351385"
}
```



---

archive/issue_comments_393270.json:
```json
{
    "body": "Changed branch from **[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)** to **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**",
    "created_at": "2018-06-23T19:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/25604#issuecomment-393270",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/25604](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/25604)** to **[`665fdf1`](https://github.com/sagemath/sagetrac-mirror/commit/665fdf1a0d6f74a51786f17cca63318a99171a35)**



---

archive/issue_events_351386.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-23T19:58:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351386"
}
```



---

archive/issue_events_351387.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a4b485aba5828c6ed35e929085c91baeda347a78",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-23T19:58:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/25604",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/25604#event-351387"
}
```
