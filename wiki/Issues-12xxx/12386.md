# Issue 12386: [ARM] pickling issues in the matrix_mod2_dense code

archive/issues_012214.json:
```json
{
    "body": "As discussed on the sage-devel mailing-list, that code uses \"char\" to read&write pickles on all platforms.\n\nUnfortunately on ARM, \"char\" means \"unsigned char\", while on most other platforms, it means \"signed char\".\n\nThe solution is to make that code use \"signed char\" explicitly ; that way we unbreak the ARM pickles.\n\n**Assignee:** @williamstein\n\n**Author:** Julien Puydt\n\n**Reviewer:** Martin Albrecht\n\n**Merged:** sage-5.0.beta3\n\nIssue created by migration from https://trac.sagemath.org/ticket/12386\n\n",
    "closed_at": "2012-02-06T21:27:02Z",
    "created_at": "2012-01-30T09:32:34Z",
    "labels": [
        "component: pickling",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "title": "[ARM] pickling issues in the matrix_mod2_dense code",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/12386",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```
As discussed on the sage-devel mailing-list, that code uses "char" to read&write pickles on all platforms.

Unfortunately on ARM, "char" means "unsigned char", while on most other platforms, it means "signed char".

The solution is to make that code use "signed char" explicitly ; that way we unbreak the ARM pickles.

**Assignee:** @williamstein

**Author:** Julien Puydt

**Reviewer:** Martin Albrecht

**Merged:** sage-5.0.beta3

Issue created by migration from https://trac.sagemath.org/ticket/12386





---

archive/issue_comments_137618.json:
```json
{
    "body": "Use \"signed char\" in matrix_mod2_dense for portability",
    "created_at": "2012-01-30T09:33:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137618",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

Use "signed char" in matrix_mod2_dense for portability



---

archive/issue_events_102084.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-01-30T15:08:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102084"
}
```



---

archive/attachments_017224.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "pickle.patch",
    "asset_url": "tarball://root/attachments/ticket12386/pickle.patch",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12386/pickle.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_137619.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Attachment:** [pickle.patch](https://github.com/sagemath/sage/files/ticket12386/pickle.patch)\n\nChanges look reasonable, if this passes tests it should go in. Hence, positive review for now.",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137619",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>
**Attachment:** [pickle.patch](https://github.com/sagemath/sage/files/ticket12386/pickle.patch)

Changes look reasonable, if this passes tests it should go in. Hence, positive review for now.



---

archive/issue_comments_137620.json:
```json
{
    "body": "**Reviewer:** Martin Albrecht",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137620",
    "user": "https://github.com/malb"
}
```

**Reviewer:** Martin Albrecht



---

archive/issue_events_102085.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-01-30T15:09:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102085"
}
```



---

archive/issue_events_102086.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-01-30T15:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102086"
}
```



---

archive/issue_comments_137621.json:
```json
{
    "body": "<a id='comment:3'></a>\nPatches should be made using \"hg export tip\" or similar, not \"hg diff\".  Please re-upload a proper Mercurial changeset with a meaningful commit message.",
    "created_at": "2012-02-03T11:39:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137621",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Patches should be made using "hg export tip" or similar, not "hg diff".  Please re-upload a proper Mercurial changeset with a meaningful commit message.



---

archive/issue_events_102087.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-03T11:39:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102087"
}
```



---

archive/issue_events_102088.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-03T11:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102088"
}
```



---

archive/issue_comments_137622.json:
```json
{
    "body": "hg export tip version of the patch",
    "created_at": "2012-02-03T12:01:56Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137622",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

hg export tip version of the patch



---

archive/attachments_017225.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "pickle.2.patch",
    "asset_url": "tarball://root/attachments/ticket12386/pickle.2.patch",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12386/pickle.2.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_137623.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Attachment:** [pickle.2.patch](https://github.com/sagemath/sage/files/ticket12386/pickle.2.patch)",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137623",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
**Attachment:** [pickle.2.patch](https://github.com/sagemath/sage/files/ticket12386/pickle.2.patch)



---

archive/issue_events_102089.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-06T15:58:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102089"
}
```



---

archive/issue_events_102090.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-06T15:58:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102090"
}
```



---

archive/issue_comments_137624.json:
```json
{
    "body": "**Author:** Julien Puydt",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137624",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Julien Puydt



---

archive/issue_events_102091.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-06T21:27:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102091"
}
```



---

archive/issue_events_102092.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-06T21:27:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12386#event-102092"
}
```



---

archive/issue_comments_137625.json:
```json
{
    "body": "**Merged:** sage-5.0.beta3",
    "created_at": "2012-02-06T21:27:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12386#issuecomment-137625",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.0.beta3
