# Issue 17956: Put back stopgap for IntegerListsLex

archive/issues_017719.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nAs shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898.\n\nFor a real solution to the problem with `IntegerListsLex`, see #17920 and #17979.\n\nCC:  @nathanncohen @anneschilling @tscrim\n\nComponent: **combinatorics**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/17956_\n\n",
    "closed_at": "2015-04-13T17:47:33Z",
    "created_at": "2015-03-14T14:40:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Put back stopgap for IntegerListsLex",
    "type": "issue",
    "updated_at": "2015-04-13T17:47:33Z",
    "url": "https://github.com/sagemath/sage/issues/17956",
    "user": "https://github.com/jdemeyer"
}
```
<div id="comment:0"></div>

As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898.

For a real solution to the problem with `IntegerListsLex`, see #17920 and #17979.

CC:  @nathanncohen @anneschilling @tscrim

Component: **combinatorics**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/17956_





---

archive/issue_events_253226.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-14T14:40:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253226"
}
```



---

archive/issue_events_253227.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-14T14:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253227"
}
```



---

archive/issue_events_253228.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-14T14:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253228"
}
```



---

archive/issue_events_253229.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-14T14:40:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253229"
}
```



---

archive/issue_comments_243365.json:
```json
{
    "body": "Branch: **[u/jdemeyer/stopgap_for_partitions_compositions](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/stopgap_for_partitions_compositions)**",
    "created_at": "2015-03-14T14:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243365",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/stopgap_for_partitions_compositions](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/stopgap_for_partitions_compositions)**



---

archive/issue_comments_243366.json:
```json
{
    "body": "Commit: **[`df36580`](https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb)**",
    "created_at": "2015-03-14T14:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243366",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`df36580`](https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb)**



---

archive/issue_events_253230.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-14T14:45:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253230"
}
```



---

archive/issue_comments_243367.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2015-03-14T14:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243367",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_243368.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb\"><code>df36580</code></a></td><td><code>Stopgap for Partitions() and Compositions()</code></td></tr></table>\n",
    "created_at": "2015-03-14T14:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243368",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb"><code>df36580</code></a></td><td><code>Stopgap for Partitions() and Compositions()</code></td></tr></table>




---

archive/issue_comments_243369.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis is madness. The very function which returns wrong results has no stopgap, and now we find ourselves adding stopgaps to all functions that call it.",
    "created_at": "2015-03-14T16:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243369",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

This is madness. The very function which returns wrong results has no stopgap, and now we find ourselves adding stopgaps to all functions that call it.



---

archive/issue_comments_243370.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWhat's the alternative, reverting #17898? I wouldn't mind...",
    "created_at": "2015-03-14T16:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243370",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

What's the alternative, reverting #17898? I wouldn't mind...



---

archive/issue_comments_243371.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nPerhaps we should do that. I mean: get rid of `IntegerListsLexPublic`, and have a flag in `IntegerListsLex` saying \"I don't want to see the warning\". At least we list not have to manually change the imports. Someone proposed that in the mailing lists at some point.\n\nWe would buy peace by just making the crystal code call these things without warning.\n\nNathann",
    "created_at": "2015-03-14T16:46:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243371",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Perhaps we should do that. I mean: get rid of `IntegerListsLexPublic`, and have a flag in `IntegerListsLex` saying "I don't want to see the warning". At least we list not have to manually change the imports. Someone proposed that in the mailing lists at some point.

We would buy peace by just making the crystal code call these things without warning.

Nathann



---

archive/issue_comments_243372.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSince there is a SageDays on algebraic combinatorics next week, maybe some of the experts in the field can form a plan. I tentatively added it as a project to http://wiki.sagemath.org/days64, though I won't be there.",
    "created_at": "2015-03-14T17:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243372",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

Since there is a SageDays on algebraic combinatorics next week, maybe some of the experts in the field can form a plan. I tentatively added it as a project to http://wiki.sagemath.org/days64, though I won't be there.



---

archive/issue_comments_243373.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nShould we close this ticket ? Really, adding warnings to the functions that call `IntegerListsLex` is a bad way out... We need to solve the actual problem.\n\nNathann",
    "created_at": "2015-03-25T16:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243373",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Should we close this ticket ? Really, adding warnings to the functions that call `IntegerListsLex` is a bad way out... We need to solve the actual problem.

Nathann



---

archive/issue_events_253231.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-25T16:33:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253231"
}
```



---

archive/issue_events_253232.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-25T16:33:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253232"
}
```



---

archive/issue_events_253233.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-25T16:33:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "title_is": "Put back stopgap for IntegerListsLex",
    "title_was": "Stopgap for Partitions/Compositions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253233"
}
```



---

archive/issue_comments_243374.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Since `Partitions` and `Compositions` are just wrappers around `IntegerListsLex`, they inherit all the known bugs of that function, see #17548. Therefore, those functions should also use `IntegerListsLexPublic` with the stopgap from #17898.\n+As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898,\n``````\n",
    "created_at": "2015-03-25T16:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243374",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Since `Partitions` and `Compositions` are just wrappers around `IntegerListsLex`, they inherit all the known bugs of that function, see #17548. Therefore, those functions should also use `IntegerListsLexPublic` with the stopgap from #17898.
+As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898,
``````




---

archive/issue_comments_243375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898,\n+As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898.\n+\n+For a real solution to the problem with `IntegerListsLex`, see #17920 and #17979.\n``````\n",
    "created_at": "2015-03-25T16:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243375",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898,
+As shown in #17548, there are still plenty of bugs in `Partitions` and `Compositions`, so we should undo the `IntegerListsLexPublic` stuff introduced in #17898.
+
+For a real solution to the problem with `IntegerListsLex`, see #17920 and #17979.
``````




---

archive/issue_events_253234.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-12T11:23:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253234"
}
```



---

archive/issue_events_253235.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-12T11:23:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253235"
}
```



---

archive/issue_events_253236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-12T11:23:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253236"
}
```



---

archive/issue_comments_243376.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI guess we can close this as fixed...",
    "created_at": "2015-04-12T11:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243376",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

I guess we can close this as fixed...



---

archive/issue_comments_243377.json:
```json
{
    "body": "Changed author from **Jeroen Demeyer** to none",
    "created_at": "2015-04-12T11:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243377",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Jeroen Demeyer** to none



---

archive/issue_comments_243378.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI concur.",
    "created_at": "2015-04-12T11:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243378",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

I concur.



---

archive/issue_comments_243379.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2015-04-12T11:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243379",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_243380.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/stopgap_for_partitions_compositions](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/stopgap_for_partitions_compositions)** to none",
    "created_at": "2015-04-12T11:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243380",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/jdemeyer/stopgap_for_partitions_compositions](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/stopgap_for_partitions_compositions)** to none



---

archive/issue_comments_243381.json:
```json
{
    "body": "Changed commit from **[`df36580`](https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb)** to none",
    "created_at": "2015-04-12T11:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/17956#issuecomment-243381",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`df36580`](https://github.com/sagemath/sagetrac-mirror/commit/df36580013de99675ecd3899a31945af27d818eb)** to none



---

archive/issue_events_253237.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-04-12T11:42:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253237"
}
```



---

archive/issue_events_253238.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2015-04-12T11:42:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253238"
}
```



---

archive/issue_events_253239.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-13T17:47:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253239"
}
```



---

archive/issue_events_253240.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-13T17:47:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/17956",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/17956#event-253240"
}
```
