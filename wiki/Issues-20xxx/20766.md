# Issue 20766: avoid using maxima simplex algo in lattice_polytope

archive/issues_020529.json:
```json
{
    "body": "currently we are using maxima through pexpect in lattice_plytope\n\nlet us instead go through the generic MILP setting\n\n**CC:**  @rwst\n\n**Branch/Commit:** [0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/20766\n\n",
    "closed_at": "2016-06-08T12:29:49Z",
    "created_at": "2016-06-03T08:06:09Z",
    "labels": [
        "component: geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "title": "avoid using maxima simplex algo in lattice_polytope",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/20766",
    "user": "https://github.com/fchapoton"
}
```
currently we are using maxima through pexpect in lattice_plytope

let us instead go through the generic MILP setting

**CC:**  @rwst

**Branch/Commit:** [0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)

**Reviewer:** Matthias Koeppe

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/20766





---

archive/issue_comments_303643.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc\">c954f72</a></td><td><code>avoid using maxima linear programming in lattice polytopes</code></td></tr></table>\n",
    "created_at": "2016-06-03T08:06:38Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303643",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc">c954f72</a></td><td><code>avoid using maxima linear programming in lattice polytopes</code></td></tr></table>




---

archive/issue_comments_303644.json:
```json
{
    "body": "**Branch:** [u/chapoton/20766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20766)",
    "created_at": "2016-06-03T08:06:38Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303644",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/20766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20766)



---

archive/issue_comments_303645.json:
```json
{
    "body": "**Commit:** [c954f72d1122987151294c2ff92e917b97cde1bc](https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc)",
    "created_at": "2016-06-03T08:06:38Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303645",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [c954f72d1122987151294c2ff92e917b97cde1bc](https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc)



---

archive/issue_comments_303646.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1\">d3a0a1b</a></td><td><code>trac 20766 remove try except</code></td></tr></table>\n",
    "created_at": "2016-06-03T08:13:55Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1">d3a0a1b</a></td><td><code>trac 20766 remove try except</code></td></tr></table>




---

archive/issue_comments_303647.json:
```json
{
    "body": "**Changing commit** from \"[c954f72d1122987151294c2ff92e917b97cde1bc](https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc)\" to \"[d3a0a1b2c663c396f49871c1ebf0d6199302feb1](https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1)\".",
    "created_at": "2016-06-03T08:13:55Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c954f72d1122987151294c2ff92e917b97cde1bc](https://github.com/sagemath/sagetrac-mirror/commit/c954f72d1122987151294c2ff92e917b97cde1bc)" to "[d3a0a1b2c663c396f49871c1ebf0d6199302feb1](https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1)".



---

archive/issue_comments_303648.json:
```json
{
    "body": "**Changing commit** from \"[d3a0a1b2c663c396f49871c1ebf0d6199302feb1](https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1)\" to \"[b922d16ad3c2563d4224220e504d83c2d11e58fb](https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb)\".",
    "created_at": "2016-06-03T09:34:02Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d3a0a1b2c663c396f49871c1ebf0d6199302feb1](https://github.com/sagemath/sagetrac-mirror/commit/d3a0a1b2c663c396f49871c1ebf0d6199302feb1)" to "[b922d16ad3c2563d4224220e504d83c2d11e58fb](https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb)".



---

archive/issue_comments_303649.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb\">b922d16</a></td><td><code>trac 20766 correcting the code</code></td></tr></table>\n",
    "created_at": "2016-06-03T09:34:02Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb">b922d16</a></td><td><code>trac 20766 correcting the code</code></td></tr></table>




---

archive/issue_comments_303650.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b\">76cc74d</a></td><td><code>trac 20766 removing maxima imports and specific functions</code></td></tr></table>\n",
    "created_at": "2016-06-03T09:43:26Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b">76cc74d</a></td><td><code>trac 20766 removing maxima imports and specific functions</code></td></tr></table>




---

archive/issue_comments_303651.json:
```json
{
    "body": "**Changing commit** from \"[b922d16ad3c2563d4224220e504d83c2d11e58fb](https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb)\" to \"[76cc74d9506298b9db06067fcaf98d86a2e8963b](https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b)\".",
    "created_at": "2016-06-03T09:43:26Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b922d16ad3c2563d4224220e504d83c2d11e58fb](https://github.com/sagemath/sagetrac-mirror/commit/b922d16ad3c2563d4224220e504d83c2d11e58fb)" to "[76cc74d9506298b9db06067fcaf98d86a2e8963b](https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b)".



---

archive/issue_events_187721.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-03T09:45:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187721"
}
```



---

archive/issue_comments_303652.json:
```json
{
    "body": "<a id='comment:5'></a>\nok, ready for review",
    "created_at": "2016-06-03T09:45:42Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303652",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok, ready for review



---

archive/issue_comments_303653.json:
```json
{
    "body": "<a id='comment:6'></a>\nShould use an LP for this, not an IP. \n\nAlso, since input is exact, consider requesting an exact LP solver by using `base_ring=QQ` when you set up the `MixedIntegerLinearProgram`.",
    "created_at": "2016-06-03T12:55:13Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303653",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Should use an LP for this, not an IP. 

Also, since input is exact, consider requesting an exact LP solver by using `base_ring=QQ` when you set up the `MixedIntegerLinearProgram`.



---

archive/issue_events_187722.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-03T12:55:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187722"
}
```



---

archive/issue_events_187723.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-03T12:55:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187723"
}
```



---

archive/issue_comments_303654.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2\">4ce5bce</a></td><td><code>trac 20766 using base_ring=QQ</code></td></tr></table>\n",
    "created_at": "2016-06-03T13:02:32Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2">4ce5bce</a></td><td><code>trac 20766 using base_ring=QQ</code></td></tr></table>




---

archive/issue_comments_303655.json:
```json
{
    "body": "**Changing commit** from \"[76cc74d9506298b9db06067fcaf98d86a2e8963b](https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b)\" to \"[4ce5bce3fd6118832305a6efa90a81f4605ee2e2](https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2)\".",
    "created_at": "2016-06-03T13:02:32Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76cc74d9506298b9db06067fcaf98d86a2e8963b](https://github.com/sagemath/sagetrac-mirror/commit/76cc74d9506298b9db06067fcaf98d86a2e8963b)" to "[4ce5bce3fd6118832305a6efa90a81f4605ee2e2](https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2)".



---

archive/issue_comments_303656.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@mkoeppe](#comment%3A6):\n> Should use an LP for this, not an IP. \n\nNot sure what you mean. So far, I have not thought about what this is doing, but\nonly on how to redo what that there before without using maxima.\n\nIf you have precise suggestions, please make them as explicit as possible.",
    "created_at": "2016-06-03T13:05:48Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303656",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Replying to [@mkoeppe](#comment%3A6):
> Should use an LP for this, not an IP. 

Not sure what you mean. So far, I have not thought about what this is doing, but
only on how to redo what that there before without using maxima.

If you have precise suggestions, please make them as explicit as possible.



---

archive/issue_comments_303657.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe old code, using Maxima, calls the simplex method to solve an LP. \nYour code uses `new_variable(integer=True, ...)` to solve an IP. \nThere's a fundamental difference between an LP and and IP.",
    "created_at": "2016-06-03T13:50:23Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303657",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
The old code, using Maxima, calls the simplex method to solve an LP. 
Your code uses `new_variable(integer=True, ...)` to solve an IP. 
There's a fundamental difference between an LP and and IP.



---

archive/issue_comments_303658.json:
```json
{
    "body": "<a id='comment:10'></a>\nok, please pardon my dumb ignorance, but what does IP stands for ?\nLP is for linear program, right ?\n\nAre you saying that I should use something else than MILP ? If so, what ?",
    "created_at": "2016-06-03T13:54:26Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303658",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
ok, please pardon my dumb ignorance, but what does IP stands for ?
LP is for linear program, right ?

Are you saying that I should use something else than MILP ? If so, what ?



---

archive/issue_comments_303659.json:
```json
{
    "body": "<a id='comment:11'></a>\nLP = Linear Program = all variables real (continuous)\nI(L)P = Integer (Linear) Program = all variables integer\nMI(L)P = Mixed Integer (Linear) Program = some variables integer, some variables real.\n\nI'm saying that you should use `new_variable` with `continuous=True` if you want to imitate whatever it was that the Maxima simplex algorithm did.",
    "created_at": "2016-06-03T13:59:47Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303659",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
LP = Linear Program = all variables real (continuous)
I(L)P = Integer (Linear) Program = all variables integer
MI(L)P = Mixed Integer (Linear) Program = some variables integer, some variables real.

I'm saying that you should use `new_variable` with `continuous=True` if you want to imitate whatever it was that the Maxima simplex algorithm did.



---

archive/issue_comments_303660.json:
```json
{
    "body": "**Changing commit** from \"[4ce5bce3fd6118832305a6efa90a81f4605ee2e2](https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2)\" to \"[4b5be0381886ea21142be12dbcad2be2976ba916](https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916)\".",
    "created_at": "2016-06-03T14:02:09Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4ce5bce3fd6118832305a6efa90a81f4605ee2e2](https://github.com/sagemath/sagetrac-mirror/commit/4ce5bce3fd6118832305a6efa90a81f4605ee2e2)" to "[4b5be0381886ea21142be12dbcad2be2976ba916](https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916)".



---

archive/issue_comments_303661.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916\">4b5be03</a></td><td><code>trac 20766 using continuous variables</code></td></tr></table>\n",
    "created_at": "2016-06-03T14:02:09Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916">4b5be03</a></td><td><code>trac 20766 using continuous variables</code></td></tr></table>




---

archive/issue_comments_303662.json:
```json
{
    "body": "**Changing commit** from \"[4b5be0381886ea21142be12dbcad2be2976ba916](https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916)\" to \"[702134c3c9a152a679ee40a4a073d7fb6c31da23](https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23)\".",
    "created_at": "2016-06-03T14:05:08Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4b5be0381886ea21142be12dbcad2be2976ba916](https://github.com/sagemath/sagetrac-mirror/commit/4b5be0381886ea21142be12dbcad2be2976ba916)" to "[702134c3c9a152a679ee40a4a073d7fb6c31da23](https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23)".



---

archive/issue_comments_303663.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23\">702134c</a></td><td><code>trac 20766 using integer=False</code></td></tr></table>\n",
    "created_at": "2016-06-03T14:05:08Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23">702134c</a></td><td><code>trac 20766 using integer=False</code></td></tr></table>




---

archive/issue_events_187724.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-03T14:07:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187724"
}
```



---

archive/issue_events_187725.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-03T14:07:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187725"
}
```



---

archive/issue_comments_303664.json:
```json
{
    "body": "<a id='comment:14'></a>\nok, thanks for your patience. It should be good now.",
    "created_at": "2016-06-03T14:07:11Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303664",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
ok, thanks for your patience. It should be good now.



---

archive/issue_comments_303665.json:
```json
{
    "body": "<a id='comment:15'></a>\n\n```\nx = [ZZ(k) for k in MIP.get_values(w).values()[:n]]\n```\nI think the results will be rational, can't just coerce to `ZZ`.",
    "created_at": "2016-06-03T15:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303665",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>

```
x = [ZZ(k) for k in MIP.get_values(w).values()[:n]]
```
I think the results will be rational, can't just coerce to `ZZ`.



---

archive/issue_events_187726.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-03T15:42:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187726"
}
```



---

archive/issue_events_187727.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-03T15:42:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187727"
}
```



---

archive/issue_comments_303666.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd\">0c20221</a></td><td><code>trac 20766 removed casting to ZZ (plus added a future import)</code></td></tr></table>\n",
    "created_at": "2016-06-03T18:46:33Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd">0c20221</a></td><td><code>trac 20766 removed casting to ZZ (plus added a future import)</code></td></tr></table>




---

archive/issue_comments_303667.json:
```json
{
    "body": "**Changing commit** from \"[702134c3c9a152a679ee40a4a073d7fb6c31da23](https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23)\" to \"[0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)\".",
    "created_at": "2016-06-03T18:46:33Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[702134c3c9a152a679ee40a4a073d7fb6c31da23](https://github.com/sagemath/sagetrac-mirror/commit/702134c3c9a152a679ee40a4a073d7fb6c31da23)" to "[0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)".



---

archive/issue_events_187728.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-03T18:48:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187728"
}
```



---

archive/issue_events_187729.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-06-03T18:48:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187729"
}
```



---

archive/issue_comments_303668.json:
```json
{
    "body": "<a id='comment:18'></a>\nI removed the cast to ZZ.\n\nAnd also I added `from `__future__` import absolute_import`, to help transition to py3.\nAll the imports in the file are ready for this, so this is safe.",
    "created_at": "2016-06-03T18:48:09Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303668",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
I removed the cast to ZZ.

And also I added `from `__future__` import absolute_import`, to help transition to py3.
All the imports in the file are ready for this, so this is safe.



---

archive/issue_comments_303669.json:
```json
{
    "body": "<a id='comment:19'></a>\npatchbot is green",
    "created_at": "2016-06-04T07:16:36Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303669",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
patchbot is green



---

archive/issue_comments_303670.json:
```json
{
    "body": "<a id='comment:20'></a>\n**ping** ?",
    "created_at": "2016-06-07T17:55:19Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303670",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
**ping** ?



---

archive/issue_events_187730.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-07T18:05:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187730"
}
```



---

archive/issue_events_187731.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-06-07T18:05:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187731"
}
```



---

archive/issue_comments_303671.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2016-06-07T18:05:37Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303671",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_303672.json:
```json
{
    "body": "<a id='comment:21'></a>\nLooks good now.",
    "created_at": "2016-06-07T18:05:37Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303672",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Looks good now.



---

archive/issue_comments_303673.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/20766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20766)\" to \"[0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)\".",
    "created_at": "2016-06-08T12:29:49Z",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/20766#issuecomment-303673",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/20766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/20766)" to "[0c20221d9fe08c14fc4254100a8d0334f49fbebd](https://github.com/sagemath/sagetrac-mirror/commit/0c20221d9fe08c14fc4254100a8d0334f49fbebd)".



---

archive/issue_events_187732.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-06-08T12:29:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187732"
}
```



---

archive/issue_events_187733.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a23659e3133eb8356e6256eb334d188609c9868b",
    "created_at": "2016-06-08T12:29:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/20766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/20766#event-187733"
}
```
