# Issue 33706: GIAC kills process 1 in ctrl_c_signal_handler

archive/issues_033469.json:
```json
{
    "body": "On `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/5962279659)\n\n```\nsage -t --random-seed=156404901056981760924144629149815074678 src/sage/tests/cmdline.py\n    [216 tests, 73.54 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 3739.0 seconds\n    cpu time: 6427.0 seconds\n    cumulative wall time: 10155.6 seconds\nFeatures detected for doctesting: gfan,nauty,palp,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx\n============================= test session starts ==============================\nplatform linux -- Python 3.10.4, pytest-7.1.1, pluggy-1.0.0\nrootdir: /sage/src, configfile: tox.ini\ncollected 26 items / 104 skipped\n\nsrc/sage/manifolds/differentiable/symplectic_form_test.py .............. [ 53%]\n........                                                                 [ 84%]\nsrc/sage/manifolds/differentiable/examples/symplectic_space_test.py .... [100%]\n\n================= 26 passed, 104 skipped in 102.79s (0:01:42) ==================\nThe command '/bin/sh -c make SAGE_SPKG=\"sage-spkg -y -o\" ${USE_MAKEFLAGS} ${TARGETS_OPTIONAL} || echo \"(error ignored)\"' returned a non-zero code: 130\n```\n\nLikewise on `gitpod-standard`, `debian-bookworm-standard`, `linuxmint-20.1-standard`.\n\n\nOn `linuxmint-19-standard` (https://github.com/sagemath/sage/runs/5962280173?check_suite_focus=true), the exit code is 2. \n\n\n\n**CC:**  @tobiasdiez @orlitzky parisse @tornaria @vbraun @dimpase\n\n**Branch:** [ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)\n\n**Reviewer:** Volker Braun\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/33706\n\n",
    "closed_at": "2022-04-19T20:34:06Z",
    "created_at": "2022-04-14T00:41:34Z",
    "labels": [
        "component: doctest framework",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "title": "GIAC kills process 1 in ctrl_c_signal_handler",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/33706",
    "user": "https://github.com/mkoeppe"
}
```
On `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/5962279659)

```
sage -t --random-seed=156404901056981760924144629149815074678 src/sage/tests/cmdline.py
    [216 tests, 73.54 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 3739.0 seconds
    cpu time: 6427.0 seconds
    cumulative wall time: 10155.6 seconds
Features detected for doctesting: gfan,nauty,palp,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx
============================= test session starts ==============================
platform linux -- Python 3.10.4, pytest-7.1.1, pluggy-1.0.0
rootdir: /sage/src, configfile: tox.ini
collected 26 items / 104 skipped

src/sage/manifolds/differentiable/symplectic_form_test.py .............. [ 53%]
........                                                                 [ 84%]
src/sage/manifolds/differentiable/examples/symplectic_space_test.py .... [100%]

================= 26 passed, 104 skipped in 102.79s (0:01:42) ==================
The command '/bin/sh -c make SAGE_SPKG="sage-spkg -y -o" ${USE_MAKEFLAGS} ${TARGETS_OPTIONAL} || echo "(error ignored)"' returned a non-zero code: 130
```

Likewise on `gitpod-standard`, `debian-bookworm-standard`, `linuxmint-20.1-standard`.


On `linuxmint-19-standard` (https://github.com/sagemath/sage/runs/5962280173?check_suite_focus=true), the exit code is 2. 



**CC:**  @tobiasdiez @orlitzky parisse @tornaria @vbraun @dimpase

**Branch:** [ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)

**Reviewer:** Volker Braun

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/33706





---

archive/issue_comments_547429.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-https://github.com/sagemath/sage/runs/5962279659?check_suite_focus=true\n+On `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/5962279659)\n \n ```\n sage -t --random-seed=156404901056981760924144629149815074678 src/sage/tests/cmdline.py\n@@ -23,3 +23,9 @@\n The command '/bin/sh -c make SAGE_SPKG=\"sage-spkg -y -o\" ${USE_MAKEFLAGS} ${TARGETS_OPTIONAL} || echo \"(error ignored)\"' returned a non-zero code: 130\n ```\n \n+Likewise on `gitpod-standard`, `debian-bookworm-standard`, `linuxmint-20.1-standard`.\n+\n+\n+On `linuxmint-19-standard` (https://github.com/sagemath/sage/runs/5962280173?check_suite_focus=true), the exit code is 2. \n+\n+\n``````\n",
    "created_at": "2022-04-14T00:51:41Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547429",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-https://github.com/sagemath/sage/runs/5962279659?check_suite_focus=true
+On `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/5962279659)
 
 ```
 sage -t --random-seed=156404901056981760924144629149815074678 src/sage/tests/cmdline.py
@@ -23,3 +23,9 @@
 The command '/bin/sh -c make SAGE_SPKG="sage-spkg -y -o" ${USE_MAKEFLAGS} ${TARGETS_OPTIONAL} || echo "(error ignored)"' returned a non-zero code: 130
 ```
 
+Likewise on `gitpod-standard`, `debian-bookworm-standard`, `linuxmint-20.1-standard`.
+
+
+On `linuxmint-19-standard` (https://github.com/sagemath/sage/runs/5962280173?check_suite_focus=true), the exit code is 2. 
+
+
``````




---

archive/issue_comments_547430.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe exit code 130 from the shell is rather mysterious. Not sure if it really has anything to do with pytest.\n\nIt appears to be non-deterministic. I have reproduced it in the container (`docker run -it docker.pkg.github.com/sagemath/sage/sage-docker-gitpod-standard-with-targets-optional:9.6.rc0-failed bash`) after adding some `print` calls to `src/bin/sage-runtests` to see what the return values of the Sage doctester and pytest are.\n\n```\ngitpod ~/sage $ /bin/sh -c 'make SAGE_SPKG=\"sage-spkg -y -o\" ${USE_MAKEFLAGS} ptest-nodoc || echo \"(error ignored)\"'\n----------------------------------------------------------------------\nsage -t --warn-long 102.2 --random-seed=17067963460848597109909214796612832081 src/sage/manifolds/differentiable/tensorfield.py  # Timed out\nsage -t --warn-long 102.2 --random-seed=17067963460848597109909214796612832081 src/sage/interfaces/expect.py  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1677.6 seconds\n    cpu time: 13605.8 seconds\n    cumulative wall time: 24340.6 seconds\nFeatures detected for doctesting: gfan,imagemagick,nauty,palp,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx\nERR=5\n============================================================ test session starts =============================================================\nplatform linux -- Python 3.8.10, pytest-7.1.1, pluggy-1.0.0\nrootdir: /home/gitpod/sage/src, configfile: tox.ini\ncollected 26 items / 104 skipped                                                                                                             \n\nsrc/sage/manifolds/differentiable/symplectic_form_test.py ......................                                                       [ 84%]\nsrc/sage/manifolds/differentiable/examples/symplectic_space_test.py ....                                                               [100%]\n\n================================================ 26 passed, 104 skipped in 104.61s (0:01:44) =================================================\nexit_code_pytest=0\nmake: *** [Makefile:287: ptest-nodoc] Error 5\n(error ignored)\n\ngitpod ~/sage $ echo $?\n130\ngitpod ~/sage $ ls -l /bin/sh\nlrwxrwxrwx 1 root root 4 Jul 18  2019 /bin/sh -> dash\n```\nI think it may be specific to the shell that is used on the systems where the failure was observed.",
    "created_at": "2022-04-14T23:20:46Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547430",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
The exit code 130 from the shell is rather mysterious. Not sure if it really has anything to do with pytest.

It appears to be non-deterministic. I have reproduced it in the container (`docker run -it docker.pkg.github.com/sagemath/sage/sage-docker-gitpod-standard-with-targets-optional:9.6.rc0-failed bash`) after adding some `print` calls to `src/bin/sage-runtests` to see what the return values of the Sage doctester and pytest are.

```
gitpod ~/sage $ /bin/sh -c 'make SAGE_SPKG="sage-spkg -y -o" ${USE_MAKEFLAGS} ptest-nodoc || echo "(error ignored)"'
----------------------------------------------------------------------
sage -t --warn-long 102.2 --random-seed=17067963460848597109909214796612832081 src/sage/manifolds/differentiable/tensorfield.py  # Timed out
sage -t --warn-long 102.2 --random-seed=17067963460848597109909214796612832081 src/sage/interfaces/expect.py  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1677.6 seconds
    cpu time: 13605.8 seconds
    cumulative wall time: 24340.6 seconds
Features detected for doctesting: gfan,imagemagick,nauty,palp,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sagemath_doc_html,sphinx
ERR=5
============================================================ test session starts =============================================================
platform linux -- Python 3.8.10, pytest-7.1.1, pluggy-1.0.0
rootdir: /home/gitpod/sage/src, configfile: tox.ini
collected 26 items / 104 skipped                                                                                                             

src/sage/manifolds/differentiable/symplectic_form_test.py ......................                                                       [ 84%]
src/sage/manifolds/differentiable/examples/symplectic_space_test.py ....                                                               [100%]

================================================ 26 passed, 104 skipped in 104.61s (0:01:44) =================================================
exit_code_pytest=0
make: *** [Makefile:287: ptest-nodoc] Error 5
(error ignored)

gitpod ~/sage $ echo $?
130
gitpod ~/sage $ ls -l /bin/sh
lrwxrwxrwx 1 root root 4 Jul 18  2019 /bin/sh -> dash
```
I think it may be specific to the shell that is used on the systems where the failure was observed.



---

archive/issue_events_303742.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-15T06:17:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "rename": {
        "from": "sage -t: Bad exit code from pytest",
        "to": "sage -t src/sage/calculus/calculus.py: Exit code 130"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303742"
}
```



---

archive/issue_comments_547431.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe problem can be reproduced about 1 in 5 times using `/bin/bash -c './sage -t src/sage/calculus/calculus.py'`. \n\nA `giac` process sends SIGINT to the whole process group, sometimes succeeding to take down the calling `bash`, which then gives exit code 130.",
    "created_at": "2022-04-15T06:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547431",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
The problem can be reproduced about 1 in 5 times using `/bin/bash -c './sage -t src/sage/calculus/calculus.py'`. 

A `giac` process sends SIGINT to the whole process group, sometimes succeeding to take down the calling `bash`, which then gives exit code 130.



---

archive/issue_comments_547432.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis might be breakage from #8784",
    "created_at": "2022-04-15T06:51:20Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547432",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
This might be breakage from #8784



---

archive/issue_comments_547433.json:
```json
{
    "body": "<a id='comment:5'></a>\nAn easy way to reproduce: `while true; do /bin/bash -c './sage -t src/sage/calculus/calculus.py'; done` -- this infinite loop ends in a finite number of iterations",
    "created_at": "2022-04-15T21:57:11Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547433",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
An easy way to reproduce: `while true; do /bin/bash -c './sage -t src/sage/calculus/calculus.py'; done` -- this infinite loop ends in a finite number of iterations



---

archive/issue_comments_547434.json:
```json
{
    "body": "<a id='comment:6'></a>\nWith binary search I have obtained the following simple reproducer:\n\n```\nwhile true; do ./sage -c \"k, n = var('k,n'); from sage.calculus.calculus import symbolic_sum; print(symbolic_sum(1/(1+k^2), k, -oo, oo, algorithm = 'giac')); print(gp.eval('intnum(x=17,42,exp(-x^2)*log(x))'))\"; done\n```",
    "created_at": "2022-04-15T22:47:29Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547434",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
With binary search I have obtained the following simple reproducer:

```
while true; do ./sage -c "k, n = var('k,n'); from sage.calculus.calculus import symbolic_sum; print(symbolic_sum(1/(1+k^2), k, -oo, oo, algorithm = 'giac')); print(gp.eval('intnum(x=17,42,exp(-x^2)*log(x))'))"; done
```



---

archive/issue_comments_547435.json:
```json
{
    "body": "<a id='comment:7'></a>\nEven simpler:\n\n```\nwhile true; do ./sage -c \"print(giac.eval('1')); print(gp.eval('2'))\"; done\n```",
    "created_at": "2022-04-15T22:50:29Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547435",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Even simpler:

```
while true; do ./sage -c "print(giac.eval('1')); print(gp.eval('2'))"; done
```



---

archive/issue_comments_547436.json:
```json
{
    "body": "<a id='comment:8'></a>\n`gp` can also be replaced with `maxima` or `singular` with same results.\n\nSome stracing:\n\n```\n$ while true; do rm -f STRAC*; strace -ff -o STRACE ./sage -c \"print(giac.eval('1')); print(gp.eval('2'))\"; done\n1\n2\n\ngitpod ~/sage $ echo $?\n130\n$ grep kill STRA*\n...\nSTRACE.99696:kill(1, SIGINT)                         = 0\n...\nSTRACE.99732:kill(-99700, SIGCONT)                   = 0\nSTRACE.99732:kill(-99700, SIGINT)                    = -1 ESRCH (No such process)\nSTRACE.99733:kill(-99696, SIGCONT)                   = 0\nSTRACE.99733:kill(-99696, SIGINT)                    = 0\nSTRACE.99733:kill(-99696, SIGHUP)                    = -1 ESRCH (No such process)\n```\n99696 is the `giac` process.",
    "created_at": "2022-04-16T00:55:08Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547436",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
`gp` can also be replaced with `maxima` or `singular` with same results.

Some stracing:

```
$ while true; do rm -f STRAC*; strace -ff -o STRACE ./sage -c "print(giac.eval('1')); print(gp.eval('2'))"; done
1
2

gitpod ~/sage $ echo $?
130
$ grep kill STRA*
...
STRACE.99696:kill(1, SIGINT)                         = 0
...
STRACE.99732:kill(-99700, SIGCONT)                   = 0
STRACE.99732:kill(-99700, SIGINT)                    = -1 ESRCH (No such process)
STRACE.99733:kill(-99696, SIGCONT)                   = 0
STRACE.99733:kill(-99696, SIGINT)                    = 0
STRACE.99733:kill(-99696, SIGHUP)                    = -1 ESRCH (No such process)
```
99696 is the `giac` process.



---

archive/issue_events_303743.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-16T04:42:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "rename": {
        "from": "sage -t src/sage/calculus/calculus.py: Exit code 130",
        "to": "GIAC kills process 1 in ctrl_c_signal_handler"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303743"
}
```



---

archive/issue_comments_547437.json:
```json
{
    "body": "<a id='comment:9'></a>\n`@`parisse\nThis is happening in https://github.com/geogebra/giac/blob/c2058a0c8921af8a762f6fbede1354b974bf5a70/src/giac/cpp/global.cc#L3761 (although we are still on GIAC 1.6). Somehow `child_id` is 1 and it ends up killing the whole process group with SIGINT.",
    "created_at": "2022-04-16T04:42:13Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547437",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
`@`parisse
This is happening in https://github.com/geogebra/giac/blob/c2058a0c8921af8a762f6fbede1354b974bf5a70/src/giac/cpp/global.cc#L3761 (although we are still on GIAC 1.6). Somehow `child_id` is 1 and it ends up killing the whole process group with SIGINT.



---

archive/issue_comments_547438.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@mkoeppe](#comment%3A7):\n> Even simpler:\n> \n> ```\n> while true; do ./sage -c \"print(giac.eval('1')); print(gp.eval('2'))\"; done\n> ```\n\nfor me that loop never ends when giac is 1.7.0.47",
    "created_at": "2022-04-16T06:55:05Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547438",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:11'></a>
Replying to [@mkoeppe](#comment%3A7):
> Even simpler:
> 
> ```
> while true; do ./sage -c "print(giac.eval('1')); print(gp.eval('2'))"; done
> ```

for me that loop never ends when giac is 1.7.0.47



---

archive/issue_comments_547439.json:
```json
{
    "body": "<a id='comment:12'></a>\nI'll try with the upgrade ticket #31563 on this platform. Unfortunately the upgrade is stuck",
    "created_at": "2022-04-16T18:37:34Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547439",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
I'll try with the upgrade ticket #31563 on this platform. Unfortunately the upgrade is stuck



---

archive/issue_comments_547440.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@mkoeppe](#comment%3A7):\n> Even simpler:\n> \n> ```\n> while true; do ./sage -c \"print(giac.eval('1')); print(gp.eval('2'))\"; done\n> ```\n\nNo failure here, tested with giac 1.7.0-53 or 1.9.0-5.",
    "created_at": "2022-04-16T19:43:17Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547440",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:13'></a>
Replying to [@mkoeppe](#comment%3A7):
> Even simpler:
> 
> ```
> while true; do ./sage -c "print(giac.eval('1')); print(gp.eval('2'))"; done
> ```

No failure here, tested with giac 1.7.0-53 or 1.9.0-5.



---

archive/issue_comments_547441.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler)",
    "created_at": "2022-04-17T19:26:03Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547441",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler)



---

archive/issue_events_303744.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:27:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303744"
}
```



---

archive/issue_events_303745.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:27:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303745"
}
```



---

archive/issue_comments_547442.json:
```json
{
    "body": "<a id='comment:15'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855\">ecd3895</a></td><td><code>build/pkgs/giac/patches/0001-src-global.cc-Do-not-send-SIGINT-to-process-1.patch: New</code></td></tr></table>\n",
    "created_at": "2022-04-17T19:27:17Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547442",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855">ecd3895</a></td><td><code>build/pkgs/giac/patches/0001-src-global.cc-Do-not-send-SIGINT-to-process-1.patch: New</code></td></tr></table>




---

archive/issue_comments_547443.json:
```json
{
    "body": "**Commit:** [ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)",
    "created_at": "2022-04-17T19:27:17Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547443",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)



---

archive/issue_comments_547444.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2022-04-17T19:27:17Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547444",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_303746.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:27:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303746"
}
```



---

archive/issue_comments_547445.json:
```json
{
    "body": "<a id='comment:16'></a>\nWe won't be able to do the upgrade for Sage 9.6 because Cygwin support is unresolved.\nSo here is a hotfix.",
    "created_at": "2022-04-17T19:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547445",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
We won't be able to do the upgrade for Sage 9.6 because Cygwin support is unresolved.
So here is a hotfix.



---

archive/issue_comments_547446.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2022-04-18T21:04:13Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547446",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_events_303747.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-18T21:04:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303747"
}
```



---

archive/issue_events_303748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-18T21:04:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303748"
}
```



---

archive/issue_comments_547447.json:
```json
{
    "body": "<a id='comment:19'></a>\nThanks!",
    "created_at": "2022-04-18T21:17:53Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547447",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Thanks!



---

archive/issue_events_303749.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-04-19T20:34:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303749"
}
```



---

archive/issue_events_303750.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9da7c13c6970e13984373574ed04410134120370",
    "created_at": "2022-04-19T20:34:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/33706#event-303750"
}
```



---

archive/issue_comments_547448.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler)\" to \"[ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)\".",
    "created_at": "2022-04-19T20:34:06Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547448",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/giac_kills_process_1_in_ctrl_c_signal_handler)" to "[ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)".



---

archive/issue_comments_547449.json:
```json
{
    "body": "**Changing commit** from \"[ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)\" to \"\".",
    "created_at": "2022-04-30T20:00:59Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547449",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[ecd3895717f1e6434771b670fb710a29613c0855](https://github.com/sagemath/sagetrac-mirror/commit/ecd3895717f1e6434771b670fb710a29613c0855)" to "".



---

archive/issue_comments_547450.json:
```json
{
    "body": "<a id='comment:21'></a>\nThis (unsurprisingly) still happens in 9.6.rc3 on systems where the system giac is used: `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/6236167662, 1.7.0.39+dfsg2-1build2) and `debian-sid-standard`.",
    "created_at": "2022-04-30T20:00:59Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547450",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
This (unsurprisingly) still happens in 9.6.rc3 on systems where the system giac is used: `ubuntu-jammy-standard` (https://github.com/sagemath/sage/runs/6236167662, 1.7.0.39+dfsg2-1build2) and `debian-sid-standard`.



---

archive/issue_comments_547451.json:
```json
{
    "body": "<a id='comment:22'></a>\nFollow-up = #33848",
    "created_at": "2022-05-13T15:40:15Z",
    "issue": "https://github.com/sagemath/sage/issues/33706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/33706#issuecomment-547451",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Follow-up = #33848
