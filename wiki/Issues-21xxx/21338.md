# Issue 21338: implement the poset of intervals of a poset

archive/issues_021101.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nthis is a useful construction to have\n\nCC:  @jm58660\n\nComponent: **combinatorics**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**\n\nReviewer: **Jori M\u00e4ntysalo**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21338_\n\n",
    "closed_at": "2016-08-30T06:46:17Z",
    "created_at": "2016-08-25T20:17:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement the poset of intervals of a poset",
    "type": "issue",
    "updated_at": "2016-08-30T06:46:17Z",
    "url": "https://github.com/sagemath/sage/issues/21338",
    "user": "https://github.com/fchapoton"
}
```
<div id="comment:0"></div>

this is a useful construction to have

CC:  @jm58660

Component: **combinatorics**

Author: **Frédéric Chapoton**

Branch/Commit: **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**

Reviewer: **Jori Mäntysalo**

_Issue created by migration from https://trac.sagemath.org/ticket/21338_





---

archive/issue_events_297326.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297326"
}
```



---

archive/issue_events_297327.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297327"
}
```



---

archive/issue_events_297328.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297328"
}
```



---

archive/issue_events_297329.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297329"
}
```



---

archive/issue_comments_312171.json:
```json
{
    "body": "Branch: **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)**",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312171",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)**



---

archive/issue_comments_312172.json:
```json
{
    "body": "Commit: **[`d40082a`](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)**",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312172",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`d40082a`](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)**



---

archive/issue_comments_312173.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28\"><code>d40082a</code></a></td><td><code>implement the poset of intervals of a poset</code></td></tr></table>\n",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312173",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28"><code>d40082a</code></a></td><td><code>implement the poset of intervals of a poset</code></td></tr></table>




---

archive/issue_comments_312174.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nGood idea.\n\n- I think that this needs seealso-crosslinks with `sublattices_lattice()`.\n- Should return type be lattice when `self` is of type lattice? Compare for example to `dual()`.\n- We really should have a guideline whether to use `self` or \"the thing\" at docstrings. This now conflicts with other functions at `posets.py`.",
    "created_at": "2016-08-25T20:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312174",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:2" align="right">comment:2</div>

Good idea.

- I think that this needs seealso-crosslinks with `sublattices_lattice()`.
- Should return type be lattice when `self` is of type lattice? Compare for example to `dual()`.
- We really should have a guideline whether to use `self` or "the thing" at docstrings. This now conflicts with other functions at `posets.py`.



---

archive/issue_comments_312175.json:
```json
{
    "body": "Changed commit from **[`d40082a`](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)** to **[`da1e421`](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)**",
    "created_at": "2016-08-26T06:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312175",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d40082a`](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)** to **[`da1e421`](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)**



---

archive/issue_comments_312176.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697\"><code>da1e421</code></a></td><td><code>trac 21338 more work on posets of intervals</code></td></tr></table>\n",
    "created_at": "2016-08-26T06:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312176",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697"><code>da1e421</code></a></td><td><code>trac 21338 more work on posets of intervals</code></td></tr></table>




---

archive/issue_comments_312177.json:
```json
{
    "body": "Changed commit from **[`da1e421`](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)** to **[`9edc860`](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)**",
    "created_at": "2016-08-26T07:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312177",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`da1e421`](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)** to **[`9edc860`](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)**



---

archive/issue_comments_312178.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60\"><code>9edc860</code></a></td><td><code>trac 21338 more work, not successful</code></td></tr></table>\n",
    "created_at": "2016-08-26T07:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312178",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60"><code>9edc860</code></a></td><td><code>trac 21338 more work, not successful</code></td></tr></table>




---

archive/issue_comments_312179.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381\"><code>0894939</code></a></td><td><code>trac 21338 ready for review</code></td></tr></table>\n",
    "created_at": "2016-08-26T11:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312179",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381"><code>0894939</code></a></td><td><code>trac 21338 ready for review</code></td></tr></table>




---

archive/issue_comments_312180.json:
```json
{
    "body": "Changed commit from **[`9edc860`](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)** to **[`0894939`](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)**",
    "created_at": "2016-08-26T11:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312180",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9edc860`](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)** to **[`0894939`](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)**



---

archive/issue_events_297330.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-26T11:32:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297330"
}
```



---

archive/issue_comments_312181.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nok, ready for review now",
    "created_at": "2016-08-26T11:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312181",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

ok, ready for review now



---

archive/issue_comments_312182.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nTests passed, nothing wrong with the code etc. The function does what it says to do, so I could put this to positive review. And the code is fast -- good work!\n\nBut where is this \"natural partial order\" defined? I would have guessed from the name that it means a poset where `[a,b] <= [c,d]` iff `a >= c` and `b <= d`. Then for lattices it would be lattice of convex sublattices, hence a sublattice of lattice of (all) sublattices. That's why I suggested seealso-crosslinks; sorry for not reading this carefully.",
    "created_at": "2016-08-28T04:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312182",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:7" align="right">comment:7</div>

Tests passed, nothing wrong with the code etc. The function does what it says to do, so I could put this to positive review. And the code is fast -- good work!

But where is this "natural partial order" defined? I would have guessed from the name that it means a poset where `[a,b] <= [c,d]` iff `a >= c` and `b <= d`. Then for lattices it would be lattice of convex sublattices, hence a sublattice of lattice of (all) sublattices. That's why I suggested seealso-crosslinks; sorry for not reading this carefully.



---

archive/issue_comments_312183.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is natural in the following sense:\n\na poset is a category, a morphism of posets is a functor, a morphism between morphisms of posets is a natural transformation.\n\nSo if posets are understood in the proper language, there is no real choice for\na natural definition of a partial order on the morphisms from 2 to P.\n\nShould I remove the cross-links ?",
    "created_at": "2016-08-28T06:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312183",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

This is natural in the following sense:

a poset is a category, a morphism of posets is a functor, a morphism between morphisms of posets is a natural transformation.

So if posets are understood in the proper language, there is no real choice for
a natural definition of a partial order on the morphisms from 2 to P.

Should I remove the cross-links ?



---

archive/issue_comments_312184.json:
```json
{
    "body": "Reviewer: **Jori M\u00e4ntysalo**",
    "created_at": "2016-08-28T06:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312184",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Jori Mäntysalo**



---

archive/issue_comments_312185.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@fchapoton](#comment%3A8):\n\nExplanation accepted.\n\n> Should I remove the cross-links ?\n\nYes, I guess so. After that you can click *positive_review* on behalf of me.",
    "created_at": "2016-08-28T06:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312185",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@fchapoton](#comment%3A8):

Explanation accepted.

> Should I remove the cross-links ?

Yes, I guess so. After that you can click *positive_review* on behalf of me.



---

archive/issue_comments_312186.json:
```json
{
    "body": "Changed commit from **[`0894939`](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)** to **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**",
    "created_at": "2016-08-28T06:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312186",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0894939`](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)** to **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**



---

archive/issue_comments_312187.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e09a7cb646dd6e46db1509a273efed162684fb8c\"><code>e09a7cb</code></a></td><td><code>Merge branch 'u/chapoton/21338' in 7.4.b2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5\"><code>966bfd4</code></a></td><td><code>trac 21338 removing seealsos</code></td></tr></table>\n",
    "created_at": "2016-08-28T06:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312187",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e09a7cb646dd6e46db1509a273efed162684fb8c"><code>e09a7cb</code></a></td><td><code>Merge branch 'u/chapoton/21338' in 7.4.b2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5"><code>966bfd4</code></a></td><td><code>trac 21338 removing seealsos</code></td></tr></table>




---

archive/issue_comments_312188.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\ndone, thanks. Setting to positive",
    "created_at": "2016-08-28T06:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312188",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

done, thanks. Setting to positive



---

archive/issue_events_297331.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-28T06:54:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297331"
}
```



---

archive/issue_events_297332.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-28T06:54:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297332"
}
```



---

archive/issue_comments_312189.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)** to **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**",
    "created_at": "2016-08-30T06:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-312189",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)** to **[`966bfd4`](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**



---

archive/issue_events_297333.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-30T06:46:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297333"
}
```



---

archive/issue_events_297334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16d505ea86fcfb80d65e20d4a3df8834498d8f91",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-30T06:46:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-297334"
}
```
