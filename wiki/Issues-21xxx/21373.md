# Issue 21373: py3: get rid of imap (step 2/2)

archive/issues_021136.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nsequel of #21364\n\nComponent: **python3**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21373_\n\n",
    "closed_at": "2016-09-04T00:13:41Z",
    "created_at": "2016-08-30T12:20:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: get rid of imap (step 2/2)",
    "type": "issue",
    "updated_at": "2016-09-04T00:13:41Z",
    "url": "https://github.com/sagemath/sage/issues/21373",
    "user": "https://github.com/fchapoton"
}
```
<div id="comment:0"></div>

sequel of #21364

Component: **python3**

Author: **Frédéric Chapoton**

Branch/Commit: **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/21373_





---

archive/issue_events_297750.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T12:20:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297750"
}
```



---

archive/issue_events_297751.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T12:20:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297751"
}
```



---

archive/issue_events_297752.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T12:20:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297752"
}
```



---

archive/issue_events_297753.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T12:20:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297753"
}
```



---

archive/issue_comments_312815.json:
```json
{
    "body": "Branch: **[u/chapoton/21373](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21373)**",
    "created_at": "2016-08-30T12:21:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312815",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21373](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21373)**



---

archive/issue_comments_312816.json:
```json
{
    "body": "Commit: **[`dbce594`](https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076)**",
    "created_at": "2016-08-30T12:21:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312816",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`dbce594`](https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076)**



---

archive/issue_comments_312817.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076\"><code>dbce594</code></a></td><td><code>get rid of imap (step 2/2)</code></td></tr></table>\n",
    "created_at": "2016-08-30T12:21:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312817",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076"><code>dbce594</code></a></td><td><code>get rid of imap (step 2/2)</code></td></tr></table>




---

archive/issue_events_297754.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T12:21:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297754"
}
```



---

archive/issue_events_297755.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-30T14:29:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297755"
}
```



---

archive/issue_events_297756.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-30T14:29:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297756"
}
```



---

archive/issue_comments_312818.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI believe (almost?) all of these could be changed to `foo(x) for x in bar`.",
    "created_at": "2016-08-30T14:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312818",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

I believe (almost?) all of these could be changed to `foo(x) for x in bar`.



---

archive/issue_comments_312819.json:
```json
{
    "body": "Changed commit from **[`dbce594`](https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076)** to **[`245e884`](https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448)**",
    "created_at": "2016-08-30T16:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbce594`](https://github.com/sagemath/sagetrac-mirror/commit/dbce5944fd5a0f0fc9aa12aaf70de584ef18f076)** to **[`245e884`](https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448)**



---

archive/issue_comments_312820.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448\"><code>245e884</code></a></td><td><code>trac 21373 avoiding some maps</code></td></tr></table>\n",
    "created_at": "2016-08-30T16:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448"><code>245e884</code></a></td><td><code>trac 21373 avoiding some maps</code></td></tr></table>




---

archive/issue_comments_312821.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNot really. I have changed 3 of them where this is true.\n\nOther are either iterators, or documentation explaining how to work with iterators, and cannot or should not be changed to avoid map.\n\nIn the file combinat/tutorial, I am sort of undoing a wrong move of mine in a previous ticket, that was not correct in the context of the explanations about iterators.",
    "created_at": "2016-08-30T16:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312821",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

Not really. I have changed 3 of them where this is true.

Other are either iterators, or documentation explaining how to work with iterators, and cannot or should not be changed to avoid map.

In the file combinat/tutorial, I am sort of undoing a wrong move of mine in a previous ticket, that was not correct in the context of the explanations about iterators.



---

archive/issue_events_297757.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T16:10:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297757"
}
```



---

archive/issue_events_297758.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-30T16:10:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297758"
}
```



---

archive/issue_comments_312822.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI've changed the ones that are iterators to either return a generator object or to do the iteration explicitly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed\"><code>d3a2ab2</code></a></td><td><code>Using generators and stuff to avoid map.</code></td></tr></table>\n",
    "created_at": "2016-08-30T19:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312822",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

I've changed the ones that are iterators to either return a generator object or to do the iteration explicitly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed"><code>d3a2ab2</code></a></td><td><code>Using generators and stuff to avoid map.</code></td></tr></table>




---

archive/issue_comments_312823.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21373](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21373)** to **[u/tscrim/remove_imap-21373](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/remove_imap-21373)**",
    "created_at": "2016-08-30T19:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312823",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/chapoton/21373](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21373)** to **[u/tscrim/remove_imap-21373](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/remove_imap-21373)**



---

archive/issue_comments_312824.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-08-30T19:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312824",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_312825.json:
```json
{
    "body": "Changed commit from **[`245e884`](https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448)** to **[`d3a2ab2`](https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed)**",
    "created_at": "2016-08-30T19:51:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312825",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`245e884`](https://github.com/sagemath/sagetrac-mirror/commit/245e8843724fee0e9d33924fd68e0ad7d3f39448)** to **[`d3a2ab2`](https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed)**



---

archive/issue_comments_312826.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nok, I see. Thanks. Looks good. Maybe one should also undo my change from xrange to range in src/sage/combinat/words/word_infinite_datatypes.py\n\notherwise, once the bot is green this is a positive review from me",
    "created_at": "2016-08-30T19:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312826",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

ok, I see. Thanks. Looks good. Maybe one should also undo my change from xrange to range in src/sage/combinat/words/word_infinite_datatypes.py

otherwise, once the bot is green this is a positive review from me



---

archive/issue_comments_312827.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20\"><code>5eed2ab</code></a></td><td><code>Reverting xrange -> range change.</code></td></tr></table>\n",
    "created_at": "2016-08-30T20:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312827",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20"><code>5eed2ab</code></a></td><td><code>Reverting xrange -> range change.</code></td></tr></table>




---

archive/issue_comments_312828.json:
```json
{
    "body": "Changed commit from **[`d3a2ab2`](https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed)** to **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**",
    "created_at": "2016-08-30T20:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312828",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d3a2ab2`](https://github.com/sagemath/sagetrac-mirror/commit/d3a2ab25f249d3ef3c5e9318b24461d3a5631eed)** to **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**



---

archive/issue_comments_312829.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nmaybe it would be worth to revisit #21364 with the idea of trying to avoid map also there..",
    "created_at": "2016-08-31T06:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312829",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

maybe it would be worth to revisit #21364 with the idea of trying to avoid map also there..



---

archive/issue_comments_312830.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nok, bot is green, I allow myself to set to positive review",
    "created_at": "2016-08-31T09:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312830",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

ok, bot is green, I allow myself to set to positive review



---

archive/issue_events_297759.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-31T09:06:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297759"
}
```



---

archive/issue_events_297760.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-31T09:06:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297760"
}
```



---

archive/issue_events_297761.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-04T00:13:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297761"
}
```



---

archive/issue_events_297762.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dd397bb30808a629d7c97773668f67d6f601534b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-09-04T00:13:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21373#event-297762"
}
```



---

archive/issue_comments_312831.json:
```json
{
    "body": "Changed branch from **[u/tscrim/remove_imap-21373](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/remove_imap-21373)** to **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**",
    "created_at": "2016-09-04T00:13:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21373",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21373#issuecomment-312831",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tscrim/remove_imap-21373](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/remove_imap-21373)** to **[`5eed2ab`](https://github.com/sagemath/sagetrac-mirror/commit/5eed2ab23d79fbb0da47d0fd5b7891b1ac190b20)**
