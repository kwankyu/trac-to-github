# Issue 21995: Fix comparison operators of PoorManMap

archive/issues_021758.json:
```json
{
    "body": "PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.\n\nThis ticket implements `__eq__`, `__ne__`, and `__hash__` and makes these not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n\n**Branch/Commit:** [7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)\n\n**Reviewer:** David Roe\n\n**Author:** Julian R\u00fcth\n\nIssue created by migration from https://trac.sagemath.org/ticket/21995\n\n",
    "closed_at": "2016-12-14T23:15:49Z",
    "created_at": "2016-11-29T23:29:19Z",
    "labels": [
        "component: categories",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "title": "Fix comparison operators of PoorManMap",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21995",
    "user": "https://github.com/saraedum"
}
```
PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.

This ticket implements `__eq__`, `__ne__`, and `__hash__` and makes these not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.

**Branch/Commit:** [7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)

**Reviewer:** David Roe

**Author:** Julian RÃ¼th

Issue created by migration from https://trac.sagemath.org/ticket/21995





---

archive/issue_comments_326534.json:
```json
{
    "body": "**Branch:** [u/saraedum/fix_comparison_operators_of_poormanmap](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/fix_comparison_operators_of_poormanmap)",
    "created_at": "2016-11-29T23:32:02Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326534",
    "user": "https://github.com/saraedum"
}
```

**Branch:** [u/saraedum/fix_comparison_operators_of_poormanmap](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/fix_comparison_operators_of_poormanmap)



---

archive/issue_comments_326535.json:
```json
{
    "body": "**Commit:** [0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8](https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8)",
    "created_at": "2016-11-29T23:35:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326535",
    "user": "https://github.com/saraedum"
}
```

**Commit:** [0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8](https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8)



---

archive/issue_comments_326536.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8\">0d0f55d</a></td><td><code>Implement `_richcmp_` and `__hash__` for PoorManMap</code></td></tr></table>\n",
    "created_at": "2016-11-29T23:35:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326536",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8">0d0f55d</a></td><td><code>Implement `_richcmp_` and `__hash__` for PoorManMap</code></td></tr></table>




---

archive/issue_comments_326537.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n PoorManMap currently only implements `__eq__` but not `__hash__` nor `__neq__`.\n \n-This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `__eq__` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n+This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n``````\n",
    "created_at": "2016-11-29T23:35:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326537",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 PoorManMap currently only implements `__eq__` but not `__hash__` nor `__neq__`.
 
-This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `__eq__` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.
+This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.
``````




---

archive/issue_comments_326538.json:
```json
{
    "body": "<a id='comment:3'></a>\nI still have to wait for my sage to build to check that this actually works.",
    "created_at": "2016-11-29T23:42:37Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326538",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:3'></a>
I still have to wait for my sage to build to check that this actually works.



---

archive/issue_events_198406.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-29T23:42:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198406"
}
```



---

archive/issue_comments_326539.json:
```json
{
    "body": "<a id='comment:4'></a>\nI just realized that PoorManMap is inherited from PoorManMapCompose. Got to fix that one as well.",
    "created_at": "2016-11-29T23:43:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326539",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:4'></a>
I just realized that PoorManMap is inherited from PoorManMapCompose. Got to fix that one as well.



---

archive/issue_events_198407.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-29T23:43:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198407"
}
```



---

archive/issue_events_198408.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-29T23:43:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198408"
}
```



---

archive/issue_comments_326540.json:
```json
{
    "body": "**Changing commit** from \"[0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8](https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8)\" to \"[3f20aaa44c15ff93b816fe787742ad60d390f37c](https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c)\".",
    "created_at": "2016-11-29T23:58:21Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8](https://github.com/sagemath/sagetrac-mirror/commit/0d0f55d089dd299bfd36b6b441f142e2fbdd8fd8)" to "[3f20aaa44c15ff93b816fe787742ad60d390f37c](https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c)".



---

archive/issue_comments_326541.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40a6d5b21f7530d934c7b5c2b599ead3c9272e4f\">40a6d5b</a></td><td><code>a PoorManMap is unequal to anything else</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c\">3f20aaa</a></td><td><code>Make PoorManComposeMap correctly inherit from PoorManMap</code></td></tr></table>\n",
    "created_at": "2016-11-29T23:58:21Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40a6d5b21f7530d934c7b5c2b599ead3c9272e4f">40a6d5b</a></td><td><code>a PoorManMap is unequal to anything else</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c">3f20aaa</a></td><td><code>Make PoorManComposeMap correctly inherit from PoorManMap</code></td></tr></table>




---

archive/issue_events_198409.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T00:01:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198409"
}
```



---

archive/issue_events_198410.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T00:01:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198410"
}
```



---

archive/issue_events_198411.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T01:46:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198411"
}
```



---

archive/issue_events_198412.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T01:46:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198412"
}
```



---

archive/issue_comments_326542.json:
```json
{
    "body": "<a id='comment:7'></a>\nXavier Caruso proposed to simplify this by integrating the compose map logic into `PoorManMap`.",
    "created_at": "2016-11-30T01:46:00Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326542",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>
Xavier Caruso proposed to simplify this by integrating the compose map logic into `PoorManMap`.



---

archive/issue_comments_326543.json:
```json
{
    "body": "**Changing commit** from \"[3f20aaa44c15ff93b816fe787742ad60d390f37c](https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c)\" to \"[554bae8ecb9e67741de85f6b71aca09a173a1519](https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519)\".",
    "created_at": "2016-11-30T02:05:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3f20aaa44c15ff93b816fe787742ad60d390f37c](https://github.com/sagemath/sagetrac-mirror/commit/3f20aaa44c15ff93b816fe787742ad60d390f37c)" to "[554bae8ecb9e67741de85f6b71aca09a173a1519](https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519)".



---

archive/issue_comments_326544.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519\">554bae8</a></td><td><code>Removed PoorManComposeMap</code></td></tr></table>\n",
    "created_at": "2016-11-30T02:05:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519">554bae8</a></td><td><code>Removed PoorManComposeMap</code></td></tr></table>




---

archive/issue_events_198413.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T02:05:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198413"
}
```



---

archive/issue_events_198414.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T02:05:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198414"
}
```



---

archive/issue_comments_326545.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-PoorManMap currently only implements `__eq__` but not `__hash__` nor `__neq__`.\n+PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.\n \n This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n``````\n",
    "created_at": "2016-11-30T02:32:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326545",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-PoorManMap currently only implements `__eq__` but not `__hash__` nor `__neq__`.
+PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.
 
 This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.
``````




---

archive/issue_comments_326546.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.\n \n-This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n+This ticket implements `__eq__`, `__ne__`, and `__hash__` and makes these not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.\n``````\n",
    "created_at": "2016-11-30T02:33:03Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326546",
    "user": "https://github.com/saraedum"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 PoorManMap currently only implements `__eq__` but not `__hash__` nor `__ne__`.
 
-This ticket implements `_richcmp_` and `__hash__` instead of `__eq__` and makes `_richcmp_` not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.
+This ticket implements `__eq__`, `__ne__`, and `__hash__` and makes these not rely on comparison of `__dict__` which does not work anymore when introducing `@cached_method`s in PoorManMap, see #21894.
``````




---

archive/issue_comments_326547.json:
```json
{
    "body": "<a id='comment:12'></a>\nLooks good to me.",
    "created_at": "2016-11-30T03:06:13Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326547",
    "user": "https://github.com/roed314"
}
```

<a id='comment:12'></a>
Looks good to me.



---

archive/issue_events_198415.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-30T03:06:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198415"
}
```



---

archive/issue_events_198416.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-30T03:06:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198416"
}
```



---

archive/issue_comments_326548.json:
```json
{
    "body": "**Reviewer:** David Roe",
    "created_at": "2016-11-30T03:06:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326548",
    "user": "https://github.com/roed314"
}
```

**Reviewer:** David Roe



---

archive/issue_comments_326549.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804\">736fb42</a></td><td><code>Change license of poor_man_map to GPLv2+</code></td></tr></table>\n",
    "created_at": "2016-11-30T03:28:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804">736fb42</a></td><td><code>Change license of poor_man_map to GPLv2+</code></td></tr></table>




---

archive/issue_events_198417.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2016-11-30T03:28:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198417"
}
```



---

archive/issue_events_198418.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2016-11-30T03:28:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198418"
}
```



---

archive/issue_comments_326550.json:
```json
{
    "body": "**Changing commit** from \"[554bae8ecb9e67741de85f6b71aca09a173a1519](https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519)\" to \"[736fb42902d2436dabbd0d6dbfed9154af151804](https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804)\".",
    "created_at": "2016-11-30T03:28:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[554bae8ecb9e67741de85f6b71aca09a173a1519](https://github.com/sagemath/sagetrac-mirror/commit/554bae8ecb9e67741de85f6b71aca09a173a1519)" to "[736fb42902d2436dabbd0d6dbfed9154af151804](https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804)".



---

archive/issue_events_198419.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-30T03:30:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198419"
}
```



---

archive/issue_events_198420.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-30T03:30:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198420"
}
```



---

archive/issue_events_198421.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-11-30T05:51:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198421"
}
```



---

archive/issue_events_198422.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-11-30T05:51:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198422"
}
```



---

archive/issue_comments_326551.json:
```json
{
    "body": "<a id='comment:16'></a>\n(Sorry, I got troubles with my Internet connexion yesterday.)\n\nI've just a remark: shouldn't we check that self.domain() == other.codomain() (if the are both defined) in the composition? Besides, the example you give in the doctest is a kind of weird since the composite f*g does not take {2,3,4} to itself. (I suppose you wanted to write g*f... this proves that an additional checking is not unnecessary.)",
    "created_at": "2016-11-30T05:51:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326551",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:16'></a>
(Sorry, I got troubles with my Internet connexion yesterday.)

I've just a remark: shouldn't we check that self.domain() == other.codomain() (if the are both defined) in the composition? Besides, the example you give in the doctest is a kind of weird since the composite f*g does not take {2,3,4} to itself. (I suppose you wanted to write g*f... this proves that an additional checking is not unnecessary.)



---

archive/issue_events_198423.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-11-30T05:56:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198423"
}
```



---

archive/issue_events_198424.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-11-30T05:56:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198424"
}
```



---

archive/issue_comments_326552.json:
```json
{
    "body": "<a id='comment:18'></a>\nMostly to cc myself, but there should not be periods at the ends of each of the `INPUT:`s.",
    "created_at": "2016-11-30T17:43:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326552",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Mostly to cc myself, but there should not be periods at the ends of each of the `INPUT:`s.



---

archive/issue_comments_326553.json:
```json
{
    "body": "<a id='comment:19'></a>\ntscrim: I agree. But there's actually an example for that here http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content",
    "created_at": "2016-11-30T17:50:08Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326553",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:19'></a>
tscrim: I agree. But there's actually an example for that here http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content



---

archive/issue_comments_326554.json:
```json
{
    "body": "<a id='comment:20'></a>\n*grumbles as bangs head into desk* That explains the uptake in (grammatically incorrect) periods. Looking further, there are a couple of other things to fix there too. I will fix all of that on a separate ticket.",
    "created_at": "2016-11-30T17:54:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326554",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
*grumbles as bangs head into desk* That explains the uptake in (grammatically incorrect) periods. Looking further, there are a couple of other things to fix there too. I will fix all of that on a separate ticket.



---

archive/issue_comments_326555.json:
```json
{
    "body": "**Changing commit** from \"[736fb42902d2436dabbd0d6dbfed9154af151804](https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804)\" to \"[db76a47e3c0d47e17f59ca97555a92bd0b593ac9](https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9)\".",
    "created_at": "2016-11-30T19:26:31Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[736fb42902d2436dabbd0d6dbfed9154af151804](https://github.com/sagemath/sagetrac-mirror/commit/736fb42902d2436dabbd0d6dbfed9154af151804)" to "[db76a47e3c0d47e17f59ca97555a92bd0b593ac9](https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9)".



---

archive/issue_comments_326556.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9\">db76a47</a></td><td><code>remove incorrect periods from docstring</code></td></tr></table>\n",
    "created_at": "2016-11-30T19:26:31Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326556",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9">db76a47</a></td><td><code>remove incorrect periods from docstring</code></td></tr></table>




---

archive/issue_comments_326557.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [@xcaruso](#comment%3A16):\n> I've just a remark: shouldn't we check that self.domain() == other.codomain() (if the are both defined) in the composition? Besides, the example you give in the doctest is a kind of weird since the composite f*g does not take {2,3,4} to itself. (I suppose you wanted to write g*f... this proves that an additional checking is not unnecessary.)\n\nOops. I fixed that doctest. And I also added some checks when the domains and codomains are parents. But if they are just iterables, I am not sure what to do? Checking for equality seems to restrictive: for `f*g`, the codomain of `g` should be contained in the domain of `f` but they do not have to be equal I think. In any case, comparing them (whether for equality or containment) is quite costly, i.e., O(cardinality) at best. And I would need to special case if the (co)domain is an iterable because then it could well be infinite.\nWhat do you think?",
    "created_at": "2016-11-30T19:53:44Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326557",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:22'></a>
Replying to [@xcaruso](#comment%3A16):
> I've just a remark: shouldn't we check that self.domain() == other.codomain() (if the are both defined) in the composition? Besides, the example you give in the doctest is a kind of weird since the composite f*g does not take {2,3,4} to itself. (I suppose you wanted to write g*f... this proves that an additional checking is not unnecessary.)

Oops. I fixed that doctest. And I also added some checks when the domains and codomains are parents. But if they are just iterables, I am not sure what to do? Checking for equality seems to restrictive: for `f*g`, the codomain of `g` should be contained in the domain of `f` but they do not have to be equal I think. In any case, comparing them (whether for equality or containment) is quite costly, i.e., O(cardinality) at best. And I would need to special case if the (co)domain is an iterable because then it could well be infinite.
What do you think?



---

archive/issue_comments_326558.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/282b2374d824790a18b18f158697941315d53b7a\">282b237</a></td><td><code>remove tab</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0\">66952f4</a></td><td><code>Check compatibility of morphisms when composing</code></td></tr></table>\n",
    "created_at": "2016-11-30T19:53:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/282b2374d824790a18b18f158697941315d53b7a">282b237</a></td><td><code>remove tab</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0">66952f4</a></td><td><code>Check compatibility of morphisms when composing</code></td></tr></table>




---

archive/issue_comments_326559.json:
```json
{
    "body": "**Changing commit** from \"[db76a47e3c0d47e17f59ca97555a92bd0b593ac9](https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9)\" to \"[66952f42878728c4132b2dba3aba045569b147b0](https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0)\".",
    "created_at": "2016-11-30T19:53:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[db76a47e3c0d47e17f59ca97555a92bd0b593ac9](https://github.com/sagemath/sagetrac-mirror/commit/db76a47e3c0d47e17f59ca97555a92bd0b593ac9)" to "[66952f42878728c4132b2dba3aba045569b147b0](https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0)".



---

archive/issue_events_198425.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T19:54:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198425"
}
```



---

archive/issue_events_198426.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-30T19:54:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198426"
}
```



---

archive/issue_comments_326560.json:
```json
{
    "body": "<a id='comment:25'></a>\nLooks fine to me.\n\nJust a small remark: in the doctest of `__call__`, it's better to use g*f than f*g.",
    "created_at": "2016-12-03T19:57:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326560",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:25'></a>
Looks fine to me.

Just a small remark: in the doctest of `__call__`, it's better to use g*f than f*g.



---

archive/issue_comments_326561.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51\">7776c16</a></td><td><code>Fix doctest</code></td></tr></table>\n",
    "created_at": "2016-12-13T21:26:50Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326561",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51">7776c16</a></td><td><code>Fix doctest</code></td></tr></table>




---

archive/issue_comments_326562.json:
```json
{
    "body": "**Changing commit** from \"[66952f42878728c4132b2dba3aba045569b147b0](https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0)\" to \"[7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)\".",
    "created_at": "2016-12-13T21:26:50Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326562",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[66952f42878728c4132b2dba3aba045569b147b0](https://github.com/sagemath/sagetrac-mirror/commit/66952f42878728c4132b2dba3aba045569b147b0)" to "[7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)".



---

archive/issue_events_198427.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-12-13T21:30:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198427"
}
```



---

archive/issue_events_198428.json:
```json
{
    "actor": "https://github.com/xcaruso",
    "created_at": "2016-12-13T21:30:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198428"
}
```



---

archive/issue_comments_326563.json:
```json
{
    "body": "<a id='comment:27'></a>\nOk, thanks. That's nice.",
    "created_at": "2016-12-13T21:30:19Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326563",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:27'></a>
Ok, thanks. That's nice.



---

archive/issue_comments_326564.json:
```json
{
    "body": "**Changing branch** from \"[u/saraedum/fix_comparison_operators_of_poormanmap](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/fix_comparison_operators_of_poormanmap)\" to \"[7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)\".",
    "created_at": "2016-12-14T23:15:49Z",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21995#issuecomment-326564",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/saraedum/fix_comparison_operators_of_poormanmap](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/fix_comparison_operators_of_poormanmap)" to "[7776c1644f1fef5c35a8cf6dd76dd45711692e51](https://github.com/sagemath/sagetrac-mirror/commit/7776c1644f1fef5c35a8cf6dd76dd45711692e51)".



---

archive/issue_events_198429.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-14T23:15:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198429"
}
```



---

archive/issue_events_198430.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0da750ff9483cb4611838dfa007ae998d0b5ba2a",
    "created_at": "2016-12-14T23:15:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21995",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21995#event-198430"
}
```
