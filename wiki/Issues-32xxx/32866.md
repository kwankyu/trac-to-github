# Issue 32866: Features for interpreter interfaces

archive/issues_032629.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nFollow-up from #32649\n\n\nCC:  @kwankyu @seblabbe\n\nComponent: **refactoring**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**\n\nReviewer: **S\u00e9bastien Labb\u00e9**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32866_\n\n",
    "closed_at": "2021-12-05T11:15:24Z",
    "created_at": "2021-11-13T18:35:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Features for interpreter interfaces",
    "type": "issue",
    "updated_at": "2021-12-05T11:15:24Z",
    "url": "https://github.com/sagemath/sage/issues/32866",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

Follow-up from #32649


CC:  @kwankyu @seblabbe

Component: **refactoring**

Author: **Matthias Koeppe**

Branch/Commit: **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**

Reviewer: **Sébastien Labbé**

_Issue created by migration from https://trac.sagemath.org/ticket/32866_





---

archive/issue_events_450164.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-13T18:35:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450164"
}
```



---

archive/issue_events_450165.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-13T18:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450165"
}
```



---

archive/issue_events_450166.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-13T18:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450166"
}
```



---

archive/issue_events_450167.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-13T18:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450167"
}
```



---

archive/issue_comments_530602.json:
```json
{
    "body": "Branch: **[u/mkoeppe/features_for_interpreter_interfaces](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_interpreter_interfaces)**",
    "created_at": "2021-11-13T19:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530602",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/features_for_interpreter_interfaces](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_interpreter_interfaces)**



---

archive/issue_comments_530603.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3\"><code>eaec400</code></a></td><td><code>src/sage/features/interfaces.py: New</code></td></tr></table>\n",
    "created_at": "2021-11-13T19:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530603",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3"><code>eaec400</code></a></td><td><code>src/sage/features/interfaces.py: New</code></td></tr></table>




---

archive/issue_comments_530604.json:
```json
{
    "body": "Author: **Matthias Koeppe, ...**",
    "created_at": "2021-11-13T19:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530604",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe, ...**



---

archive/issue_comments_530605.json:
```json
{
    "body": "Commit: **[`eaec400`](https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3)**",
    "created_at": "2021-11-13T19:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530605",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`eaec400`](https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3)**



---

archive/issue_comments_530606.json:
```json
{
    "body": "Changed commit from **[`eaec400`](https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3)** to **[`52ac51e`](https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c)**",
    "created_at": "2021-11-14T21:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530606",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eaec400`](https://github.com/sagemath/sagetrac-mirror/commit/eaec4000ec31e884e8e152efbd88e1b15ff3c5a3)** to **[`52ac51e`](https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c)**



---

archive/issue_comments_530607.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827ca0339457bc5596fce9cb46aefc7fe8d6e002\"><code>827ca03</code></a></td><td><code>src/sage/features/interfaces.py: Fix and doctest exception handling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c\"><code>52ac51e</code></a></td><td><code>src/sage/features/interfaces.py (all_features): New</code></td></tr></table>\n",
    "created_at": "2021-11-14T21:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530607",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827ca0339457bc5596fce9cb46aefc7fe8d6e002"><code>827ca03</code></a></td><td><code>src/sage/features/interfaces.py: Fix and doctest exception handling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c"><code>52ac51e</code></a></td><td><code>src/sage/features/interfaces.py (all_features): New</code></td></tr></table>




---

archive/issue_comments_530608.json:
```json
{
    "body": "Changed commit from **[`52ac51e`](https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c)** to **[`8081f29`](https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd)**",
    "created_at": "2021-11-14T21:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530608",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`52ac51e`](https://github.com/sagemath/sagetrac-mirror/commit/52ac51efe425371ab7aab08d3eb964bf4c90cd4c)** to **[`8081f29`](https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd)**



---

archive/issue_comments_530609.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7754fae5f46ef3ad9fc2c9c3bfd2a2dac3f76f11\"><code>7754fae</code></a></td><td><code>src/sage/features/interfaces.py: Fix and doctest exception handling (fixup)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd\"><code>8081f29</code></a></td><td><code>src/sage/doctest/external.py: Use sage.features.interfaces</code></td></tr></table>\n",
    "created_at": "2021-11-14T21:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530609",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7754fae5f46ef3ad9fc2c9c3bfd2a2dac3f76f11"><code>7754fae</code></a></td><td><code>src/sage/features/interfaces.py: Fix and doctest exception handling (fixup)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd"><code>8081f29</code></a></td><td><code>src/sage/doctest/external.py: Use sage.features.interfaces</code></td></tr></table>




---

archive/issue_comments_530610.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65\"><code>945132b</code></a></td><td><code>src/sage/features/interfaces.py: Fix up</code></td></tr></table>\n",
    "created_at": "2021-11-14T22:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530610",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65"><code>945132b</code></a></td><td><code>src/sage/features/interfaces.py: Fix up</code></td></tr></table>




---

archive/issue_comments_530611.json:
```json
{
    "body": "Changed commit from **[`8081f29`](https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd)** to **[`945132b`](https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65)**",
    "created_at": "2021-11-14T22:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530611",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8081f29`](https://github.com/sagemath/sagetrac-mirror/commit/8081f29f97a947e39b8ef17e861433847e623dcd)** to **[`945132b`](https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65)**



---

archive/issue_events_450168.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-15T04:26:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450168"
}
```



---

archive/issue_comments_530612.json:
```json
{
    "body": "Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe**",
    "created_at": "2021-11-15T04:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530612",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe**



---

archive/issue_comments_530613.json:
```json
{
    "body": "Changed commit from **[`945132b`](https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65)** to **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**",
    "created_at": "2021-11-16T00:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`945132b`](https://github.com/sagemath/sagetrac-mirror/commit/945132b9524a6734957e70a00830b6db07f74b65)** to **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**



---

archive/issue_comments_530614.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9\"><code>944bb74</code></a></td><td><code>src/sage/features/interfaces.py: Add doctests</code></td></tr></table>\n",
    "created_at": "2021-11-16T00:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9"><code>944bb74</code></a></td><td><code>src/sage/features/interfaces.py: Add doctests</code></td></tr></table>




---

archive/issue_comments_530615.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nLooks good to me. Doctests pass. Patchbot is green. The coverage is not 100% because of few docstring missing in staticmethods `__classcall__` but these are doctested in the doc of the the class just above. So, LGTM. I tested the functionnality. In particular, I get:\n\n```\nsage: from sage.features.interfaces import all_features\nsage: [(f,f.is_present()) for f in all_features()]\n[(Feature('magma'), FeatureTestResult('magma', False)),\n (Feature('matlab'), FeatureTestResult('matlab', False)),\n (Feature('mathematica'), FeatureTestResult('mathematica', False)),\n (Feature('maple'), FeatureTestResult('maple', False)),\n (Feature('macaulay2'), FeatureTestResult('macaulay2', False)),\n (Feature('octave'), FeatureTestResult('octave', True)),\n (Feature('scilab'), FeatureTestResult('scilab', False))]\n```\nwhich is sometimes True and sometimes False. Therefore, the routine works.",
    "created_at": "2021-11-18T11:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530615",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:8" align="right">comment:8</div>

Looks good to me. Doctests pass. Patchbot is green. The coverage is not 100% because of few docstring missing in staticmethods `__classcall__` but these are doctested in the doc of the the class just above. So, LGTM. I tested the functionnality. In particular, I get:

```
sage: from sage.features.interfaces import all_features
sage: [(f,f.is_present()) for f in all_features()]
[(Feature('magma'), FeatureTestResult('magma', False)),
 (Feature('matlab'), FeatureTestResult('matlab', False)),
 (Feature('mathematica'), FeatureTestResult('mathematica', False)),
 (Feature('maple'), FeatureTestResult('maple', False)),
 (Feature('macaulay2'), FeatureTestResult('macaulay2', False)),
 (Feature('octave'), FeatureTestResult('octave', True)),
 (Feature('scilab'), FeatureTestResult('scilab', False))]
```
which is sometimes True and sometimes False. Therefore, the routine works.



---

archive/issue_events_450169.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-11-18T11:36:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450169"
}
```



---

archive/issue_events_450170.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-11-18T11:36:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450170"
}
```



---

archive/issue_comments_530616.json:
```json
{
    "body": "Reviewer: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2021-11-18T11:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530616",
    "user": "https://github.com/seblabbe"
}
```

Reviewer: **Sébastien Labbé**



---

archive/issue_comments_530617.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThank you!",
    "created_at": "2021-11-18T18:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530617",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Thank you!



---

archive/issue_comments_530618.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/features_for_interpreter_interfaces](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_interpreter_interfaces)** to **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**",
    "created_at": "2021-12-05T11:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32866#issuecomment-530618",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/features_for_interpreter_interfaces](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_interpreter_interfaces)** to **[`944bb74`](https://github.com/sagemath/sagetrac-mirror/commit/944bb74f0bf0260fbc262152005745edfcdd3ad9)**



---

archive/issue_events_450171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-05T11:15:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450171"
}
```



---

archive/issue_events_450172.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6ead9ee1d69282a5af006a76324cf713dd7cdc98",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-05T11:15:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32866#event-450172"
}
```
