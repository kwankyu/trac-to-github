# Issue 34393: add method "tensor_factors" to tensor products

archive/issues_034156.json:
```json
{
    "body": "so that one can easily access them\n\n**CC:**  @tscrim\n\n**Branch:** [b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)\n\n**Reviewer:** Matthias Koeppe, Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/34393\n\n",
    "closed_at": "2022-09-22T22:35:31Z",
    "created_at": "2022-08-20T10:05:47Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "title": "add method \"tensor_factors\" to tensor products",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/34393",
    "user": "https://github.com/fchapoton"
}
```
so that one can easily access them

**CC:**  @tscrim

**Branch:** [b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)

**Reviewer:** Matthias Koeppe, Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/34393





---

archive/issue_events_308110.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-20T10:06:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308110"
}
```



---

archive/issue_comments_558300.json:
```json
{
    "body": "<a id='comment:2'></a>\nmeeting an unexpected issue with Schur algebras.. to be investigated",
    "created_at": "2022-08-20T15:11:17Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558300",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
meeting an unexpected issue with Schur algebras.. to be investigated



---

archive/issue_comments_558301.json:
```json
{
    "body": "<a id='comment:3'></a>\n\n```\n+            def construction(self):\n...\n+                return [tensor, *self._reduction[1]]\n```\n\nThis can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category",
    "created_at": "2022-08-20T15:51:14Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558301",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>

```
+            def construction(self):
...
+                return [tensor, *self._reduction[1]]
```

This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category



---

archive/issue_comments_558302.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [@mkoeppe](#comment%3A3):\n> \n> ```\n> +            def construction(self):\n> ...\n> +                return [tensor, *self._reduction[1]]\n> ```\n> \n> This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category\n\nok, right. Any better idea ? My final aim would be to have tensor products of morphisms..",
    "created_at": "2022-08-21T07:04:04Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558302",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
Replying to [@mkoeppe](#comment%3A3):
> 
> ```
> +            def construction(self):
> ...
> +                return [tensor, *self._reduction[1]]
> ```
> 
> This can't possibly be correct code to be included in the category. `_reduction` is set by `UniqueRepresentation`, so it's under control of implementation classes, not the category

ok, right. Any better idea ? My final aim would be to have tensor products of morphisms..



---

archive/issue_comments_558303.json:
```json
{
    "body": "<a id='comment:5'></a>\nNo better idea than having `CombinatorialFreeModule_Tensor.__init__` (or other implementation classes) save the info that you need",
    "created_at": "2022-08-21T07:45:32Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558303",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
No better idea than having `CombinatorialFreeModule_Tensor.__init__` (or other implementation classes) save the info that you need



---

archive/issue_comments_558304.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453\">4f8adea</a></td><td><code>another try</code></td></tr></table>\n",
    "created_at": "2022-08-21T15:30:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453">4f8adea</a></td><td><code>another try</code></td></tr></table>




---

archive/issue_comments_558305.json:
```json
{
    "body": "**Changing commit** from \"[7fc6333755232672a42e3d0e719c2f75671db73c](https://github.com/sagemath/sagetrac-mirror/commit/7fc6333755232672a42e3d0e719c2f75671db73c)\" to \"[4f8adea80927dea4d8d8ffcd08e849fbf5862453](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)\".",
    "created_at": "2022-08-21T15:30:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7fc6333755232672a42e3d0e719c2f75671db73c](https://github.com/sagemath/sagetrac-mirror/commit/7fc6333755232672a42e3d0e719c2f75671db73c)" to "[4f8adea80927dea4d8d8ffcd08e849fbf5862453](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)".



---

archive/issue_comments_558306.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe information seems to be stored in `_sets`. Let us try.",
    "created_at": "2022-08-21T15:31:46Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558306",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
The information seems to be stored in `_sets`. Let us try.



---

archive/issue_comments_558307.json:
```json
{
    "body": "<a id='comment:8'></a>\nThat's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`",
    "created_at": "2022-08-21T16:13:00Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558307",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`



---

archive/issue_comments_558308.json:
```json
{
    "body": "<a id='comment:9'></a>\nAlso the method name is not specific enough. How about `tensor_factors` (this mirrors `cartesian_factors`, which is already in use?",
    "created_at": "2022-08-21T16:14:13Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558308",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Also the method name is not specific enough. How about `tensor_factors` (this mirrors `cartesian_factors`, which is already in use?



---

archive/issue_comments_558309.json:
```json
{
    "body": "<a id='comment:10'></a>\nAnd this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`",
    "created_at": "2022-08-21T16:18:51Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558309",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`



---

archive/issue_comments_558310.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8\">dae2fb5</a></td><td><code>change \"components\" to \"tensor_factors\"</code></td></tr></table>\n",
    "created_at": "2022-08-21T16:35:26Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8">dae2fb5</a></td><td><code>change "components" to "tensor_factors"</code></td></tr></table>




---

archive/issue_comments_558311.json:
```json
{
    "body": "**Changing commit** from \"[4f8adea80927dea4d8d8ffcd08e849fbf5862453](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)\" to \"[dae2fb57cb0860b3a1741b7038e4a22420286ae8](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)\".",
    "created_at": "2022-08-21T16:35:26Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4f8adea80927dea4d8d8ffcd08e849fbf5862453](https://github.com/sagemath/sagetrac-mirror/commit/4f8adea80927dea4d8d8ffcd08e849fbf5862453)" to "[dae2fb57cb0860b3a1741b7038e4a22420286ae8](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)".



---

archive/issue_comments_558312.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [@mkoeppe](#comment%3A10):\n> And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`\n\nMake that `Modules`. (The category `FreeModules` only exists on my wishlist - #30164 - not in code.)",
    "created_at": "2022-08-21T17:05:29Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558312",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Replying to [@mkoeppe](#comment%3A10):
> And this can be moved to a larger category - at least to `FreeModules`, where it would apply to `sage.tensor.modules.tensor_free_module.TensorFreeModule`

Make that `Modules`. (The category `FreeModules` only exists on my wishlist - #30164 - not in code.)



---

archive/issue_events_308111.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-21T17:46:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "rename": {
        "from": "add method \"components\" to tensor products",
        "to": "add method \"tensor_factors\" to tensor products"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308111"
}
```



---

archive/issue_comments_558313.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a\">638ba61</a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>\n",
    "created_at": "2022-08-21T17:53:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a">638ba61</a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>




---

archive/issue_comments_558314.json:
```json
{
    "body": "**Changing commit** from \"[dae2fb57cb0860b3a1741b7038e4a22420286ae8](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)\" to \"[638ba6145df274572dfd065bdd52d7ecc4f3e81a](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)\".",
    "created_at": "2022-08-21T17:53:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dae2fb57cb0860b3a1741b7038e4a22420286ae8](https://github.com/sagemath/sagetrac-mirror/commit/dae2fb57cb0860b3a1741b7038e4a22420286ae8)" to "[638ba6145df274572dfd065bdd52d7ecc4f3e81a](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)".



---

archive/issue_comments_558315.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9\">d4c8b90</a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>\n",
    "created_at": "2022-08-21T18:29:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9">d4c8b90</a></td><td><code>add tensor_factors method to tensor products</code></td></tr></table>




---

archive/issue_comments_558316.json:
```json
{
    "body": "**Changing commit** from \"[638ba6145df274572dfd065bdd52d7ecc4f3e81a](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)\" to \"[d4c8b90fddd0e9aaabe99d3062b182b191700eb9](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)\".",
    "created_at": "2022-08-21T18:29:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[638ba6145df274572dfd065bdd52d7ecc4f3e81a](https://github.com/sagemath/sagetrac-mirror/commit/638ba6145df274572dfd065bdd52d7ecc4f3e81a)" to "[d4c8b90fddd0e9aaabe99d3062b182b191700eb9](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)".



---

archive/issue_comments_558317.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@mkoeppe](#comment%3A8):\n> That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`\n\nI would actually go one step further and make it explicitly an `@abstract_method` like `Sets().CartesianProducts()` does with `cartesian_factors()`. Then you could implement\n\n```python\ndef construction(self):\n   return (TensorProductFunctor(self.category()), self.tensor_factors())\n```\nagain following `Sets().CartesianProducts()`.",
    "created_at": "2022-08-22T00:05:38Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558317",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [@mkoeppe](#comment%3A8):
> That's an implementation detail, so I think the method `components` should be `@abstract_method(optional=True)` in the category, and the implementation should go to `CombinatorialFreeModule_Tensor`

I would actually go one step further and make it explicitly an `@abstract_method` like `Sets().CartesianProducts()` does with `cartesian_factors()`. Then you could implement

```python
def construction(self):
   return (TensorProductFunctor(self.category()), self.tensor_factors())
```
again following `Sets().CartesianProducts()`.



---

archive/issue_comments_558318.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e\">d0972e6</a></td><td><code>trying to use the suggestions about tensor construction</code></td></tr></table>\n",
    "created_at": "2022-08-22T06:36:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e">d0972e6</a></td><td><code>trying to use the suggestions about tensor construction</code></td></tr></table>




---

archive/issue_comments_558319.json:
```json
{
    "body": "**Changing commit** from \"[d4c8b90fddd0e9aaabe99d3062b182b191700eb9](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)\" to \"[d0972e6183fbe3396f41dc7fba641e579bd3a30e](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)\".",
    "created_at": "2022-08-22T06:36:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d4c8b90fddd0e9aaabe99d3062b182b191700eb9](https://github.com/sagemath/sagetrac-mirror/commit/d4c8b90fddd0e9aaabe99d3062b182b191700eb9)" to "[d0972e6183fbe3396f41dc7fba641e579bd3a30e](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)".



---

archive/issue_comments_558320.json:
```json
{
    "body": "**Changing commit** from \"[d0972e6183fbe3396f41dc7fba641e579bd3a30e](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)\" to \"[eba9d161893a80d65aff472ee5e26a307872482a](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)\".",
    "created_at": "2022-08-22T11:52:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d0972e6183fbe3396f41dc7fba641e579bd3a30e](https://github.com/sagemath/sagetrac-mirror/commit/d0972e6183fbe3396f41dc7fba641e579bd3a30e)" to "[eba9d161893a80d65aff472ee5e26a307872482a](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)".



---

archive/issue_comments_558321.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a\">eba9d16</a></td><td><code>detail fix</code></td></tr></table>\n",
    "created_at": "2022-08-22T11:52:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a">eba9d16</a></td><td><code>detail fix</code></td></tr></table>




---

archive/issue_comments_558322.json:
```json
{
    "body": "<a id='comment:19'></a>\n\n```\n+                sage: F = CombinatorialFreeModule(ZZ, [1,2])\n+                sage: F.__custom_name = \"F\"\n+                sage: G = CombinatorialFreeModule(ZZ, [3,4])\n+                sage: G.__custom_name = \"G\"\n```\nIs there a reason why you don't use `F.rename(\"F\")` here?",
    "created_at": "2022-08-22T16:28:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558322",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>

```
+                sage: F = CombinatorialFreeModule(ZZ, [1,2])
+                sage: F.__custom_name = "F"
+                sage: G = CombinatorialFreeModule(ZZ, [3,4])
+                sage: G.__custom_name = "G"
```
Is there a reason why you don't use `F.rename("F")` here?



---

archive/issue_comments_558323.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c\">c862151</a></td><td><code>rather use rename</code></td></tr></table>\n",
    "created_at": "2022-08-22T16:53:34Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c">c862151</a></td><td><code>rather use rename</code></td></tr></table>




---

archive/issue_comments_558324.json:
```json
{
    "body": "**Changing commit** from \"[eba9d161893a80d65aff472ee5e26a307872482a](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)\" to \"[c862151e4b82674751fd3a3cbdfa02ffbf752b0c](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)\".",
    "created_at": "2022-08-22T16:53:34Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[eba9d161893a80d65aff472ee5e26a307872482a](https://github.com/sagemath/sagetrac-mirror/commit/eba9d161893a80d65aff472ee5e26a307872482a)" to "[c862151e4b82674751fd3a3cbdfa02ffbf752b0c](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)".



---

archive/issue_comments_558325.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@tscrim](#comment%3A16):\n> I would actually go one step further and make it explicitly an `@abstract_method`\n\nDoes adding a required method to the category not have the potential of breaking user code?",
    "created_at": "2022-08-22T22:23:28Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558325",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [@tscrim](#comment%3A16):
> I would actually go one step further and make it explicitly an `@abstract_method`

Does adding a required method to the category not have the potential of breaking user code?



---

archive/issue_comments_558326.json:
```json
{
    "body": "<a id='comment:22'></a>\nI would suggest some `try... except NotImplementError: deprecation(...)`",
    "created_at": "2022-08-22T22:46:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558326",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
I would suggest some `try... except NotImplementError: deprecation(...)`



---

archive/issue_comments_558327.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [@mkoeppe](#comment%3A21):\n> Replying to [@tscrim](#comment%3A16):\n> > I would actually go one step further and make it explicitly an `@abstract_method`\n\n> \n> Does adding a required method to the category not have the potential of breaking user code?\n\nIt won't break any user code. Only one of the `TestSuite` tests will fail.",
    "created_at": "2022-08-23T01:12:27Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558327",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Replying to [@mkoeppe](#comment%3A21):
> Replying to [@tscrim](#comment%3A16):
> > I would actually go one step further and make it explicitly an `@abstract_method`

> 
> Does adding a required method to the category not have the potential of breaking user code?

It won't break any user code. Only one of the `TestSuite` tests will fail.



---

archive/issue_comments_558328.json:
```json
{
    "body": "<a id='comment:24'></a>\nCare to explain why errors raised by `construction` would not matter?",
    "created_at": "2022-08-23T01:17:33Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558328",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Care to explain why errors raised by `construction` would not matter?



---

archive/issue_comments_558329.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [@mkoeppe](#comment%3A24):\n> Care to explain why errors raised by `construction` would not matter?\n\nIt was just using the default previously, so it was a no-op. However, you should still get failures where you had failures before (such as trying to do a coercion via a pushout) unless someone was explicitly calling `construction()` and checking against `None`. It is possible someone is doing this with a custom class in the tensor product category, so they will have to fix their code. However, the error message will be clear about what needs to be done to fix it. Their could would break in a different way when using Sage's classes (e.g., `CFM_tensor`).\n\nAdditionally, you would still get errors whether or not it was `optional=True` or not.\n\nI think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt for people who are doing something fairly advanced and likely should know better than to do this.",
    "created_at": "2022-08-23T01:27:39Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558329",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Replying to [@mkoeppe](#comment%3A24):
> Care to explain why errors raised by `construction` would not matter?

It was just using the default previously, so it was a no-op. However, you should still get failures where you had failures before (such as trying to do a coercion via a pushout) unless someone was explicitly calling `construction()` and checking against `None`. It is possible someone is doing this with a custom class in the tensor product category, so they will have to fix their code. However, the error message will be clear about what needs to be done to fix it. Their could would break in a different way when using Sage's classes (e.g., `CFM_tensor`).

Additionally, you would still get errors whether or not it was `optional=True` or not.

I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt for people who are doing something fairly advanced and likely should know better than to do this.



---

archive/issue_comments_558330.json:
```json
{
    "body": "<a id='comment:26'></a>\nOf course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.",
    "created_at": "2022-08-23T01:29:59Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558330",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.



---

archive/issue_comments_558331.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [@tscrim](#comment%3A25):\n> Additionally, you would still get errors whether or not it was `optional=True` or not.\n\ncomment:22 has a solution",
    "created_at": "2022-08-23T01:30:36Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558331",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Replying to [@tscrim](#comment%3A25):
> Additionally, you would still get errors whether or not it was `optional=True` or not.

comment:22 has a solution



---

archive/issue_comments_558332.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [@mkoeppe](#comment%3A26):\n> Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.\n\nNo, they are not, as a deprecation (in software) means something that is going to be removed. They simply need to be patched.",
    "created_at": "2022-08-23T02:02:44Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558332",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
Replying to [@mkoeppe](#comment%3A26):
> Of course something is getting deprecated, namely implementation classes in this category that do not define the `tensor_factors` method.

No, they are not, as a deprecation (in software) means something that is going to be removed. They simply need to be patched.



---

archive/issue_comments_558333.json:
```json
{
    "body": "<a id='comment:29'></a>\nYes, and that \"something\" is the support for such user-defined implementation classes.",
    "created_at": "2022-08-23T02:05:23Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558333",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Yes, and that "something" is the support for such user-defined implementation classes.



---

archive/issue_comments_558334.json:
```json
{
    "body": "<a id='comment:30'></a>\nFine. The nomenclature isn't a hill I am willing to die on.\n\nHowever, I still am not completely convinced not breaking backwards compatibility is worth the technical debt in this case. (I originally wanted to use the pun \"we should bend over backwards for backwards compatibility\" but that is just a bit too dramatic.) Since the solution here is relatively simple, I can let it pass. (If I wanted to be really nit-picky, I would also insist on consistency/equality and require letting people know about the behavior change for `CFM_tensor` as that could break people's code is much more subtle ways. Both things are basically [spacebars](https://xkcd.com/1172/) to me.)\n\nSide note: [comment:22](#comment%3A22) is not a solution for `@abstract_method(optional=True)` simply becomes a `NotImplemented`:\n\n```\nsage: class Foo():\n....:     @abstract_method(optional=True)\n....:     def bar(self):\n....:         \"\"\"\n....:         doc\n....:         \"\"\"\n....:         \nsage: F = Foo()\nsage: F.bar\nNotImplemented\n```",
    "created_at": "2022-08-23T02:47:53Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558334",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
Fine. The nomenclature isn't a hill I am willing to die on.

However, I still am not completely convinced not breaking backwards compatibility is worth the technical debt in this case. (I originally wanted to use the pun "we should bend over backwards for backwards compatibility" but that is just a bit too dramatic.) Since the solution here is relatively simple, I can let it pass. (If I wanted to be really nit-picky, I would also insist on consistency/equality and require letting people know about the behavior change for `CFM_tensor` as that could break people's code is much more subtle ways. Both things are basically [spacebars](https://xkcd.com/1172/) to me.)

Side note: [comment:22](#comment%3A22) is not a solution for `@abstract_method(optional=True)` simply becomes a `NotImplemented`:

```
sage: class Foo():
....:     @abstract_method(optional=True)
....:     def bar(self):
....:         """
....:         doc
....:         """
....:         
sage: F = Foo()
sage: F.bar
NotImplemented
```



---

archive/issue_comments_558335.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)\" to \"[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)\".",
    "created_at": "2022-08-23T02:53:21Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558335",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)" to "[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)".



---

archive/issue_comments_558336.json:
```json
{
    "body": "**Changing commit** from \"[c862151e4b82674751fd3a3cbdfa02ffbf752b0c](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)\" to \"[f17ee3f2c03837b1574a4f4d170173e6912ef7e2](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)\".",
    "created_at": "2022-08-23T02:54:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558336",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[c862151e4b82674751fd3a3cbdfa02ffbf752b0c](https://github.com/sagemath/sagetrac-mirror/commit/c862151e4b82674751fd3a3cbdfa02ffbf752b0c)" to "[f17ee3f2c03837b1574a4f4d170173e6912ef7e2](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)".



---

archive/issue_comments_558337.json:
```json
{
    "body": "<a id='comment:32'></a>\n(untested)\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2\">f17ee3f</a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>\n",
    "created_at": "2022-08-23T02:54:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558337",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
(untested)

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2">f17ee3f</a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>




---

archive/issue_comments_558338.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@tscrim](#comment%3A25):\n> I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt [...]\n\n\"Technical debt\" is a big scary word. But no, doing proper deprecation does not add to the debt.",
    "created_at": "2022-08-23T03:00:58Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558338",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Replying to [@tscrim](#comment%3A25):
> I think by putting a `try`-`except` block around it with a deprecation message (which nothing is being deprecated), you are increasing Sage's technical debt [...]

"Technical debt" is a big scary word. But no, doing proper deprecation does not add to the debt.



---

archive/issue_comments_558339.json:
```json
{
    "body": "**Changing commit** from \"[f17ee3f2c03837b1574a4f4d170173e6912ef7e2](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)\" to \"[44d42db483c61cea2e5497982ad08c12b57f8d96](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)\".",
    "created_at": "2022-08-23T03:55:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f17ee3f2c03837b1574a4f4d170173e6912ef7e2](https://github.com/sagemath/sagetrac-mirror/commit/f17ee3f2c03837b1574a4f4d170173e6912ef7e2)" to "[44d42db483c61cea2e5497982ad08c12b57f8d96](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)".



---

archive/issue_comments_558340.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96\">44d42db</a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>\n",
    "created_at": "2022-08-23T03:55:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96">44d42db</a></td><td><code>src/sage/categories/modules.py: Deprecate classes without tensor_factors</code></td></tr></table>




---

archive/issue_comments_558341.json:
```json
{
    "body": "<a id='comment:35'></a>\nAm I missing something or should this go to `Modules.TensorProducts`, not `Modules.FiniteDimensional.TensorProducts`?",
    "created_at": "2022-08-23T03:56:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558341",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Am I missing something or should this go to `Modules.TensorProducts`, not `Modules.FiniteDimensional.TensorProducts`?



---

archive/issue_comments_558342.json:
```json
{
    "body": "<a id='comment:36'></a>\nAlso, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?\n\nFrom its domain, the tensor factors can be read off.",
    "created_at": "2022-08-23T07:38:43Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558342",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?

From its domain, the tensor factors can be read off.



---

archive/issue_comments_558343.json:
```json
{
    "body": "<a id='comment:37'></a>\ntrying to move code around to Modules.TensorProducts\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61\">de30ad3</a></td><td><code>moving the code</code></td></tr></table>\n",
    "created_at": "2022-08-23T09:28:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558343",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:37'></a>
trying to move code around to Modules.TensorProducts

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61">de30ad3</a></td><td><code>moving the code</code></td></tr></table>




---

archive/issue_comments_558344.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)\" to \"[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)\".",
    "created_at": "2022-08-23T09:28:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558344",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/mkoeppe/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tensor_components)" to "[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)".



---

archive/issue_comments_558345.json:
```json
{
    "body": "**Changing commit** from \"[44d42db483c61cea2e5497982ad08c12b57f8d96](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)\" to \"[de30ad3820c183c6f42cb4ad59a66ad21cf86d61](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)\".",
    "created_at": "2022-08-23T09:28:01Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558345",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[44d42db483c61cea2e5497982ad08c12b57f8d96](https://github.com/sagemath/sagetrac-mirror/commit/44d42db483c61cea2e5497982ad08c12b57f8d96)" to "[de30ad3820c183c6f42cb4ad59a66ad21cf86d61](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)".



---

archive/issue_comments_558346.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190\">bc6828f</a></td><td><code>fix the doctest</code></td></tr></table>\n",
    "created_at": "2022-08-23T13:50:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190">bc6828f</a></td><td><code>fix the doctest</code></td></tr></table>




---

archive/issue_comments_558347.json:
```json
{
    "body": "**Changing commit** from \"[de30ad3820c183c6f42cb4ad59a66ad21cf86d61](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)\" to \"[bc6828fd5f265e2921aeaf4739f3fd86611a6190](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)\".",
    "created_at": "2022-08-23T13:50:06Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[de30ad3820c183c6f42cb4ad59a66ad21cf86d61](https://github.com/sagemath/sagetrac-mirror/commit/de30ad3820c183c6f42cb4ad59a66ad21cf86d61)" to "[bc6828fd5f265e2921aeaf4739f3fd86611a6190](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)".



---

archive/issue_comments_558348.json:
```json
{
    "body": "<a id='comment:39'></a>\nthere remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`\n\nEDIT:\n\nwhich is strangely inheriting directly\n\n```\nclass SchurTensorModule(CombinatorialFreeModule_Tensor):\n```\nand is the unique such place in sage code\n\nmaybe it should rather inherit just from `CombinatorialFreeModule` ?",
    "created_at": "2022-08-23T13:52:02Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558348",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'></a>
there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`

EDIT:

which is strangely inheriting directly

```
class SchurTensorModule(CombinatorialFreeModule_Tensor):
```
and is the unique such place in sage code

maybe it should rather inherit just from `CombinatorialFreeModule` ?



---

archive/issue_comments_558349.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [@fchapoton](#comment%3A39):\n> there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`\n> \n> EDIT:\n> \n> which is strangely inheriting directly\n> \n> ```\n> class SchurTensorModule(CombinatorialFreeModule_Tensor):\n> ```\n> and is the unique such place in sage code\n> \n> maybe it should rather inherit just from `CombinatorialFreeModule` ?\n\nNo, we shouldn't, at least without also removing `TensorProducts()` from its category (thereby completely stripping the fact it knows and carries a tensor product of `R`-modules structure).\n\nThe problem is exactly what the test is failing for: The construction is not giving the parent back. The underlying issue is that we do not have a Schur algebra representation on the individual factors. So it needs its own `construction()` method. The simple fix is just to have it return `None` to match the previous behavior. The more complicated one is to implement a `ConstructorFunctor` for it, but I don't think that will be useful here.",
    "created_at": "2022-08-25T00:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558349",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
Replying to [@fchapoton](#comment%3A39):
> there remains an issue in `sage.algebras.schur_algebra.SchurTensorModule`
> 
> EDIT:
> 
> which is strangely inheriting directly
> 
> ```
> class SchurTensorModule(CombinatorialFreeModule_Tensor):
> ```
> and is the unique such place in sage code
> 
> maybe it should rather inherit just from `CombinatorialFreeModule` ?

No, we shouldn't, at least without also removing `TensorProducts()` from its category (thereby completely stripping the fact it knows and carries a tensor product of `R`-modules structure).

The problem is exactly what the test is failing for: The construction is not giving the parent back. The underlying issue is that we do not have a Schur algebra representation on the individual factors. So it needs its own `construction()` method. The simple fix is just to have it return `None` to match the previous behavior. The more complicated one is to implement a `ConstructorFunctor` for it, but I don't think that will be useful here.



---

archive/issue_comments_558350.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04\">7e75938</a></td><td><code>fix SchurTensormodule with construction None</code></td></tr></table>\n",
    "created_at": "2022-08-25T06:54:44Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558350",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04">7e75938</a></td><td><code>fix SchurTensormodule with construction None</code></td></tr></table>




---

archive/issue_comments_558351.json:
```json
{
    "body": "**Changing commit** from \"[bc6828fd5f265e2921aeaf4739f3fd86611a6190](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)\" to \"[7e7593841298c488e2d9424740179da210459f04](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)\".",
    "created_at": "2022-08-25T06:54:44Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bc6828fd5f265e2921aeaf4739f3fd86611a6190](https://github.com/sagemath/sagetrac-mirror/commit/bc6828fd5f265e2921aeaf4739f3fd86611a6190)" to "[7e7593841298c488e2d9424740179da210459f04](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)".



---

archive/issue_comments_558352.json:
```json
{
    "body": "<a id='comment:42'></a>\nall green lights. Ready to go ?",
    "created_at": "2022-08-25T10:24:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558352",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:42'></a>
all green lights. Ready to go ?



---

archive/issue_comments_558353.json:
```json
{
    "body": "<a id='comment:43'></a>\nany thoughts on [comment:36](#comment%3A36)?",
    "created_at": "2022-08-25T11:12:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558353",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
any thoughts on [comment:36](#comment%3A36)?



---

archive/issue_comments_558354.json:
```json
{
    "body": "<a id='comment:44'></a>\nusing tensor_factors seems to be consistent with cartesian_factors",
    "created_at": "2022-08-25T11:14:28Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558354",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'></a>
using tensor_factors seems to be consistent with cartesian_factors



---

archive/issue_comments_558355.json:
```json
{
    "body": "<a id='comment:45'></a>\nYes... this is why I suggested this name in [comment:9](#comment%3A9).\n\nBut Cartesian products also have a method `cartesian_projection` that provides the morphisms that connect the product to the factors.",
    "created_at": "2022-08-25T15:52:36Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558355",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
Yes... this is why I suggested this name in [comment:9](#comment%3A9).

But Cartesian products also have a method `cartesian_projection` that provides the morphisms that connect the product to the factors.



---

archive/issue_comments_558356.json:
```json
{
    "body": "<a id='comment:46'></a>\nbut there are no canonical morphisms from a tensor product to its factors",
    "created_at": "2022-08-25T17:12:15Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558356",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>
but there are no canonical morphisms from a tensor product to its factors



---

archive/issue_comments_558357.json:
```json
{
    "body": "<a id='comment:47'></a>\nI suggested a different morphism in [comment:36](#comment%3A36)",
    "created_at": "2022-08-25T17:13:15Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558357",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
I suggested a different morphism in [comment:36](#comment%3A36)



---

archive/issue_comments_558358.json:
```json
{
    "body": "<a id='comment:48'></a>\nplease let us keep that possibility for another ticket",
    "created_at": "2022-08-25T17:41:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558358",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:48'></a>
please let us keep that possibility for another ticket



---

archive/issue_comments_558359.json:
```json
{
    "body": "<a id='comment:49'></a>\nI agree that we should have another ticket for possible generic morphisms as that is likely fraught with cases that could appear in general (like we had with `construction()` and Schur algebra modules).",
    "created_at": "2022-08-26T02:34:31Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558359",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:49'></a>
I agree that we should have another ticket for possible generic morphisms as that is likely fraught with cases that could appear in general (like we had with `construction()` and Schur algebra modules).



---

archive/issue_comments_558360.json:
```json
{
    "body": "<a id='comment:50'></a>\nso, good to go ?",
    "created_at": "2022-08-26T15:05:45Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558360",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:50'></a>
so, good to go ?



---

archive/issue_comments_558361.json:
```json
{
    "body": "<a id='comment:51'></a>\nNo objections here",
    "created_at": "2022-08-26T19:10:18Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558361",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
No objections here



---

archive/issue_events_308112.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T01:21:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308112"
}
```



---

archive/issue_events_308113.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-27T01:21:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308113"
}
```



---

archive/issue_comments_558362.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe, Travis Scrimshaw",
    "created_at": "2022-08-27T01:21:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558362",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Matthias Koeppe, Travis Scrimshaw



---

archive/issue_comments_558363.json:
```json
{
    "body": "<a id='comment:53'></a>\n\n```\nsage -t --long --warn-long 49.3 --random-seed=123 src/sage/categories/modules.py\n**********************************************************************\nFile \"src/sage/categories/modules.py\", line 942, in sage.categories.modules.Modules.TensorProducts.ParentMethods.t\nensor_factors\nFailed example:\n    M.construction()\nExpected:\n    doctest:warning...\n    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors\n    See https://trac.sagemath.org/34393 for details.\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 154, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/src/sage/doctest/control.py\", line 1384, in run\n        self.run_doctests()\n      File \"/home/release/Sage/src/sage/doctest/control.py\", line 1059, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2021, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 1916, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2190, in start\n        super().start()\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", li\nne 121, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", li\nne 224, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py\", li\nne 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\",\n line 19, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py\",\n line 71, in _launch\n        code = process_obj._bootstrap(parent_sentinel=child_r)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py\", line 315, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2162, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2492, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 2544, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 866, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 695, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/src/sage/doctest/forker.py\", line 1093, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.categories.modules.Modules.TensorProducts.ParentMethods.tensor_factors[7]>\", line 1, in <module>\n        M.construction()\n      File \"/home/release/Sage/src/sage/combinat/free_module.py\", line 475, in construction\n        c = super().construction()\n      File \"/home/release/Sage/src/sage/categories/modules.py\", line 917, in construction\n        deprecation(34393, \"implementations of Modules().TensorProducts() now must define the method tensor_factors\")\n      File \"/home/release/Sage/src/sage/misc/superseded.py\", line 99, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/release/Sage/src/sage/misc/superseded.py\", line 180, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py\", line 109, in _showwarnmsg\n        sw(msg.message, msg.category, msg.filename, msg.lineno,\n    :\n    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors\n    See https://trac.sagemath.org/34393 for details.\n    (VectorFunctor, Integer Ring)\n**********************************************************************\n```",
    "created_at": "2022-08-30T19:02:40Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558363",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:53'></a>

```
sage -t --long --warn-long 49.3 --random-seed=123 src/sage/categories/modules.py
**********************************************************************
File "src/sage/categories/modules.py", line 942, in sage.categories.modules.Modules.TensorProducts.ParentMethods.t
ensor_factors
Failed example:
    M.construction()
Expected:
    doctest:warning...
    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors
    See https://trac.sagemath.org/34393 for details.
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 154, in <module>
        err = DC.run()
      File "/home/release/Sage/src/sage/doctest/control.py", line 1384, in run
        self.run_doctests()
      File "/home/release/Sage/src/sage/doctest/control.py", line 1059, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2021, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 1916, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2190, in start
        super().start()
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", li
ne 121, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", li
ne 224, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/context.py", li
ne 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py",
 line 19, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/popen_fork.py",
 line 71, in _launch
        code = process_obj._bootstrap(parent_sentinel=child_r)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/multiprocessing/process.py", line 315, in _bootstrap
        self.run()
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2162, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2492, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 2544, in _run
        result = runner.run(test)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 866, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/src/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.categories.modules.Modules.TensorProducts.ParentMethods.tensor_factors[7]>", line 1, in <module>
        M.construction()
      File "/home/release/Sage/src/sage/combinat/free_module.py", line 475, in construction
        c = super().construction()
      File "/home/release/Sage/src/sage/categories/modules.py", line 917, in construction
        deprecation(34393, "implementations of Modules().TensorProducts() now must define the method tensor_factors")
      File "/home/release/Sage/src/sage/misc/superseded.py", line 99, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/release/Sage/src/sage/misc/superseded.py", line 180, in warning
        warn(message, warning_class, stacklevel)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/warnings.py", line 109, in _showwarnmsg
        sw(msg.message, msg.category, msg.filename, msg.lineno,
    :
    DeprecationWarning: implementations of Modules().TensorProducts() now must define the method tensor_factors
    See https://trac.sagemath.org/34393 for details.
    (VectorFunctor, Integer Ring)
**********************************************************************
```



---

archive/issue_events_308114.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:02:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308114"
}
```



---

archive/issue_events_308115.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:02:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308115"
}
```



---

archive/issue_comments_558364.json:
```json
{
    "body": "<a id='comment:54'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd6cc0e5450b040bb831baa5fb97a4c684c68026\">dd6cc0e</a></td><td><code>Merge branch 'u/chapoton/tensor_components' in 9.7.rc0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126\">b81dbf0</a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2022-08-31T18:54:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd6cc0e5450b040bb831baa5fb97a4c684c68026">dd6cc0e</a></td><td><code>Merge branch 'u/chapoton/tensor_components' in 9.7.rc0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126">b81dbf0</a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_comments_558365.json:
```json
{
    "body": "**Changing commit** from \"[7e7593841298c488e2d9424740179da210459f04](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)\" to \"[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)\".",
    "created_at": "2022-08-31T18:54:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7e7593841298c488e2d9424740179da210459f04](https://github.com/sagemath/sagetrac-mirror/commit/7e7593841298c488e2d9424740179da210459f04)" to "[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)".



---

archive/issue_events_308116.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-31T18:54:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308116"
}
```



---

archive/issue_events_308117.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-31T18:54:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308117"
}
```



---

archive/issue_comments_558366.json:
```json
{
    "body": "<a id='comment:55'></a>\ndoctest fixed, back to needs review",
    "created_at": "2022-08-31T18:54:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558366",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:55'></a>
doctest fixed, back to needs review



---

archive/issue_events_308118.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-31T23:15:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308118"
}
```



---

archive/issue_events_308119.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-31T23:15:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308119"
}
```



---

archive/issue_events_308120.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-09-16T12:08:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308120"
}
```



---

archive/issue_events_308121.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-09-16T12:08:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308121"
}
```



---

archive/issue_comments_558367.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)\" to \"[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)\".",
    "created_at": "2022-09-22T22:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558367",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/tensor_components](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/tensor_components)" to "[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)".



---

archive/issue_events_308122.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308122"
}
```



---

archive/issue_events_308123.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a6a72a99fe48b6da0e89cab893a4d31f5599d892",
    "created_at": "2022-09-22T22:35:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34393#event-308123"
}
```



---

archive/issue_comments_558368.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [Matthias K\u00f6ppe](#comment%3A36):\n> Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?\n> \n> From its domain, the tensor factors can be read off.\n\nI've opened #34628 for this",
    "created_at": "2022-10-02T19:08:45Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558368",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>
Replying to [Matthias Köppe](#comment%3A36):
> Also, maybe instead of just requiring the method `tensor_factors`, how about specifying a method just like `CombinatorialFreeModule.tensor_constructor`?
> 
> From its domain, the tensor factors can be read off.

I've opened #34628 for this



---

archive/issue_comments_558369.json:
```json
{
    "body": "**Changing commit** from \"[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)\" to \"\".",
    "created_at": "2022-10-02T19:08:45Z",
    "issue": "https://github.com/sagemath/sage/issues/34393",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34393#issuecomment-558369",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[b81dbf016724ada9b5cb84407e7a68f18dbc7126](https://github.com/sagemath/sagetrac-mirror/commit/b81dbf016724ada9b5cb84407e7a68f18dbc7126)" to "".
