# Issue 34327: ConvexHPolyhedralSet_base

archive/issues_034090.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nA `ConvexHPolyhedralSet_base` is defined by finitely many linear equations and linear inequalities, some of which may be strict.\n\nExample: { (x,y) : x >= 0, y >= 0 } \\ (0,0) = { x>=0, y>=0, x+y > 0 }\n\n\nA `ConvexVPolyhedralSet_base` is generated by finitely many convex/conic generators; some generators may restrict their coefficients to be strictly positive.\n\nExample: (0,0) u { (x,y) : x > 0, y > 0 } = { a (1,0) + b (0,1) + c (1,1), a>0, b>0, c>=0 }\n\n\nA `ConvexPolyhedralSet_base` has both descriptions.\n\nAny instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.\n\nIn this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through the new class `ConvexHPolyhedralSet_base`, and make it possible to use an instance of a `ConvexHPolyhedralSet_base` subclass as a container for a (non-minimal) H-representation, for example as input to the `Polyhedron` constructor.\n\nFollow-ups: \n- We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).\n- #32159 will add the necessary representation objects to handle the general case.\n\n\nCC:  @yuan-zhou\n\nComponent: **geometry**\n\nBranch/Commit: **[u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base) @ [`ee138b0`](https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34327_\n\n",
    "created_at": "2022-08-09T23:28:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "ConvexHPolyhedralSet_base",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/34327",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

A `ConvexHPolyhedralSet_base` is defined by finitely many linear equations and linear inequalities, some of which may be strict.

Example: { (x,y) : x >= 0, y >= 0 } \ (0,0) = { x>=0, y>=0, x+y > 0 }


A `ConvexVPolyhedralSet_base` is generated by finitely many convex/conic generators; some generators may restrict their coefficients to be strictly positive.

Example: (0,0) u { (x,y) : x > 0, y > 0 } = { a (1,0) + b (0,1) + c (1,1), a>0, b>0, c>=0 }


A `ConvexPolyhedralSet_base` has both descriptions.

Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.

In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through the new class `ConvexHPolyhedralSet_base`, and make it possible to use an instance of a `ConvexHPolyhedralSet_base` subclass as a container for a (non-minimal) H-representation, for example as input to the `Polyhedron` constructor.

Follow-ups: 
- We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).
- #32159 will add the necessary representation objects to handle the general case.


CC:  @yuan-zhou

Component: **geometry**

Branch/Commit: **[u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base) @ [`ee138b0`](https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb)**

_Issue created by migration from https://trac.sagemath.org/ticket/34327_





---

archive/issue_events_467103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-09T23:28:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467103"
}
```



---

archive/issue_events_467104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-09T23:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467104"
}
```



---

archive/issue_events_467105.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-09T23:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467105"
}
```



---

archive/issue_events_467106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-09T23:28:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467106"
}
```



---

archive/issue_comments_554348.json:
```json
{
    "body": "Dependencies: **#32159**",
    "created_at": "2022-08-09T23:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554348",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32159**



---

archive/issue_comments_554349.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,6 @@\n Example: (0,0) u { (x,y) : x > 0, y > 0 } = { a (1,0) + b (0,1) + c (1,1), a>0, b>0, c>=0 }\n \n \n+A `ConvexPolyhedralSet_base` has both descriptions.\n+\n+\n``````\n",
    "created_at": "2022-08-09T23:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554349",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,6 @@
 Example: (0,0) u { (x,y) : x > 0, y > 0 } = { a (1,0) + b (0,1) + c (1,1), a>0, b>0, c>=0 }
 
 
+A `ConvexPolyhedralSet_base` has both descriptions.
+
+
``````




---

archive/issue_comments_554350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,4 +10,5 @@\n \n A `ConvexPolyhedralSet_base` has both descriptions.\n \n+Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.\n \n``````\n",
    "created_at": "2022-08-10T00:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554350",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,4 +10,5 @@
 
 A `ConvexPolyhedralSet_base` has both descriptions.
 
+Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.
 
``````




---

archive/issue_comments_554351.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,7 @@\n \n Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.\n \n+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. \n+\n+#32159 will add the necessary representation objects to handle the general case.\n+\n``````\n",
    "created_at": "2022-08-10T15:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554351",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,7 @@
 
 Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.
 
+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. 
+
+#32159 will add the necessary representation objects to handle the general case.
+
``````




---

archive/issue_comments_554352.json:
```json
{
    "body": "Changed dependencies from **#32159** to none",
    "created_at": "2022-08-10T15:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554352",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32159** to none



---

archive/issue_comments_554353.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n \n Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.\n \n-In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. \n+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).\n \n #32159 will add the necessary representation objects to handle the general case.\n \n``````\n",
    "created_at": "2022-08-10T15:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554353",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 
 Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.
 
-In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. 
+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).
 
 #32159 will add the necessary representation objects to handle the general case.
 
``````




---

archive/issue_comments_554354.json:
```json
{
    "body": "Branch: **[u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base)**",
    "created_at": "2022-08-10T16:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554354",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/convexvpolyhedralset_base__convexhpolyhedralset_base)**



---

archive/issue_comments_554355.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNext: Make `LatticePolytope`, `ConvexRationalPolyhedralCone` subclasses of `ConvexHPolyhedralSet_base` too\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb\"><code>ee138b0</code></a></td><td><code>src/sage/geometry/convex_h_polyhedral_set.py: New</code></td></tr></table>\n",
    "created_at": "2022-08-10T16:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554355",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Next: Make `LatticePolytope`, `ConvexRationalPolyhedralCone` subclasses of `ConvexHPolyhedralSet_base` too

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb"><code>ee138b0</code></a></td><td><code>src/sage/geometry/convex_h_polyhedral_set.py: New</code></td></tr></table>




---

archive/issue_comments_554356.json:
```json
{
    "body": "Commit: **[`ee138b0`](https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb)**",
    "created_at": "2022-08-10T16:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554356",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`ee138b0`](https://github.com/sagemath/sagetrac-mirror/commit/ee138b00bd92db636f1dc2354708c99d39f304fb)**



---

archive/issue_events_467107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-25T01:07:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "title_is": "ConvexHPolyhedralSet_base",
    "title_was": "ConvexVPolyhedralSet_base, ConvexHPolyhedralSet_base",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467107"
}
```



---

archive/issue_comments_554357.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,9 @@\n \n Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.\n \n-In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).\n+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through the new class `ConvexHPolyhedralSet_base`, and make it possible to use an instance of a `ConvexHPolyhedralSet_base` subclass as a container for a (non-minimal) H-representation, for example as input to the `Polyhedron` constructor.\n \n-#32159 will add the necessary representation objects to handle the general case.\n+Follow-ups: \n+- We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).\n+- #32159 will add the necessary representation objects to handle the general case.\n \n``````\n",
    "created_at": "2022-08-25T01:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34327#issuecomment-554357",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,9 @@
 
 Any instance of these three classes can be written as a disjoint union of relative interiors of faces of their closure.
 
-In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through new classes. We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).
+In this ticket, we only refactor `Polyhedron_base` (closed polyhedra) through the new class `ConvexHPolyhedralSet_base`, and make it possible to use an instance of a `ConvexHPolyhedralSet_base` subclass as a container for a (non-minimal) H-representation, for example as input to the `Polyhedron` constructor.
 
-#32159 will add the necessary representation objects to handle the general case.
+Follow-ups: 
+- We introduce new method names for the Vrepresentation that do not assume minimality of the distinguished representation: `convex_generators` instead of `vertices` etc. (see #26366).
+- #32159 will add the necessary representation objects to handle the general case.
 
``````




---

archive/issue_events_467108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467108"
}
```



---

archive/issue_events_467109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467109"
}
```



---

archive/issue_events_467110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467110"
}
```



---

archive/issue_events_467111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34327",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34327#event-467111"
}
```
