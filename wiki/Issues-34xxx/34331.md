# Issue 34331: fix E251 in geometry and manifolds

archive/issues_034094.json:
```json
{
    "body": "about\n\n```\nE251 unexpected spaces around keyword / parameter equals\n```\n\n**CC:**  @tscrim @kwankyu @slel @dcoudert\n\n**Branch/Commit:** [0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)\n\n**Reviewer:** David Coudert\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/34331\n\n",
    "closed_at": "2022-08-30T19:04:05Z",
    "created_at": "2022-08-10T11:19:09Z",
    "labels": [
        "component: geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "title": "fix E251 in geometry and manifolds",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/34331",
    "user": "https://github.com/fchapoton"
}
```
about

```
E251 unexpected spaces around keyword / parameter equals
```

**CC:**  @tscrim @kwankyu @slel @dcoudert

**Branch/Commit:** [0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)

**Reviewer:** David Coudert

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/34331





---

archive/issue_comments_556899.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc\">67c7a18</a></td><td><code>E251 in geometry/ and manifolds/</code></td></tr></table>\n",
    "created_at": "2022-08-10T11:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556899",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc">67c7a18</a></td><td><code>E251 in geometry/ and manifolds/</code></td></tr></table>




---

archive/issue_events_307695.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-08-10T11:19:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307695"
}
```



---

archive/issue_comments_556900.json:
```json
{
    "body": "**Commit:** [67c7a1804bd1354773b7ac5c1f249a8267545edc](https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc)",
    "created_at": "2022-08-10T11:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556900",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [67c7a1804bd1354773b7ac5c1f249a8267545edc](https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc)



---

archive/issue_comments_556901.json:
```json
{
    "body": "**Branch:** [u/chapoton/34331](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34331)",
    "created_at": "2022-08-10T11:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556901",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/34331](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34331)



---

archive/issue_comments_556902.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1\">c648547</a></td><td><code>fix mistake</code></td></tr></table>\n",
    "created_at": "2022-08-10T19:48:51Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1">c648547</a></td><td><code>fix mistake</code></td></tr></table>




---

archive/issue_comments_556903.json:
```json
{
    "body": "**Changing commit** from \"[67c7a1804bd1354773b7ac5c1f249a8267545edc](https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc)\" to \"[c6485477c54c1d40dd0f58cd9745a61e5c6b75d1](https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1)\".",
    "created_at": "2022-08-10T19:48:51Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[67c7a1804bd1354773b7ac5c1f249a8267545edc](https://github.com/sagemath/sagetrac-mirror/commit/67c7a1804bd1354773b7ac5c1f249a8267545edc)" to "[c6485477c54c1d40dd0f58cd9745a61e5c6b75d1](https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1)".



---

archive/issue_comments_556904.json:
```json
{
    "body": "<a id='comment:3'></a>\ngreen lights, so please review",
    "created_at": "2022-08-11T13:03:32Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556904",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
green lights, so please review



---

archive/issue_comments_556905.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe patchbot reports an error\n\n```\n[sagemath_doc_html-none] [diophanti] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/diophantine_approximation.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/diophantine_approximation\n[sagemath_doc_html-none] Error building the documentation.\n[sagemath_doc_html-none] Traceback (most recent call last):\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n[sagemath_doc_html-none]     return _run_code(code, main_globals, None,\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py\", line 86, in _run_code\n[sagemath_doc_html-none]     exec(code, run_globals)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py\", line 498, in <module>\n[sagemath_doc_html-none]     sys.exit(main())\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py\", line 495, in main\n[sagemath_doc_html-none]     builder()\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 807, in _wrapper\n[sagemath_doc_html-none]     self.write_auto_rest_file(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 1111, in write_auto_rest_file\n[sagemath_doc_html-none]     title = self.get_module_docstring_title(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py\", line 1072, in get_module_docstring_title\n[sagemath_doc_html-none]     __import__(module_name)\n[sagemath_doc_html-none]   File \"/home/chapoton/sage/src/sage/geometry/pseudolines.py\", line 171\n[sagemath_doc_html-none]     def __init__(self, seq, encoding \"auto\"):\n[sagemath_doc_html-none]                                      ^^^^^^\n[sagemath_doc_html-none] SyntaxError: invalid syntax\n[sagemath_doc_html-none] \n[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious\n[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run\n[sagemath_doc_html-none]     \"make doc-clean doc-uninstall\" first and try again.\n[sagemath_doc_html-none] make[4]: *** [Makefile:27: doc-inventory--reference-discrete_geometry] Error 1\n[sagemath_doc_html-none] make[4]: *** Waiting for unfinished jobs....\n[sagemath_doc_html-none] [databases] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/databases.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/databases\n[sagemath_doc_html-none] make[3]: *** [Makefile:44: doc-inventory-reference] Error 2\nmake[2]: *** [Makefile:3084: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2\nmake[1]: *** [Makefile:3084: /home/chapoton/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2\nmake[1]: Leaving directory '/home/chapoton/sage/build/make'\n```",
    "created_at": "2022-08-11T13:07:00Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556905",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>
The patchbot reports an error

```
[sagemath_doc_html-none] [diophanti] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/diophantine_approximation.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/diophantine_approximation
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 196, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 86, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 498, in <module>
[sagemath_doc_html-none]     sys.exit(main())
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 495, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 807, in _wrapper
[sagemath_doc_html-none]     self.write_auto_rest_file(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1111, in write_auto_rest_file
[sagemath_doc_html-none]     title = self.get_module_docstring_title(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1072, in get_module_docstring_title
[sagemath_doc_html-none]     __import__(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/src/sage/geometry/pseudolines.py", line 171
[sagemath_doc_html-none]     def __init__(self, seq, encoding "auto"):
[sagemath_doc_html-none]                                      ^^^^^^
[sagemath_doc_html-none] SyntaxError: invalid syntax
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean doc-uninstall" first and try again.
[sagemath_doc_html-none] make[4]: *** [Makefile:27: doc-inventory--reference-discrete_geometry] Error 1
[sagemath_doc_html-none] make[4]: *** Waiting for unfinished jobs....
[sagemath_doc_html-none] [databases] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/databases.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/databases
[sagemath_doc_html-none] make[3]: *** [Makefile:44: doc-inventory-reference] Error 2
make[2]: *** [Makefile:3084: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2
make[1]: *** [Makefile:3084: /home/chapoton/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2
make[1]: Leaving directory '/home/chapoton/sage/build/make'
```



---

archive/issue_events_307696.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2022-08-11T13:07:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307696"
}
```



---

archive/issue_events_307697.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2022-08-11T13:07:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307697"
}
```



---

archive/issue_comments_556906.json:
```json
{
    "body": "<a id='comment:5'></a>\npas pour la derniere version de la branche : j'ai deja corrig\u00e9 ce probleme dans le dernier commit",
    "created_at": "2022-08-11T13:21:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556906",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
pas pour la derniere version de la branche : j'ai deja corrigé ce probleme dans le dernier commit



---

archive/issue_comments_556907.json:
```json
{
    "body": "<a id='comment:6'></a>\nwhy not defining this list before the return statement ? it might improve readability \n\n```diff\n+                                   VERTICES=[[1] + v for v in self.vertices_list()] \\\n+                                   + [[0] + r for r in self.rays_list()],\n```",
    "created_at": "2022-08-11T13:37:08Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556907",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>
why not defining this list before the return statement ? it might improve readability 

```diff
+                                   VERTICES=[[1] + v for v in self.vertices_list()] \
+                                   + [[0] + r for r in self.rays_list()],
```



---

archive/issue_comments_556908.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613\">0fdd5a2</a></td><td><code>some details in polyhedron/base</code></td></tr></table>\n",
    "created_at": "2022-08-11T14:11:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556908",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613">0fdd5a2</a></td><td><code>some details in polyhedron/base</code></td></tr></table>




---

archive/issue_comments_556909.json:
```json
{
    "body": "**Changing commit** from \"[c6485477c54c1d40dd0f58cd9745a61e5c6b75d1](https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1)\" to \"[0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)\".",
    "created_at": "2022-08-11T14:11:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556909",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c6485477c54c1d40dd0f58cd9745a61e5c6b75d1](https://github.com/sagemath/sagetrac-mirror/commit/c6485477c54c1d40dd0f58cd9745a61e5c6b75d1)" to "[0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)".



---

archive/issue_comments_556910.json:
```json
{
    "body": "<a id='comment:8'></a>\nvoil\u00e0",
    "created_at": "2022-08-11T14:13:15Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556910",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
voilà



---

archive/issue_comments_556911.json:
```json
{
    "body": "<a id='comment:9'></a>\nMerci.",
    "created_at": "2022-08-11T14:15:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556911",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>
Merci.



---

archive/issue_comments_556912.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2022-08-11T14:15:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556912",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_events_307698.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2022-08-11T14:15:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307698"
}
```



---

archive/issue_events_307699.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2022-08-11T14:15:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307699"
}
```



---

archive/issue_comments_556913.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/34331](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34331)\" to \"[0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)\".",
    "created_at": "2022-08-30T19:04:05Z",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34331#issuecomment-556913",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/34331](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/34331)" to "[0fdd5a2a55741c0688bb5a6abc5502349463a613](https://github.com/sagemath/sagetrac-mirror/commit/0fdd5a2a55741c0688bb5a6abc5502349463a613)".



---

archive/issue_events_307700.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:04:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307700"
}
```



---

archive/issue_events_307701.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8ef4334951a33467dfccbffe303206dcdda0cf10",
    "created_at": "2022-08-30T19:04:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34331#event-307701"
}
```
