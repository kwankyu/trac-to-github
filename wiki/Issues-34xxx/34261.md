# Issue 34261: Allow multiplication of a left and right noncommutative ideal

archive/issues_034024.json:
```json
{
    "body": "Their product has a simple generating set, but right now Sage does not allow this:\n\n```\nsage: MS = MatrixSpace(QQ,2,2)\nsage: IL = MS * [2*MS.0,3*MS.1]\nsage: IR = MS.3 * MS\nsage: IL * IR\n...\nNotImplementedError: Cannot multiply non-commutative ideals.\n```\nWe fix this.\n\n**Keywords:** ideals\n\n**Branch/Commit:** [c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)\n\n**Reviewer:** Dave Morris\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/34261\n\n",
    "closed_at": "2022-08-30T06:51:47Z",
    "created_at": "2022-08-02T06:40:02Z",
    "labels": [
        "component: algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "title": "Allow multiplication of a left and right noncommutative ideal",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/34261",
    "user": "https://github.com/tscrim"
}
```
Their product has a simple generating set, but right now Sage does not allow this:

```
sage: MS = MatrixSpace(QQ,2,2)
sage: IL = MS * [2*MS.0,3*MS.1]
sage: IR = MS.3 * MS
sage: IL * IR
...
NotImplementedError: Cannot multiply non-commutative ideals.
```
We fix this.

**Keywords:** ideals

**Branch/Commit:** [c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)

**Reviewer:** Dave Morris

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/34261





---

archive/issue_events_307209.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-02T07:20:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "rename": {
        "from": "Allow multipliciation of twosided noncommutative ideals",
        "to": "Allow multipliciation of a left and right noncommutative ideal"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307209"
}
```



---

archive/issue_comments_556053.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,11 +1,10 @@\n-Their product is well-defined, but right now Sage does not allow this:\n+Their product has a simple generating set, but right now Sage does not allow this:\n \n ```\n sage: MS = MatrixSpace(QQ,2,2)\n-sage: I = MS * [2*MS.0,3*MS.1] * MS\n-sage: I.side()\n-'twosided'\n-sage: I * I\n+sage: IL = MS * [2*MS.0,3*MS.1]\n+sage: IR = MS.3 * MS\n+sage: IL * IR\n ...\n NotImplementedError: Cannot multiply non-commutative ideals.\n ```\n``````\n",
    "created_at": "2022-08-02T07:20:59Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556053",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,11 +1,10 @@
-Their product is well-defined, but right now Sage does not allow this:
+Their product has a simple generating set, but right now Sage does not allow this:
 
 ```
 sage: MS = MatrixSpace(QQ,2,2)
-sage: I = MS * [2*MS.0,3*MS.1] * MS
-sage: I.side()
-'twosided'
-sage: I * I
+sage: IL = MS * [2*MS.0,3*MS.1]
+sage: IR = MS.3 * MS
+sage: IL * IR
 ...
 NotImplementedError: Cannot multiply non-commutative ideals.
 ```
``````




---

archive/issue_events_307210.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2022-08-02T07:22:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307210"
}
```



---

archive/issue_comments_556054.json:
```json
{
    "body": "**Commit:** [20dd21c71db7e4ccea149e9caa89f36e831c24c4](https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4)",
    "created_at": "2022-08-02T07:22:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556054",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [20dd21c71db7e4ccea149e9caa89f36e831c24c4](https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4)



---

archive/issue_comments_556055.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4\">20dd21c</a></td><td><code>Allowing L * R nc ideals.</code></td></tr></table>\n",
    "created_at": "2022-08-02T07:22:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556055",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4">20dd21c</a></td><td><code>Allowing L * R nc ideals.</code></td></tr></table>




---

archive/issue_comments_556056.json:
```json
{
    "body": "**Branch:** [public/algebras/ideal_multiplication-34261](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/ideal_multiplication-34261)",
    "created_at": "2022-08-02T07:22:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556056",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/algebras/ideal_multiplication-34261](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/ideal_multiplication-34261)



---

archive/issue_comments_556057.json:
```json
{
    "body": "<a id='comment:3'></a>\nI don't think you should allow two-sided ideals as input, because the generating set of  a product of two-sided ideals is not just the product of the generating sets: `(RaR)(RbR)` may be much larger than `RabR` when `R` is not commutative. Therefore, I think you need to delete the line `or self.side() == other.side() == \"twosided\"`.",
    "created_at": "2022-08-11T03:11:28Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556057",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:3'></a>
I don't think you should allow two-sided ideals as input, because the generating set of  a product of two-sided ideals is not just the product of the generating sets: `(RaR)(RbR)` may be much larger than `RabR` when `R` is not commutative. Therefore, I think you need to delete the line `or self.side() == other.side() == "twosided"`.



---

archive/issue_events_307211.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-11T05:23:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "rename": {
        "from": "Allow multipliciation of a left and right noncommutative ideal",
        "to": "Allow multiplication of a left and right noncommutative ideal"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307211"
}
```



---

archive/issue_comments_556058.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66c079bd06a93edeee7d41b493e6a90865a9b2d6\">66c079b</a></td><td><code>Merge branch 'public/algebras/ideal_multiplication-34261' of https://github.com/sagemath/sagetrac-mirror into public/algebras/ideal_multiplication-34261</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b\">c41575e</a></td><td><code>Cannot specify a generating set when multiplying two-sided ideals.</code></td></tr></table>\n",
    "created_at": "2022-08-12T05:47:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66c079bd06a93edeee7d41b493e6a90865a9b2d6">66c079b</a></td><td><code>Merge branch 'public/algebras/ideal_multiplication-34261' of https://github.com/sagemath/sagetrac-mirror into public/algebras/ideal_multiplication-34261</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b">c41575e</a></td><td><code>Cannot specify a generating set when multiplying two-sided ideals.</code></td></tr></table>




---

archive/issue_comments_556059.json:
```json
{
    "body": "**Changing commit** from \"[20dd21c71db7e4ccea149e9caa89f36e831c24c4](https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4)\" to \"[c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)\".",
    "created_at": "2022-08-12T05:47:57Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[20dd21c71db7e4ccea149e9caa89f36e831c24c4](https://github.com/sagemath/sagetrac-mirror/commit/20dd21c71db7e4ccea149e9caa89f36e831c24c4)" to "[c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)".



---

archive/issue_comments_556060.json:
```json
{
    "body": "<a id='comment:6'></a>\nIndeed, you're correct. I have updated the code.",
    "created_at": "2022-08-12T05:48:12Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556060",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Indeed, you're correct. I have updated the code.



---

archive/issue_comments_556061.json:
```json
{
    "body": "<a id='comment:7'></a>\nLGTM. The patchbot timeouts do not seem to be related, and the build-and-test was successful.",
    "created_at": "2022-08-12T17:30:21Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556061",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:7'></a>
LGTM. The patchbot timeouts do not seem to be related, and the build-and-test was successful.



---

archive/issue_events_307212.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2022-08-12T17:30:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307212"
}
```



---

archive/issue_events_307213.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2022-08-12T17:30:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307213"
}
```



---

archive/issue_comments_556062.json:
```json
{
    "body": "**Reviewer:** Dave Morris",
    "created_at": "2022-08-12T17:30:21Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556062",
    "user": "https://github.com/DaveWitteMorris"
}
```

**Reviewer:** Dave Morris



---

archive/issue_comments_556063.json:
```json
{
    "body": "<a id='comment:8'></a>\nThank you.",
    "created_at": "2022-08-13T02:18:53Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556063",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Thank you.



---

archive/issue_events_307214.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T06:51:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307214"
}
```



---

archive/issue_events_307215.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "456c8fb785550a4a1a379a65b645083982c533ea",
    "created_at": "2022-08-30T06:51:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34261#event-307215"
}
```



---

archive/issue_comments_556064.json:
```json
{
    "body": "**Changing branch** from \"[public/algebras/ideal_multiplication-34261](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/ideal_multiplication-34261)\" to \"[c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)\".",
    "created_at": "2022-08-30T06:51:47Z",
    "issue": "https://github.com/sagemath/sage/issues/34261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34261#issuecomment-556064",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/algebras/ideal_multiplication-34261](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/ideal_multiplication-34261)" to "[c41575e223d8481e172f1a9ec0a59f247cdc429b](https://github.com/sagemath/sagetrac-mirror/commit/c41575e223d8481e172f1a9ec0a59f247cdc429b)".
