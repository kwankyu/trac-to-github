# Issue 34912: Reduced words of ReflectionGroup elements are not well-defined

archive/issues_034675.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nWe cannot use it for hashing as I found the following:\n\n```\nsage: G4 = ReflectionGroup(4)\nsage: elt = G4[22]\nsage: elt\n(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)\nsage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)\nsage: elt == y\nTrue\nsage: hash(elt) == hash(y)\nFalse\nsage: elt._reduced_word\n[0, 0, 1, 0, 0, 1]\nsage: y._reduced_word\n[1, 0, 0, 1, 0, 0]\n```\nEither we figure out how to make this consistent or we need to change the hashing.\n\nCC:  @stumpc5\n\nComponent: **group theory**\n\nKeywords: **gap3, complex reflection group**\n\nAuthor: **Travis Scrimshaw, Christian Stump**\n\nBranch/Commit: **[u/tscrim/hash_reflection_groups-34912](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/hash_reflection_groups-34912) @ [`14d6f61`](https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180)**\n\nReviewer: **Christian Stump, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/34912_\n\n",
    "created_at": "2023-01-14T23:47:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/positive%20review"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Reduced words of ReflectionGroup elements are not well-defined",
    "type": "issue",
    "updated_at": "2023-01-26T08:45:58Z",
    "url": "https://github.com/sagemath/sage/issues/34912",
    "user": "https://github.com/tscrim"
}
```
<div id="comment:0"></div>

We cannot use it for hashing as I found the following:

```
sage: G4 = ReflectionGroup(4)
sage: elt = G4[22]
sage: elt
(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)
sage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)
sage: elt == y
True
sage: hash(elt) == hash(y)
False
sage: elt._reduced_word
[0, 0, 1, 0, 0, 1]
sage: y._reduced_word
[1, 0, 0, 1, 0, 0]
```
Either we figure out how to make this consistent or we need to change the hashing.

CC:  @stumpc5

Component: **group theory**

Keywords: **gap3, complex reflection group**

Author: **Travis Scrimshaw, Christian Stump**

Branch/Commit: **[u/tscrim/hash_reflection_groups-34912](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/hash_reflection_groups-34912) @ [`14d6f61`](https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180)**

Reviewer: **Christian Stump, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/34912_





---

archive/issue_events_472857.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2023-01-14T23:47:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472857"
}
```



---

archive/issue_events_472858.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2023-01-14T23:47:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472858"
}
```



---

archive/issue_events_472859.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2023-01-14T23:47:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472859"
}
```



---

archive/issue_events_472860.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2023-01-14T23:47:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472860"
}
```



---

archive/issue_comments_562596.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n We cannot use it for hashing as I found the following:\n \n ```\n+sage: G4 = ReflectionGroup(4)\n sage: elt = G4[22]\n sage: elt(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)\n sage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)\n``````\n",
    "created_at": "2023-01-14T23:47:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562596",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 We cannot use it for hashing as I found the following:
 
 ```
+sage: G4 = ReflectionGroup(4)
 sage: elt = G4[22]
 sage: elt(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)
 sage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)
``````




---

archive/issue_comments_562597.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,8 @@\n ```\n sage: G4 = ReflectionGroup(4)\n sage: elt = G4[22]\n-sage: elt(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)\n+sage: elt\n+(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)\n sage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)\n sage: elt == y\n True\n``````\n",
    "created_at": "2023-01-14T23:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562597",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,8 @@
 ```
 sage: G4 = ReflectionGroup(4)
 sage: elt = G4[22]
-sage: elt(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)
+sage: elt
+(1,12)(2,24)(3,19)(4,22)(5,17)(6,20)(7,23)(8,9)(10,21)(11,13)(14,18)(15,16)
 sage: y = (elt * G4.gen(1)) * G4.gen(1) * G4.gen(1)
 sage: elt == y
 True
``````




---

archive/issue_comments_562598.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI do not remember why we chose to use that gap3 method to compute reduced words rather than taking the lex-minimal one in the simples (which is also very fast and much cleaner to implement).\n\nWe could try to move to the lex-min one after checking the timings.",
    "created_at": "2023-01-15T16:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562598",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:3" align="right">comment:3</div>

I do not remember why we chose to use that gap3 method to compute reduced words rather than taking the lex-minimal one in the simples (which is also very fast and much cleaner to implement).

We could try to move to the lex-min one after checking the timings.



---

archive/issue_comments_562599.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI think this demonstrates that we need to go with the lex-min, unless we change the hash function. We can keep both, with an option in `reduced_word()` to choose between the two, but it probably would be best just have the lex-min only (not just the default or only for the hashing).",
    "created_at": "2023-01-16T00:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562599",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

I think this demonstrates that we need to go with the lex-min, unless we change the hash function. We can keep both, with an option in `reduced_word()` to choose between the two, but it probably would be best just have the lex-min only (not just the default or only for the hashing).



---

archive/issue_comments_562600.json:
```json
{
    "body": "Branch: **[u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined)**",
    "created_at": "2023-01-18T17:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562600",
    "user": "https://github.com/stumpc5"
}
```

Branch: **[u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined)**



---

archive/issue_comments_562601.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n@tscrim: it turned out that we cannot use the reduced word for hashing since recomputing it takes too long. Please play around with `test_hash` and use move it to `__hash__` when you are satisfied.",
    "created_at": "2023-01-18T17:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562601",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:6" align="right">comment:6</div>

@tscrim: it turned out that we cannot use the reduced word for hashing since recomputing it takes too long. Please play around with `test_hash` and use move it to `__hash__` when you are satisfied.



---

archive/issue_comments_562602.json:
```json
{
    "body": "Commit: **[`498e8db`](https://github.com/sagemath/sagetrac-mirror/commit/498e8dbd59906fcd80ff10d5f3f66b0168cd5abc)**",
    "created_at": "2023-01-18T17:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562602",
    "user": "https://github.com/stumpc5"
}
```

Commit: **[`498e8db`](https://github.com/sagemath/sagetrac-mirror/commit/498e8dbd59906fcd80ff10d5f3f66b0168cd5abc)**



---

archive/issue_comments_562603.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAre you saying it is too slow to just cache the lex-min reduced word or that it is too slow to have both (potentially computing the lex-min every time `__hash__` is called)?\n\nI was suggesting to have both functions that can create both ways. Although I meant to say that the default (and what we cache) should be the lex-min.\n\nIf computing the lex-min is too slow, then let's just use the hash of the permutation representation with\n\n```python\ndef __hash__(self):\n    return hash(self._parent) | super().__hash__()\n```",
    "created_at": "2023-01-23T06:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562603",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Are you saying it is too slow to just cache the lex-min reduced word or that it is too slow to have both (potentially computing the lex-min every time `__hash__` is called)?

I was suggesting to have both functions that can create both ways. Although I meant to say that the default (and what we cache) should be the lex-min.

If computing the lex-min is too slow, then let's just use the hash of the permutation representation with

```python
def __hash__(self):
    return hash(self._parent) | super().__hash__()
```



---

archive/issue_comments_562604.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNo, we do not have any good way of computing reduced words for complex non-real reflection groups. That means that we currently have\n\n*  an interator that caches reduced words along the way (`for w in W: print(w.reduced_word())`). That is reasonably fast, but not stable, meaning that we cannot assume to get the same reduced word along iterations (though it usually will be the same).\n\n* a method `reduced_word` that recomputes it using gap3 or gap4 depending on a permutation group with generators. That is slow, but can be done if really needed.\n\nNeither of the two is good for hashing, one is not stable and one is too slow. But the permutation representation is really fast and suitable for hashing.",
    "created_at": "2023-01-23T07:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562604",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:8" align="right">comment:8</div>

No, we do not have any good way of computing reduced words for complex non-real reflection groups. That means that we currently have

*  an interator that caches reduced words along the way (`for w in W: print(w.reduced_word())`). That is reasonably fast, but not stable, meaning that we cannot assume to get the same reduced word along iterations (though it usually will be the same).

* a method `reduced_word` that recomputes it using gap3 or gap4 depending on a permutation group with generators. That is slow, but can be done if really needed.

Neither of the two is good for hashing, one is not stable and one is too slow. But the permutation representation is really fast and suitable for hashing.



---

archive/issue_comments_562605.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nPlease compare `super().__hash__()` with my hash method and just use the faster one. Yours is probably the right one to use.",
    "created_at": "2023-01-23T07:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562605",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:9" align="right">comment:9</div>

Please compare `super().__hash__()` with my hash method and just use the faster one. Yours is probably the right one to use.



---

archive/issue_comments_562606.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOkay, thank you. I will do that tomorrow.",
    "created_at": "2023-01-23T07:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562606",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Okay, thank you. I will do that tomorrow.



---

archive/issue_comments_562607.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nUsing the hash from `super()` is faster:\n\n```\nsage: G20 = ReflectionGroup(20)\nsage: G20.cardinality()\n360\nsage: %timeit [hash(x) for x in G20]\n1.2 ms \u00b1 16 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1,000 loops each)\nsage: %timeit [x.test_hash() for x in G20]\n1.45 ms \u00b1 21.1 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1,000 loops each)\n\nsage: W = ReflectionGroup((4,2,5))\nsage: W.cardinality()\n61440\nsage: %timeit [x.__hash__() for x in W]\n36.2 ms \u00b1 1.06 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\nsage: %timeit [x.test_hash() for x in W]\n91.3 ms \u00b1 776 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n```",
    "created_at": "2023-01-25T01:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562607",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

Using the hash from `super()` is faster:

```
sage: G20 = ReflectionGroup(20)
sage: G20.cardinality()
360
sage: %timeit [hash(x) for x in G20]
1.2 ms ± 16 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
sage: %timeit [x.test_hash() for x in G20]
1.45 ms ± 21.1 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)

sage: W = ReflectionGroup((4,2,5))
sage: W.cardinality()
61440
sage: %timeit [x.__hash__() for x in W]
36.2 ms ± 1.06 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
sage: %timeit [x.test_hash() for x in W]
91.3 ms ± 776 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)
```



---

archive/issue_comments_562608.json:
```json
{
    "body": "Changed branch from **[u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined)** to **[u/tscrim/hash_reflection_groups-34912](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/hash_reflection_groups-34912)**",
    "created_at": "2023-01-25T02:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562608",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined](https://github.com/sagemath/sagetrac-mirror/tree/u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined)** to **[u/tscrim/hash_reflection_groups-34912](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/hash_reflection_groups-34912)**



---

archive/issue_events_472861.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2023-01-25T02:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472861"
}
```



---

archive/issue_comments_562609.json:
```json
{
    "body": "Author: **Travis Scrimshaw, Christian Stump**",
    "created_at": "2023-01-25T02:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562609",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw, Christian Stump**



---

archive/issue_comments_562610.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI have changed it and updated some doctests. I also fixed a few others that I saw along the way with gap3 not being regularly tested against.\n\n#30450 no longer seems to occur (both before and after this ticket).\n\nThe `gap3` interface file tests all seem to be quite broken, but that is unrelated to this ticket.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/518ecbfb3a62dd809f090b15fe6158344f6b3077\"><code>518ecbf</code></a></td><td><code>Merge branch 'u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined' of https://github.com/sagemath/sagetrac-mirror into u/tscrim/hash_reflection_groups-34912</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c\"><code>3a1a03a</code></a></td><td><code>Updating `__hash__` and updating gap3 doctests to pass.</code></td></tr></table>\n",
    "created_at": "2023-01-25T02:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562610",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

I have changed it and updated some doctests. I also fixed a few others that I saw along the way with gap3 not being regularly tested against.

#30450 no longer seems to occur (both before and after this ticket).

The `gap3` interface file tests all seem to be quite broken, but that is unrelated to this ticket.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/518ecbfb3a62dd809f090b15fe6158344f6b3077"><code>518ecbf</code></a></td><td><code>Merge branch 'u/stumpc5/reduced_words_of_reflectiongroup_elements_are_not_well_defined' of https://github.com/sagemath/sagetrac-mirror into u/tscrim/hash_reflection_groups-34912</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c"><code>3a1a03a</code></a></td><td><code>Updating `__hash__` and updating gap3 doctests to pass.</code></td></tr></table>




---

archive/issue_comments_562611.json:
```json
{
    "body": "Reviewer: **Christian Stump, Travis Scrimshaw**",
    "created_at": "2023-01-25T02:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562611",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Christian Stump, Travis Scrimshaw**



---

archive/issue_comments_562612.json:
```json
{
    "body": "Changed commit from **[`498e8db`](https://github.com/sagemath/sagetrac-mirror/commit/498e8dbd59906fcd80ff10d5f3f66b0168cd5abc)** to **[`3a1a03a`](https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c)**",
    "created_at": "2023-01-25T02:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562612",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`498e8db`](https://github.com/sagemath/sagetrac-mirror/commit/498e8dbd59906fcd80ff10d5f3f66b0168cd5abc)** to **[`3a1a03a`](https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c)**



---

archive/issue_comments_562613.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI would only use `iterator_tracking_words` if actually needed. In the other situations, we should keep `for w in W:` to check that the iterator (inherited from permutation groups) also works correctly.\n\nOtherwise, the ticket looks good to go!",
    "created_at": "2023-01-26T07:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562613",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:13" align="right">comment:13</div>

I would only use `iterator_tracking_words` if actually needed. In the other situations, we should keep `for w in W:` to check that the iterator (inherited from permutation groups) also works correctly.

Otherwise, the ticket looks good to go!



---

archive/issue_comments_562614.json:
```json
{
    "body": "Changed commit from **[`3a1a03a`](https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c)** to **[`14d6f61`](https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180)**",
    "created_at": "2023-01-26T07:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562614",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a1a03a`](https://github.com/sagemath/sagetrac-mirror/commit/3a1a03ae2cc38d75691418bfda23a703e002139c)** to **[`14d6f61`](https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180)**



---

archive/issue_comments_562615.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180\"><code>14d6f61</code></a></td><td><code>Adding some systematic doctests and one detail.</code></td></tr></table>\n",
    "created_at": "2023-01-26T07:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562615",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14d6f6191190904f92728e00989de7ec1b7ff180"><code>14d6f61</code></a></td><td><code>Adding some systematic doctests and one detail.</code></td></tr></table>




---

archive/issue_comments_562616.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThank you. I didn't want to update those doctests and outputs, so instead I just added some equivalent systematic checks that made sure the results were equivalent.",
    "created_at": "2023-01-26T07:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562616",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

Thank you. I didn't want to update those doctests and outputs, so instead I just added some equivalent systematic checks that made sure the results were equivalent.



---

archive/issue_events_472862.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2023-01-26T07:43:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472862"
}
```



---

archive/issue_events_472863.json:
```json
{
    "actor": "https://github.com/stumpc5",
    "created_at": "2023-01-26T07:43:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34912#event-472863"
}
```



---

archive/issue_comments_562617.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThank you!",
    "created_at": "2023-01-26T08:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/34912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34912#issuecomment-562617",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Thank you!
