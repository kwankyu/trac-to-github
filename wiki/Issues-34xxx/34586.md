# Issue 34586: Fix giac build to work with pari 2.15

archive/issues_034349.json:
```json
{
    "body": "split out from #34537\n\nA workaround is documented in https://github.com/sagemath/trac_to_gh/wiki/ReleaseTours-sage-9.7#Availability-of-Sage-9.7-and-installation-help but we should get this in urgently.\n\nDepends on #34496\n\n**CC:**  @videlec @antonio-rojas parisse\n\n**Branch:** [u/mkoeppe/fix_giac_build_to_work_with_pari_2_15](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_giac_build_to_work_with_pari_2_15)\n\n**Commit:** [041d16b521d8231e5b441015f08bb386f9d2a51c](https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c)\n\n**Upstream:** Reported upstream. No feedback yet.\n\n**Reviewer:** Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/34586\n\n",
    "closed_at": "2022-11-14T19:36:43Z",
    "created_at": "2022-09-25T19:53:55Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug",
        "invalid"
    ],
    "title": "Fix giac build to work with pari 2.15",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/34586",
    "user": "https://github.com/mkoeppe"
}
```
split out from #34537

A workaround is documented in https://github.com/sagemath/trac_to_gh/wiki/ReleaseTours-sage-9.7#Availability-of-Sage-9.7-and-installation-help but we should get this in urgently.

Depends on #34496

**CC:**  @videlec @antonio-rojas parisse

**Branch:** [u/mkoeppe/fix_giac_build_to_work_with_pari_2_15](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_giac_build_to_work_with_pari_2_15)

**Commit:** [041d16b521d8231e5b441015f08bb386f9d2a51c](https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c)

**Upstream:** Reported upstream. No feedback yet.

**Reviewer:** Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/34586





---

archive/issue_comments_561320.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/fix_giac_build_to_work_with_pari_2_15](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_giac_build_to_work_with_pari_2_15)",
    "created_at": "2022-09-25T19:55:37Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561320",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/fix_giac_build_to_work_with_pari_2_15](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_giac_build_to_work_with_pari_2_15)



---

archive/issue_comments_561321.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561321",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_561322.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c\">041d16b</a></td><td><code>ANYARG giac patch</code></td></tr></table>\n",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561322",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c">041d16b</a></td><td><code>ANYARG giac patch</code></td></tr></table>




---

archive/issue_comments_561323.json:
```json
{
    "body": "**Commit:** [041d16b521d8231e5b441015f08bb386f9d2a51c](https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c)",
    "created_at": "2022-09-25T19:56:03Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561323",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [041d16b521d8231e5b441015f08bb386f9d2a51c](https://github.com/sagemath/sagetrac-mirror/commit/041d16b521d8231e5b441015f08bb386f9d2a51c)



---

archive/issue_events_309238.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-25T19:56:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309238"
}
```



---

archive/issue_events_309239.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-25T19:58:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309239"
}
```



---

archive/issue_events_309240.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-25T19:58:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309240"
}
```



---

archive/issue_comments_561324.json:
```json
{
    "body": "<a id='comment:5'></a>\nI'm not convinced that a broken build is worse than the build working and then having many things broken at runtime (all the test failures reported in #34537). If anything, system 2.15 should be rejected until #34537 is merged.",
    "created_at": "2022-09-25T20:07:40Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561324",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:5'></a>
I'm not convinced that a broken build is worse than the build working and then having many things broken at runtime (all the test failures reported in #34537). If anything, system 2.15 should be rejected until #34537 is merged.



---

archive/issue_events_309241.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-25T20:08:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309241"
}
```



---

archive/issue_events_309242.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-25T20:08:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309242"
}
```



---

archive/issue_comments_561325.json:
```json
{
    "body": "<a id='comment:7'></a>\nOK, that's probably better",
    "created_at": "2022-09-25T20:09:31Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561325",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
OK, that's probably better



---

archive/issue_comments_561326.json:
```json
{
    "body": "<a id='comment:8'></a>\nWe should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.",
    "created_at": "2022-09-30T10:35:45Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561326",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.



---

archive/issue_comments_561327.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [Dima Pasechnik](#comment%3A8):\n> We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.\n> \n\nPlease see #34496 for the fix.",
    "created_at": "2022-09-30T12:13:45Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561327",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Replying to [Dima Pasechnik](#comment%3A8):
> We should disallow using of pari 2.15 from the system. I'll make patch - we already getting many reports on sage-devel etc due to this issus.
> 

Please see #34496 for the fix.



---

archive/issue_events_309243.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T19:55:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309243"
}
```



---

archive/issue_events_309244.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T19:55:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309244"
}
```



---

archive/issue_events_309245.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-30T19:55:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309245"
}
```



---

archive/issue_comments_561328.json:
```json
{
    "body": "**Changing reviewer** from \"Matthias Koeppe\" to \"\".",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561328",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Matthias Koeppe" to "".



---

archive/issue_comments_561329.json:
```json
{
    "body": "**Changing author** from \"Vincent Delecroix\" to \"\".",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561329",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Vincent Delecroix" to "".



---

archive/issue_comments_561330.json:
```json
{
    "body": "**Dependencies:** #34496",
    "created_at": "2022-09-30T19:55:22Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561330",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #34496



---

archive/issue_comments_561331.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2022-09-30T22:12:35Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561331",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_309246.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-09-30T22:12:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309246"
}
```



---

archive/issue_events_309247.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-09-30T22:12:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309247"
}
```



---

archive/issue_comments_561332.json:
```json
{
    "body": "<a id='comment:12'></a>\nupstream report: https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2800",
    "created_at": "2022-10-04T09:48:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561332",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
upstream report: https://xcas.univ-grenoble-alpes.fr/forum/viewtopic.php?f=3&t=2800



---

archive/issue_comments_561333.json:
```json
{
    "body": "**Upstream:** Reported upstream. No feedback yet.",
    "created_at": "2022-10-04T09:48:24Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561333",
    "user": "https://github.com/dimpase"
}
```

**Upstream:** Reported upstream. No feedback yet.



---

archive/issue_comments_561334.json:
```json
{
    "body": "<a id='comment:13'></a>\nNot sure if relevant for Sage, but the giac test suite segfaults here with pari 2.15 (after applying the build fix).",
    "created_at": "2022-10-04T09:53:21Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561334",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:13'></a>
Not sure if relevant for Sage, but the giac test suite segfaults here with pari 2.15 (after applying the build fix).



---

archive/issue_comments_561335.json:
```json
{
    "body": "<a id='comment:14'></a>\nshould be discussing on #34496, not here, sorry.",
    "created_at": "2022-10-04T10:08:16Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561335",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
should be discussing on #34496, not here, sorry.



---

archive/issue_comments_561336.json:
```json
{
    "body": "<a id='comment:15'></a>\noops, I meant #34537",
    "created_at": "2022-10-04T10:09:00Z",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/34586#issuecomment-561336",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
oops, I meant #34537



---

archive/issue_events_309248.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-14T19:36:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309248"
}
```



---

archive/issue_events_309249.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-14T19:36:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/34586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/34586#event-309249"
}
```
