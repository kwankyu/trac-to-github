# Issue 23960: Doctest SymPy's test_sage.py on installation

archive/issues_023723.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThe SymPy-->Sage interface is theoretically tested in SymPy's `sympy/external/tests/test_sage.py` but practically it does not happen in the SymPy repo even if the file is changed, because of Travis limitations (a Sage installation is needed). The file header states:\n\n```\n# Execute this test inside Sage, e.g. with:\n# sage -python bin/test sympy/external/tests/test_sage.py\n#\n# This file can be tested by Sage itself by:\n# sage -t sympy/external/tests/test_sage.py\n# and if all tests pass, it should be copied (verbatim) to Sage, so that it is\n# automatically doctested by Sage.  Note that this second method imports the\n# version of SymPy in Sage, whereas the -python method imports the local version\n# of SymPy (both use the local version of the tests, however).\n```\n\nIn the present version the file fails two doctests so these should be fixed in SymPy. This ticket should then add the patch to the Sage SymPy install and change the SymPy install script to automatically copy the file into Sage's `tests/` directory.\n\nThe SymPy fixes are in https://github.com/sympy/sympy/pull/13392\n\nComponent: **packages: standard**\n\nAuthor: **Ralf Stephan**\n\nBranch/Commit: **[u/rws/23960-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23960-1) @ [`b4c5106`](https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/23960_\n\n",
    "closed_at": "2017-12-12T08:23:33Z",
    "created_at": "2017-10-03T14:13:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Doctest SymPy's test_sage.py on installation",
    "type": "issue",
    "updated_at": "2017-12-12T08:23:33Z",
    "url": "https://github.com/sagemath/sage/issues/23960",
    "user": "https://github.com/rwst"
}
```
<div id="comment:0"></div>

The SymPy-->Sage interface is theoretically tested in SymPy's `sympy/external/tests/test_sage.py` but practically it does not happen in the SymPy repo even if the file is changed, because of Travis limitations (a Sage installation is needed). The file header states:

```
# Execute this test inside Sage, e.g. with:
# sage -python bin/test sympy/external/tests/test_sage.py
#
# This file can be tested by Sage itself by:
# sage -t sympy/external/tests/test_sage.py
# and if all tests pass, it should be copied (verbatim) to Sage, so that it is
# automatically doctested by Sage.  Note that this second method imports the
# version of SymPy in Sage, whereas the -python method imports the local version
# of SymPy (both use the local version of the tests, however).
```

In the present version the file fails two doctests so these should be fixed in SymPy. This ticket should then add the patch to the Sage SymPy install and change the SymPy install script to automatically copy the file into Sage's `tests/` directory.

The SymPy fixes are in https://github.com/sympy/sympy/pull/13392

Component: **packages: standard**

Author: **Ralf Stephan**

Branch/Commit: **[u/rws/23960-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23960-1) @ [`b4c5106`](https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10)**

_Issue created by migration from https://trac.sagemath.org/ticket/23960_





---

archive/issue_events_330035.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-03T14:13:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330035"
}
```



---

archive/issue_events_330036.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-03T14:13:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330036"
}
```



---

archive/issue_events_330037.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-03T14:13:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330037"
}
```



---

archive/issue_events_330038.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-03T14:13:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330038"
}
```



---

archive/issue_comments_361707.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAfter adding: `sage: from sympy.external.tests.test_sage import *` the fails are:\n\n```\n**********************************************************************\nFile \"test_sage.py\", line 260, in test_sage.test_abstract_function\nFailed example:\n    test_undefined_function()\nExpected:\n    sage  test_abstract_function()\nGot:\n    <BLANKLINE>\n**********************************************************************\nFile \"test_sage.py\", line 265, in test_sage.test_abstract_function\nFailed example:\n    check_expression(\"lucas(x)\", \"x\")\nExpected:\n    Traceback (most recent call last):\n    ...\n    AttributeError: 'module' object has no attribute 'lucas'\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest test_sage.test_abstract_function[17]>\", line 1, in <module>\n        check_expression(\"lucas(x)\", \"x\")\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sympy/external/tests/test_sage.py\", line 71, in check_expression\n        e_sage = _sage_method(sympy.S(e_sympy))\n      File \"/home/ralf/sage/local/lib/python2.7/site-packages/sympy/core/function.py\", line 720, in _sage_\n        raise AttributeError\n    AttributeError\n```",
    "created_at": "2017-10-03T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361707",
    "user": "https://github.com/rwst"
}
```

<div id="comment:1" align="right">comment:1</div>

After adding: `sage: from sympy.external.tests.test_sage import *` the fails are:

```
**********************************************************************
File "test_sage.py", line 260, in test_sage.test_abstract_function
Failed example:
    test_undefined_function()
Expected:
    sage  test_abstract_function()
Got:
    <BLANKLINE>
**********************************************************************
File "test_sage.py", line 265, in test_sage.test_abstract_function
Failed example:
    check_expression("lucas(x)", "x")
Expected:
    Traceback (most recent call last):
    ...
    AttributeError: 'module' object has no attribute 'lucas'
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
        exec(compiled, globs)
      File "<doctest test_sage.test_abstract_function[17]>", line 1, in <module>
        check_expression("lucas(x)", "x")
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sympy/external/tests/test_sage.py", line 71, in check_expression
        e_sage = _sage_method(sympy.S(e_sympy))
      File "/home/ralf/sage/local/lib/python2.7/site-packages/sympy/core/function.py", line 720, in _sage_
        raise AttributeError
    AttributeError
```



---

archive/issue_comments_361708.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,5 @@\n ```\n \n In the present version the file fails two doctests so these should be fixed in SymPy. This ticket should then add the patch to the Sage SymPy install and change the SymPy install script to automatically copy the file into Sage's `tests/` directory.\n+\n+The SymPy fixes are in https://github.com/sympy/sympy/pull/13392\n``````\n",
    "created_at": "2017-10-03T14:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361708",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,5 @@
 ```
 
 In the present version the file fails two doctests so these should be fixed in SymPy. This ticket should then add the patch to the Sage SymPy install and change the SymPy install script to automatically copy the file into Sage's `tests/` directory.
+
+The SymPy fixes are in https://github.com/sympy/sympy/pull/13392
``````




---

archive/issue_comments_361709.json:
```json
{
    "body": "Branch: **[u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_)**",
    "created_at": "2017-10-03T15:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361709",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_)**



---

archive/issue_comments_361710.json:
```json
{
    "body": "Commit: **[`eb3f077`](https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70)**",
    "created_at": "2017-10-03T15:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361710",
    "user": "https://github.com/rwst"
}
```

Commit: **[`eb3f077`](https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70)**



---

archive/issue_events_330039.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-03T15:06:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330039"
}
```



---

archive/issue_comments_361711.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2017-10-03T15:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361711",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_361712.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70\"><code>eb3f077</code></a></td><td><code>23960: Copy SymPy's test_sage.py into Sage's tests/</code></td></tr></table>\n",
    "created_at": "2017-10-03T15:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361712",
    "user": "https://github.com/rwst"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70"><code>eb3f077</code></a></td><td><code>23960: Copy SymPy's test_sage.py into Sage's tests/</code></td></tr></table>




---

archive/issue_comments_361713.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI don't think that copying files into the Sage source tree is acceptable.\n\nInstead, we could run the testsuite in the `spkg-check` file of `sympy`.",
    "created_at": "2017-10-04T12:51:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361713",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

I don't think that copying files into the Sage source tree is acceptable.

Instead, we could run the testsuite in the `spkg-check` file of `sympy`.



---

archive/issue_events_330040.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-04T12:51:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330040"
}
```



---

archive/issue_events_330041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-04T12:51:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330041"
}
```



---

archive/issue_comments_361714.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWait a minute, this testsuite is actually installed anyway in `site-packages/sympy`?\n\nSo instead of copying that file, why not run the standard doctester on it?\n\n```\nsage: from sympy.external.tests import test_sage\nsage: import doctest\nsage: doctest.testmod(test_sage)\n```\n\nThis is using the standard Python doctest framework, so the tests should be written with `>>>` instead of `sage:` and the tests should be put in real docstrings. A string somewhere in the middle of a `.py` file isn't a docstring.",
    "created_at": "2017-10-04T13:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361714",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Wait a minute, this testsuite is actually installed anyway in `site-packages/sympy`?

So instead of copying that file, why not run the standard doctester on it?

```
sage: from sympy.external.tests import test_sage
sage: import doctest
sage: doctest.testmod(test_sage)
```

This is using the standard Python doctest framework, so the tests should be written with `>>>` instead of `sage:` and the tests should be put in real docstrings. A string somewhere in the middle of a `.py` file isn't a docstring.



---

archive/issue_comments_361715.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment%3A5):\n> Instead, we could run the testsuite in the `spkg-check` file of `sympy`.\n\nIsn't that run after package installation? You need full Sage for it.",
    "created_at": "2017-10-04T13:42:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361715",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment%3A5):
> Instead, we could run the testsuite in the `spkg-check` file of `sympy`.

Isn't that run after package installation? You need full Sage for it.



---

archive/issue_comments_361716.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@rwst](#comment%3A7):\n> Isn't that run after package installation?\n\nYes, it is.\n\n> You need full Sage for it.\n\nProbably not \"full Sage\", or do you? It is possible to add `$(SAGERUNTIME)` to `build/pkgs/sympy/dependencies` if you require Sage. But that is not \"full Sage\", just a minimal Sage.\n\nIn any case, the solution from [comment:6] is simpler.",
    "created_at": "2017-10-04T13:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361716",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@rwst](#comment%3A7):
> Isn't that run after package installation?

Yes, it is.

> You need full Sage for it.

Probably not "full Sage", or do you? It is possible to add `$(SAGERUNTIME)` to `build/pkgs/sympy/dependencies` if you require Sage. But that is not "full Sage", just a minimal Sage.

In any case, the solution from [comment:6] is simpler.



---

archive/issue_comments_361717.json:
```json
{
    "body": "Changed branch from **[u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_)** to **[u/rws/23960-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23960-1)**",
    "created_at": "2017-10-04T15:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361717",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/copy_sympy_s_test_sage_py_into_sage_s_tests_)** to **[u/rws/23960-1](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/23960-1)**



---

archive/issue_events_330042.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-04T15:06:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "title_is": "Doctest SymPy's test_sage.py on installation",
    "title_was": "Copy SymPy's test_sage.py into Sage's tests/",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330042"
}
```



---

archive/issue_comments_361718.json:
```json
{
    "body": "Changed commit from **[`eb3f077`](https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70)** to **[`22cc992`](https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d)**",
    "created_at": "2017-10-04T15:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361718",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[`eb3f077`](https://github.com/sagemath/sagetrac-mirror/commit/eb3f077007cb9d87269130f1934ba59c4cfe4c70)** to **[`22cc992`](https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d)**



---

archive/issue_events_330043.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-04T15:06:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330043"
}
```



---

archive/issue_events_330044.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-04T15:06:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330044"
}
```



---

archive/issue_comments_361719.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI copied this solution from the giacpy package so I assume it will work on a new Sage install as well (which I didn't test, I only tested with `sage -p` and 'SAGE_CHECK=yes' on a compiled Sage).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d\"><code>22cc992</code></a></td><td><code>23960: Doctest SymPy's test_sage.py on installation</code></td></tr></table>\n",
    "created_at": "2017-10-04T15:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361719",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

I copied this solution from the giacpy package so I assume it will work on a new Sage install as well (which I didn't test, I only tested with `sage -p` and 'SAGE_CHECK=yes' on a compiled Sage).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d"><code>22cc992</code></a></td><td><code>23960: Doctest SymPy's test_sage.py on installation</code></td></tr></table>




---

archive/issue_comments_361720.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI can test it. I don't understand this comment though: `# --force-lib because we dont want sage -t to compile test-sage.py`\n\nAlso, indent with 4 spaces.",
    "created_at": "2017-10-04T15:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361720",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

I can test it. I don't understand this comment though: `# --force-lib because we dont want sage -t to compile test-sage.py`

Also, indent with 4 spaces.



---

archive/issue_comments_361721.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment%3A11):\n> I can test it. I don't understand this comment though: `# --force-lib because we dont want sage -t to compile test-sage.py`\n\nI'll remove it. Is `--force-lib` necessary at all?\n\n> Also, indent with 4 spaces.",
    "created_at": "2017-10-05T05:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361721",
    "user": "https://github.com/rwst"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment%3A11):
> I can test it. I don't understand this comment though: `# --force-lib because we dont want sage -t to compile test-sage.py`

I'll remove it. Is `--force-lib` necessary at all?

> Also, indent with 4 spaces.



---

archive/issue_events_330045.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-05T08:16:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330045"
}
```



---

archive/issue_events_330046.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-05T08:16:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330046"
}
```



---

archive/issue_comments_361722.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n\n```\nFile \"src/sympy/external/tests/test_sage.py\", line 258, in sympy.external.tests.test_sage.test_abstract_function\nFailed example:\n    test_issue_4023()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sympy.external.tests.test_sage.test_abstract_function[14]>\", line 1, in <module>\n        test_issue_4023()\n      File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sympy/external/tests/test_sage.py\", line 198, in test_issue_4023\n        assert s == (a*log(1 + a) - a*log(a) + log(1 + a) - 1)/a\n      File \"sage/symbolic/expression.pyx\", line 2764, in sage.symbolic.expression.Expression.__nonzero__ (build/cythonized/sage/symbolic/expression.cpp:19169)\n        return test_relation_maxima(self)\n      File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/symbolic/relation.py\", line 467, in test_relation_maxima\n        m = relation._maxima_()\n      File \"sage/symbolic/expression.pyx\", line 798, in sage.symbolic.expression.Expression._maxima_ (build/cythonized/sage/symbolic/expression.cpp:7820)\n        return super(Expression, self)._interface_(maxima)\n      File \"sage/structure/sage_object.pyx\", line 734, in sage.structure.sage_object.SageObject._interface_ (build/cythonized/sage/structure/sage_object.c:6513)\n        nm = I.name()\n      File \"sage/misc/lazy_import.pyx\", line 322, in sage.misc.lazy_import.LazyImport.__getattr__ (build/cythonized/sage/misc/lazy_import.c:3546)\n        return getattr(self.get_object(), attr)\n      File \"sage/misc/lazy_import.pyx\", line 189, in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2198)\n        return self._get_object()\n      File \"sage/misc/lazy_import.pyx\", line 221, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2468)\n        self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)\n      File \"/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.py\", line 104, in <module>\n        ecl_eval(\"(require 'maxima)\")\n      File \"sage/libs/ecl.pyx\", line 1322, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10817)\n        cpdef EclObject ecl_eval(bytes s):\n      File \"sage/libs/ecl.pyx\", line 1337, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10756)\n        o=ecl_safe_eval(o)\n      File \"sage/libs/ecl.pyx\", line 349, in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5807)\n        raise RuntimeError(\"ECL says: \"+ecl_base_string_pointer_safe(s))\n    RuntimeError: ECL says: Module error: Don't know how to REQUIRE MAXIMA.\n```",
    "created_at": "2017-10-05T08:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361722",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>


```
File "src/sympy/external/tests/test_sage.py", line 258, in sympy.external.tests.test_sage.test_abstract_function
Failed example:
    test_issue_4023()
Exception raised:
    Traceback (most recent call last):
      File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sympy.external.tests.test_sage.test_abstract_function[14]>", line 1, in <module>
        test_issue_4023()
      File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sympy/external/tests/test_sage.py", line 198, in test_issue_4023
        assert s == (a*log(1 + a) - a*log(a) + log(1 + a) - 1)/a
      File "sage/symbolic/expression.pyx", line 2764, in sage.symbolic.expression.Expression.__nonzero__ (build/cythonized/sage/symbolic/expression.cpp:19169)
        return test_relation_maxima(self)
      File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/symbolic/relation.py", line 467, in test_relation_maxima
        m = relation._maxima_()
      File "sage/symbolic/expression.pyx", line 798, in sage.symbolic.expression.Expression._maxima_ (build/cythonized/sage/symbolic/expression.cpp:7820)
        return super(Expression, self)._interface_(maxima)
      File "sage/structure/sage_object.pyx", line 734, in sage.structure.sage_object.SageObject._interface_ (build/cythonized/sage/structure/sage_object.c:6513)
        nm = I.name()
      File "sage/misc/lazy_import.pyx", line 322, in sage.misc.lazy_import.LazyImport.__getattr__ (build/cythonized/sage/misc/lazy_import.c:3546)
        return getattr(self.get_object(), attr)
      File "sage/misc/lazy_import.pyx", line 189, in sage.misc.lazy_import.LazyImport.get_object (build/cythonized/sage/misc/lazy_import.c:2198)
        return self._get_object()
      File "sage/misc/lazy_import.pyx", line 221, in sage.misc.lazy_import.LazyImport._get_object (build/cythonized/sage/misc/lazy_import.c:2468)
        self._object = getattr(__import__(self._module, {}, {}, [self._name]), self._name)
      File "/home/jdemeyer/sage-test/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.py", line 104, in <module>
        ecl_eval("(require 'maxima)")
      File "sage/libs/ecl.pyx", line 1322, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10817)
        cpdef EclObject ecl_eval(bytes s):
      File "sage/libs/ecl.pyx", line 1337, in sage.libs.ecl.ecl_eval (build/cythonized/sage/libs/ecl.c:10756)
        o=ecl_safe_eval(o)
      File "sage/libs/ecl.pyx", line 349, in sage.libs.ecl.ecl_safe_eval (build/cythonized/sage/libs/ecl.c:5807)
        raise RuntimeError("ECL says: "+ecl_base_string_pointer_safe(s))
    RuntimeError: ECL says: Module error: Don't know how to REQUIRE MAXIMA.
```



---

archive/issue_comments_361723.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAh the proof machinery, easy fix.",
    "created_at": "2017-10-05T08:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361723",
    "user": "https://github.com/rwst"
}
```

<div id="comment:14" align="right">comment:14</div>

Ah the proof machinery, easy fix.



---

archive/issue_comments_361724.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe Sage doctest framework needs to determine whether to load the file to be doctested or not. If the file to be tested is part of a package (as opposed to a stand-alone script), then it is never loaded. If `--force-lib` is given, it is also not loaded.\n\nIn this case, `--force-lib` is not needed because the file `test_sage.py` is part of a package.",
    "created_at": "2017-10-05T09:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361724",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

The Sage doctest framework needs to determine whether to load the file to be doctested or not. If the file to be tested is part of a package (as opposed to a stand-alone script), then it is never loaded. If `--force-lib` is given, it is also not loaded.

In this case, `--force-lib` is not needed because the file `test_sage.py` is part of a package.



---

archive/issue_comments_361725.json:
```json
{
    "body": "Changed commit from **[`22cc992`](https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d)** to **[`fb92cb7`](https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1)**",
    "created_at": "2017-10-05T13:21:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361725",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`22cc992`](https://github.com/sagemath/sagetrac-mirror/commit/22cc992dd679bc36fe22aecf59d37cd8de3aef6d)** to **[`fb92cb7`](https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1)**



---

archive/issue_comments_361726.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1\"><code>fb92cb7</code></a></td><td><code>23960: add SymPy patch that avoids proving equality in test_sage.py</code></td></tr></table>\n",
    "created_at": "2017-10-05T13:21:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361726",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1"><code>fb92cb7</code></a></td><td><code>23960: add SymPy patch that avoids proving equality in test_sage.py</code></td></tr></table>




---

archive/issue_comments_361727.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSee for both SymPy patches:\n\n- https://github.com/sympy/sympy/pull/13392\n- https://github.com/sympy/sympy/pull/13402\n\nAgain, unfortunately I can't test this myself.",
    "created_at": "2017-10-05T13:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361727",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

See for both SymPy patches:

- https://github.com/sympy/sympy/pull/13392
- https://github.com/sympy/sympy/pull/13402

Again, unfortunately I can't test this myself.



---

archive/issue_events_330047.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:24:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330047"
}
```



---

archive/issue_events_330048.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:24:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330048"
}
```



---

archive/issue_events_330049.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:25:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330049"
}
```



---

archive/issue_events_330050.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:25:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330050"
}
```



---

archive/issue_comments_361728.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9\"><code>dfb4b23</code></a></td><td><code>23960: address reviewer's comments</code></td></tr></table>\n",
    "created_at": "2017-10-05T13:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361728",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9"><code>dfb4b23</code></a></td><td><code>23960: address reviewer's comments</code></td></tr></table>




---

archive/issue_comments_361729.json:
```json
{
    "body": "Changed commit from **[`fb92cb7`](https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1)** to **[`dfb4b23`](https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9)**",
    "created_at": "2017-10-05T13:28:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361729",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb92cb7`](https://github.com/sagemath/sagetrac-mirror/commit/fb92cb7d1610ec8fd929b32b9700f895d1e6f4a1)** to **[`dfb4b23`](https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9)**



---

archive/issue_events_330051.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:28:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330051"
}
```



---

archive/issue_events_330052.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T13:28:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330052"
}
```



---

archive/issue_comments_361730.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAccording to the git Trac plugin, you added an empty file as patch.",
    "created_at": "2017-10-05T13:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361730",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

According to the git Trac plugin, you added an empty file as patch.



---

archive/issue_comments_361731.json:
```json
{
    "body": "Changed commit from **[`dfb4b23`](https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9)** to **[`056502a`](https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2)**",
    "created_at": "2017-10-05T14:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361731",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dfb4b23`](https://github.com/sagemath/sagetrac-mirror/commit/dfb4b237a97642c39f591505251f3b71fbe536e9)** to **[`056502a`](https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2)**



---

archive/issue_comments_361732.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2\"><code>056502a</code></a></td><td><code>23960: add SymPy patch that avoids proving equality in test_sage.py</code></td></tr></table>\n",
    "created_at": "2017-10-05T14:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361732",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2"><code>056502a</code></a></td><td><code>23960: add SymPy patch that avoids proving equality in test_sage.py</code></td></tr></table>




---

archive/issue_events_330053.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T14:26:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330053"
}
```



---

archive/issue_events_330054.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T14:26:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330054"
}
```



---

archive/issue_comments_361733.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nApparently I tested an empty file, thanks.",
    "created_at": "2017-10-05T14:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361733",
    "user": "https://github.com/rwst"
}
```

<div id="comment:23" align="right">comment:23</div>

Apparently I tested an empty file, thanks.



---

archive/issue_comments_361734.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10\"><code>b4c5106</code></a></td><td><code>23960: fix patch</code></td></tr></table>\n",
    "created_at": "2017-10-05T15:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361734",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10"><code>b4c5106</code></a></td><td><code>23960: fix patch</code></td></tr></table>




---

archive/issue_comments_361735.json:
```json
{
    "body": "Changed commit from **[`056502a`](https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2)** to **[`b4c5106`](https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10)**",
    "created_at": "2017-10-05T15:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`056502a`](https://github.com/sagemath/sagetrac-mirror/commit/056502a2b9483883073f9d31c91d84b21d6457c2)** to **[`b4c5106`](https://github.com/sagemath/sagetrac-mirror/commit/b4c5106a0057c2a955a3c5b025f9ede724257b10)**



---

archive/issue_events_330055.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T15:45:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330055"
}
```



---

archive/issue_events_330056.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-05T15:45:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330056"
}
```



---

archive/issue_comments_361736.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThis ticket actually seems the ONLY way to test the SymPy/Sage interface because the same attempt on SymPy Travis never worked, see https://github.com/sympy/sympy/issues/13395",
    "created_at": "2017-10-10T14:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361736",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

This ticket actually seems the ONLY way to test the SymPy/Sage interface because the same attempt on SymPy Travis never worked, see https://github.com/sympy/sympy/issues/13395



---

archive/issue_comments_361737.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSee also #24006.",
    "created_at": "2017-10-10T15:43:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361737",
    "user": "https://github.com/rwst"
}
```

<div id="comment:27" align="right">comment:27</div>

See also #24006.



---

archive/issue_comments_361738.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThis is obsoleted by #24006.",
    "created_at": "2017-10-15T15:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/23960#issuecomment-361738",
    "user": "https://github.com/rwst"
}
```

<div id="comment:28" align="right">comment:28</div>

This is obsoleted by #24006.



---

archive/issue_events_330057.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-15T15:28:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330057"
}
```



---

archive/issue_events_330058.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-15T15:28:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330058"
}
```



---

archive/issue_events_330059.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-15T15:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330059"
}
```



---

archive/issue_events_330060.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330060"
}
```



---

archive/issue_events_330061.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330061"
}
```



---

archive/issue_events_330062.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330062"
}
```



---

archive/issue_events_330063.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/23960",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/23960#event-330063"
}
```
