# Issue 24322: Use new-style GlobalOptions

archive/issues_024085.json:
```json
{
    "body": "The syntax\n\n```\noptions=GlobalOptions(...\n    doc=\"\"\"\n    EXAMPLES::\n\n        sage: #doctest here\n    \"\"\"\n)\n```\nhas the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n\nThis ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326\n\n**CC:**  @AndrewAtLarge @tscrim\n\n**Branch/Commit:** [577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/24322\n\n",
    "closed_at": "2017-12-13T17:37:29Z",
    "created_at": "2017-12-04T10:44:57Z",
    "labels": [
        "component: doctest coverage",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.2",
    "title": "Use new-style GlobalOptions",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/24322",
    "user": "https://github.com/jdemeyer"
}
```
The syntax

```
options=GlobalOptions(...
    doc="""
    EXAMPLES::

        sage: #doctest here
    """
)
```
has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.

This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326

**CC:**  @AndrewAtLarge @tscrim

**Branch/Commit:** [577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)

**Reviewer:** Travis Scrimshaw

**Author:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/24322





---

archive/issue_events_217972.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-04T11:12:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217972"
}
```



---

archive/issue_events_217973.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-04T11:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "component: doctest coverage",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217973"
}
```



---

archive/issue_events_217974.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-04T11:12:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "rename": {
        "from": "Use new-style GlobalOptions in combinat",
        "to": "Use new-style GlobalOptions to test examples"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217974"
}
```



---

archive/issue_comments_370761.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,14 @@\n-Apply #23238\n+The syntax\n+\n+```\n+options=GlobalOptions(...\n+    doc=\"\"\"\n+    EXAMPLES::\n+\n+        sage: #doctest here\n+    \"\"\"\n+)\n+```\n+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n+\n+This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.\n``````\n",
    "created_at": "2017-12-04T11:12:46Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370761",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,14 @@
-Apply #23238
+The syntax
+
+```
+options=GlobalOptions(...
+    doc="""
+    EXAMPLES::
+
+        sage: #doctest here
+    """
+)
+```
+has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
+
+This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.
``````




---

archive/issue_comments_370762.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n ```\n has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n \n-This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.\n``````\n",
    "created_at": "2017-12-04T11:29:49Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370762",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 ```
 has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
 
-This ticket uses the new syntax in all cases where the `GlobalOptions` has doctests.
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.
``````




---

archive/issue_events_217975.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-04T11:29:49Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "rename": {
        "from": "Use new-style GlobalOptions to test examples",
        "to": "Use new-style GlobalOptions"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217975"
}
```



---

archive/issue_comments_370763.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n ```\n has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n \n-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.\n``````\n",
    "created_at": "2017-12-04T12:43:48Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370763",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 ```
 has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
 
-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures: #24323, #24324, #24325.
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.
``````




---

archive/issue_comments_370764.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n ```\n has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n \n-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326\n``````\n",
    "created_at": "2017-12-04T12:50:08Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370764",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 ```
 has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
 
-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some easy ones are fixed, others are postponed to other tickets: #24323, #24324, #24325.
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326
``````




---

archive/issue_comments_370765.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/use_new_style_globaloptions_in_combinat](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/use_new_style_globaloptions_in_combinat)",
    "created_at": "2017-12-04T12:52:30Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370765",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/use_new_style_globaloptions_in_combinat](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/use_new_style_globaloptions_in_combinat)



---

archive/issue_comments_370766.json:
```json
{
    "body": "**Commit:** [577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)",
    "created_at": "2017-12-04T12:53:02Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370766",
    "user": "https://github.com/jdemeyer"
}
```

**Commit:** [577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)



---

archive/issue_comments_370767.json:
```json
{
    "body": "<a id='comment:6'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40\">577504b</a></td><td><code>Use new-style GlobalOptions to test examples</code></td></tr></table>\n",
    "created_at": "2017-12-04T12:53:02Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370767",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40">577504b</a></td><td><code>Use new-style GlobalOptions to test examples</code></td></tr></table>




---

archive/issue_events_217976.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-12-04T12:53:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217976"
}
```



---

archive/issue_comments_370768.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n ```\n has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.\n \n-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326\n+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326\n``````\n",
    "created_at": "2017-12-05T08:59:15Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370768",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 ```
 has the unfortunate effect that the doctests are not actually seen as doctests. They are just a string, nothing more. Ticket #23238 was created to allow a new syntax for `GlobalOptions`, which makes the doctests actually doctests.
 
-This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are postponed to other tickets: #24323, #24324, #24325. #24326
+This ticket uses the new syntax in all cases. This enables some doctests which were not tested before. As expected, this uncovered various failures. Some trivial ones are fixed, others are marked as `# known bug` with the following tickets opened: #24323, #24324, #24325. #24326
``````




---

archive/issue_events_217977.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-12-06T14:26:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217977"
}
```



---

archive/issue_events_217978.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-12-06T14:26:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217978"
}
```



---

archive/issue_comments_370769.json:
```json
{
    "body": "<a id='comment:8'></a>\nNow to fix all of those follow-up tickets. `:)`",
    "created_at": "2017-12-06T14:26:29Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370769",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Now to fix all of those follow-up tickets. `:)`



---

archive/issue_comments_370770.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-12-06T14:26:29Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370770",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_370771.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/use_new_style_globaloptions_in_combinat](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/use_new_style_globaloptions_in_combinat)\" to \"[577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)\".",
    "created_at": "2017-12-13T17:37:29Z",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24322#issuecomment-370771",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/use_new_style_globaloptions_in_combinat](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/use_new_style_globaloptions_in_combinat)" to "[577504b4686476efe14cd193c22cdbd0031f9a40](https://github.com/sagemath/sagetrac-mirror/commit/577504b4686476efe14cd193c22cdbd0031f9a40)".



---

archive/issue_events_217979.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-13T17:37:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217979"
}
```



---

archive/issue_events_217980.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2cbaa17071a1fdd0bfd285127e14d0e76fdeb29a",
    "created_at": "2017-12-13T17:37:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24322",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24322#event-217980"
}
```
