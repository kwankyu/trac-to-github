# Issue 24740: py3: numerous string fixes to sage.numerical.backends

archive/issues_024503.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nTrying to make progress on my backlog of Python 3 fixes I haven't made tickets for...\n\nThis one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n\nI'm not exactly sure what implication this has for the C interfaces that were exported for these methods, or if we care.\n\nComponent: **python3**\n\nAuthor: **Erik Bray**\n\nBranch: **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24740_\n\n",
    "closed_at": "2018-12-23T23:41:08Z",
    "created_at": "2018-02-15T14:50:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: numerous string fixes to sage.numerical.backends",
    "type": "issue",
    "updated_at": "2019-01-03T10:15:42Z",
    "url": "https://github.com/sagemath/sage/issues/24740",
    "user": "https://github.com/embray"
}
```
<div id="comment:0"></div>

Trying to make progress on my backlog of Python 3 fixes I haven't made tickets for...

This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).

I'm not exactly sure what implication this has for the C interfaces that were exported for these methods, or if we care.

Component: **python3**

Author: **Erik Bray**

Branch: **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**

Reviewer: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/24740_





---

archive/issue_events_339711.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339711"
}
```



---

archive/issue_events_339712.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339712"
}
```



---

archive/issue_events_339713.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339713"
}
```



---

archive/issue_events_339714.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:50:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339714"
}
```



---

archive/issue_comments_376093.json:
```json
{
    "body": "Commit: **[`f08fb45`](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)**",
    "created_at": "2018-02-15T14:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376093",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`f08fb45`](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)**



---

archive/issue_comments_376094.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350\"><code>f08fb45</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-02-15T14:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350"><code>f08fb45</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_events_339715.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-02-15T14:51:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339715"
}
```



---

archive/issue_comments_376095.json:
```json
{
    "body": "Replying to [@embray](https://github.com/sagemath/sage/issues/24740#comment:0):\n> This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n\nThey don't seem to be performance-critical methods, so I'm fine with it.\n\nOne potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.",
    "created_at": "2018-02-27T09:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376095",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [@embray](https://github.com/sagemath/sage/issues/24740#comment:0):
> This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).

They don't seem to be performance-critical methods, so I'm fine with it.

One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.



---

archive/issue_comments_376096.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?",
    "created_at": "2018-02-27T09:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376096",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?



---

archive/issue_comments_376097.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn `src/sage/numerical/backends/gurobi_backend.pyx` I see a `if name` which should be `if name is not None`",
    "created_at": "2018-02-27T09:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376097",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

In `src/sage/numerical/backends/gurobi_backend.pyx` I see a `if name` which should be `if name is not None`



---

archive/issue_events_339716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:47:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339716"
}
```



---

archive/issue_events_339717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-02-27T09:47:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339717"
}
```



---

archive/issue_comments_376098.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSeveral \"vertex\" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.",
    "created_at": "2018-02-27T09:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376098",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Several "vertex" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.



---

archive/issue_comments_376099.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n> This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?\n\nThat would actually be bad because it would break most cases which explicitly should not accept bytes.  Specifically for filenames, it's better to just make a special case for accepting bytes.  Though I don't think high-level file handling functions need accept bytes in most cases either unless there were an explicit reason to.",
    "created_at": "2018-02-27T11:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376099",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment%3A4):
> This ticket makes me think of a general problem with `str_to_bytes`: I think you should always accept `bytes` for filenames (Python generally does that). So it might be a good idea to allow `str_to_bytes` to accept `bytes` input (I said this before but you refused that). What do you think?

That would actually be bad because it would break most cases which explicitly should not accept bytes.  Specifically for filenames, it's better to just make a special case for accepting bytes.  Though I don't think high-level file handling functions need accept bytes in most cases either unless there were an explicit reason to.



---

archive/issue_comments_376100.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jdemeyer](#comment%3A6):\n> Several \"vertex\" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.\n\nI can't say I'm 100% clear on that myself since it's not obvious that this code is even used anywhere in Sage.  But it's duplicating the Sage Graph API and I don't see what makes you think it should accept bytes.",
    "created_at": "2018-02-27T12:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376100",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jdemeyer](#comment%3A6):
> Several "vertex" methods in `glpk_graph_backend.pyx` used a take a `char*` as argument. To me, it's not obvious to me that the canonical replacement is `str` (as opposed to `bytes`). In any case, it feels wrong to disallow `bytes`.

I can't say I'm 100% clear on that myself since it's not obvious that this code is even used anywhere in Sage.  But it's duplicating the Sage Graph API and I don't see what makes you think it should accept bytes.



---

archive/issue_comments_376101.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment%3A3):\n> Replying to [@embray](https://github.com/sagemath/sage/issues/24740#comment:0):\n> > This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).\n> \n> \n> They don't seem to be performance-critical methods, so I'm fine with it.\n> \n> One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.\n\nIt is a problem, and some of these modules are not well tested because of it.  Though in the cases I've changed it should be fairly clear that it's the right approach in general (i.e. we are passing python `str`s to interfaces that expect `char *`).",
    "created_at": "2018-02-27T12:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376101",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment%3A3):
> Replying to [@embray](https://github.com/sagemath/sage/issues/24740#comment:0):
> > This one is slightly questionable in that there were many `cpdef` functions in this package that take `char *` arguments, and I changed them to take non-typed arguments (effectively `str`).
> 
> 
> They don't seem to be performance-critical methods, so I'm fine with it.
> 
> One potential problem for reviewing this ticket is that it involves several external packages, some of which are not even free to install.

It is a problem, and some of these modules are not well tested because of it.  Though in the cases I've changed it should be fairly clear that it's the right approach in general (i.e. we are passing python `str`s to interfaces that expect `char *`).



---

archive/issue_events_339718.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339718"
}
```



---

archive/issue_events_339719.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339719"
}
```



---

archive/issue_comments_376102.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI believe this issue can reasonably be addressed for Sage 8.4.",
    "created_at": "2018-07-18T11:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376102",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

I believe this issue can reasonably be addressed for Sage 8.4.



---

archive/issue_events_339720.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:47:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339720"
}
```



---

archive/issue_events_339721.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:47:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339721"
}
```



---

archive/issue_comments_376103.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@embray](#comment%3A7):\n> Specifically for filenames, it's better to just make a special case for accepting bytes.\n\nHow about a new function `filename_to_bytes()`? I never liked the look of `str_to_bytes(fname, FS_ENCODING, 'surrogateescape')` anyway, `filename_to_bytes(fname)` would look much better.",
    "created_at": "2018-08-07T12:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376103",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@embray](#comment%3A7):
> Specifically for filenames, it's better to just make a special case for accepting bytes.

How about a new function `filename_to_bytes()`? I never liked the look of `str_to_bytes(fname, FS_ENCODING, 'surrogateescape')` anyway, `filename_to_bytes(fname)` would look much better.



---

archive/issue_comments_376104.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHow does this ticket now relate to #26020?  It wasn't clear to me why it needed to broken into a separate ticket in the first place.\n\nAre we still going to add `filename_to_bytes()`?  I like the idea but it should probably be done separately.",
    "created_at": "2018-08-16T11:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376104",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

How does this ticket now relate to #26020?  It wasn't clear to me why it needed to broken into a separate ticket in the first place.

Are we still going to add `filename_to_bytes()`?  I like the idea but it should probably be done separately.



---

archive/issue_events_339722.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-16T11:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339722"
}
```



---

archive/issue_events_339723.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-16T11:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339723"
}
```



---

archive/issue_comments_376105.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThese changes look fine to me (but I haven't tested anything).",
    "created_at": "2018-10-07T22:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376105",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

These changes look fine to me (but I haven't tested anything).



---

archive/issue_events_339724.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339724"
}
```



---

archive/issue_events_339725.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T11:41:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339725"
}
```



---

archive/issue_comments_376106.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n@embray, will you be able to finish this one and #24741 ?",
    "created_at": "2018-11-23T16:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376106",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

@embray, will you be able to finish this one and #24741 ?



---

archive/issue_comments_376107.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSorry, yeah, I'll take care of it.  I think I stalled on this one because Jeroen had made some comments earlier, which seemed to suggest a course of action he preferred, and I was waiting for confirmation from him but it never came.  I'll just clean up the existing fixes here and worry about the `filename_to_bytes()` thing later.",
    "created_at": "2018-11-28T08:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376107",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

Sorry, yeah, I'll take care of it.  I think I stalled on this one because Jeroen had made some comments earlier, which seemed to suggest a course of action he preferred, and I was waiting for confirmation from him but it never came.  I'll just clean up the existing fixes here and worry about the `filename_to_bytes()` thing later.



---

archive/issue_events_339726.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-07T19:50:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339726"
}
```



---

archive/issue_events_339727.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-07T19:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339727"
}
```



---

archive/issue_comments_376108.json:
```json
{
    "body": "Changed commit from **[`f08fb45`](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)** to **[`3434d49`](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)**",
    "created_at": "2018-12-10T13:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376108",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f08fb45`](https://github.com/sagemath/sagetrac-mirror/commit/f08fb452108ef1c83eb9f0932d3014df44793350)** to **[`3434d49`](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)**



---

archive/issue_comments_376109.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4\"><code>3434d49</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-12-10T13:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376109",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4"><code>3434d49</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_events_339728.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-10T13:36:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339728"
}
```



---

archive/issue_events_339729.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-10T13:36:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339729"
}
```



---

archive/issue_comments_376110.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI just rebased the existing branch on 8.5.beta6.\n\nI can see that there's a case to be made for still allowing some of these methods to accept filenames as bytes, but I think this is fine for now until and unless a specific need for it arises.",
    "created_at": "2018-12-10T13:36:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376110",
    "user": "https://github.com/embray"
}
```

<div id="comment:21" align="right">comment:21</div>

I just rebased the existing branch on 8.5.beta6.

I can see that there's a case to be made for still allowing some of these methods to accept filenames as bytes, but I think this is fine for now until and unless a specific need for it arises.



---

archive/issue_events_339730.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T11:02:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339730"
}
```



---

archive/issue_events_339731.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T11:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339731"
}
```



---

archive/issue_comments_376111.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nthe import of `char_to_str` seem not to be used in `backends/coin_backend.pyx`",
    "created_at": "2018-12-13T11:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376111",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

the import of `char_to_str` seem not to be used in `backends/coin_backend.pyx`



---

archive/issue_comments_376112.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee\"><code>da920d5</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>\n",
    "created_at": "2018-12-13T11:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376112",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee"><code>da920d5</code></a></td><td><code>py3: numerous string encode/decode fixes for sage.numerical.backends</code></td></tr></table>




---

archive/issue_comments_376113.json:
```json
{
    "body": "Changed commit from **[`3434d49`](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)** to **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**",
    "created_at": "2018-12-13T11:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3434d49`](https://github.com/sagemath/sagetrac-mirror/commit/3434d49f591123a2910bcdf83c8b65b3be5c78b4)** to **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**



---

archive/issue_events_339732.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T11:23:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339732"
}
```



---

archive/issue_events_339733.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T11:23:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339733"
}
```



---

archive/issue_comments_376114.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-12-13T15:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376114",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_376115.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nin src/sage/numerical/backends/cvxopt_sdp_backend.pyx,\nthe INPUT field must be modified\n\nsame in src/sage/numerical/backends/generic_sdp_backend.pyx\n\notherwise, looks good to me (as far as I can tell)",
    "created_at": "2018-12-13T15:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376115",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">comment:25</div>

in src/sage/numerical/backends/cvxopt_sdp_backend.pyx,
the INPUT field must be modified

same in src/sage/numerical/backends/generic_sdp_backend.pyx

otherwise, looks good to me (as far as I can tell)



---

archive/issue_events_339734.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T15:39:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339734"
}
```



---

archive/issue_events_339735.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T15:39:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339735"
}
```



---

archive/issue_comments_376116.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAh, very true (not that many people are likely to read that, but best to be consistent).",
    "created_at": "2018-12-13T16:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376116",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

Ah, very true (not that many people are likely to read that, but best to be consistent).



---

archive/issue_events_339736.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T16:08:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339736"
}
```



---

archive/issue_events_339737.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-13T16:08:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339737"
}
```



---

archive/issue_comments_376117.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nNo, they're fine.  I checked the code and it doesn't need updating in those cases.  For some reason they already correctly read `str` instead of `char *`.",
    "created_at": "2018-12-13T16:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376117",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

No, they're fine.  I checked the code and it doesn't need updating in those cases.  For some reason they already correctly read `str` instead of `char *`.



---

archive/issue_comments_376118.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\noh, well. Let it be.\n\n@vbraun: probably safer to keep this one for 8.6.beta0",
    "created_at": "2018-12-13T18:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376118",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">comment:28</div>

oh, well. Let it be.

@vbraun: probably safer to keep this one for 8.6.beta0



---

archive/issue_events_339738.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339738"
}
```



---

archive/issue_events_339739.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339739"
}
```



---

archive/issue_events_339740.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-14T20:17:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339740"
}
```



---

archive/issue_events_339741.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-14T20:17:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339741"
}
```



---

archive/issue_events_339742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-23T23:41:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339742"
}
```



---

archive/issue_events_339743.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "fb9091d1e9d74c1a37eec4558fff8354007fefa7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-12-23T23:41:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24740#event-339743"
}
```



---

archive/issue_comments_376119.json:
```json
{
    "body": "Changed branch from **[u/embray/python3/sage-numerical-backends/string](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-numerical-backends/string)** to **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**",
    "created_at": "2018-12-23T23:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376119",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/python3/sage-numerical-backends/string](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/python3/sage-numerical-backends/string)** to **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)**



---

archive/issue_comments_376120.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMaybe the problem described in ticket #26999 was produced by the numerous string fixes made here. Can you take a look?",
    "created_at": "2019-01-03T10:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376120",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

Maybe the problem described in ticket #26999 was produced by the numerous string fixes made here. Can you take a look?



---

archive/issue_comments_376121.json:
```json
{
    "body": "Changed commit from **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)** to none",
    "created_at": "2019-01-03T10:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24740#issuecomment-376121",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`da920d5`](https://github.com/sagemath/sagetrac-mirror/commit/da920d50745a997a176925c67130acd94abf87ee)** to none
