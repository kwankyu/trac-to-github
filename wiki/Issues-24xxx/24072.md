# Issue 24072: Disallow positive characteristic in the symbolic ring

archive/issues_023835.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nElements of positive characteristic in the symbolic ring are complete nonsense\n\n```\nsage: x = SR.var('x')\nsage: f(x) = exp(GF(3).one() * x)\nsage: f\nx |--> e^x\nsage: bool(f(x) == exp(x))\nTrue\nsage: f(3*x)\n1\n```\nor\n\n```\nsage: solve(x^2 == 2, [x])\n[x == -sqrt(2), x == sqrt(2)]\nsage: solve(x^2 == GF(3)(2), [x])\n[x == -sqrt(2), x == sqrt(2)]\n```\n\nMore dramatically, it leads to segmentation faults\n\n```python\nsage: x = polygen(GF(3))\nsage: a = SR.var('a')\nsage: (2*x + 1) * a\nsegmentation fault\n```\nEven going through conversion\n\n```python\nsage: p = SR(2*x + 1)\nsage: p * a\nsegmentation fault\n```\n\nWe simply disallow wrapping of element of positive characteristic in `SR`.\n\nSolve #18787 and #21391\n\nOriginal reports for the segfault:\n- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n\nComponent: **commutative algebra**\n\nKeywords: **polynomial, symbolics**\n\nAuthor: **Vincent Delecroix**\n\nBranch/Commit: **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**\n\nReviewer: **Ralf Stephan, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/24072_\n\n",
    "closed_at": "2017-10-29T10:32:22Z",
    "created_at": "2017-10-20T07:09:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Disallow positive characteristic in the symbolic ring",
    "type": "issue",
    "updated_at": "2017-10-29T10:32:22Z",
    "url": "https://github.com/sagemath/sage/issues/24072",
    "user": "https://github.com/bgrenet"
}
```
<div id="comment:0"></div>

Elements of positive characteristic in the symbolic ring are complete nonsense

```
sage: x = SR.var('x')
sage: f(x) = exp(GF(3).one() * x)
sage: f
x |--> e^x
sage: bool(f(x) == exp(x))
True
sage: f(3*x)
1
```
or

```
sage: solve(x^2 == 2, [x])
[x == -sqrt(2), x == sqrt(2)]
sage: solve(x^2 == GF(3)(2), [x])
[x == -sqrt(2), x == sqrt(2)]
```

More dramatically, it leads to segmentation faults

```python
sage: x = polygen(GF(3))
sage: a = SR.var('a')
sage: (2*x + 1) * a
segmentation fault
```
Even going through conversion

```python
sage: p = SR(2*x + 1)
sage: p * a
segmentation fault
```

We simply disallow wrapping of element of positive characteristic in `SR`.

Solve #18787 and #21391

Original reports for the segfault:
- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)

Component: **commutative algebra**

Keywords: **polynomial, symbolics**

Author: **Vincent Delecroix**

Branch/Commit: **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**

Reviewer: **Ralf Stephan, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/24072_





---

archive/issue_events_331441.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331441"
}
```



---

archive/issue_events_331442.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331442"
}
```



---

archive/issue_events_331443.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331443"
}
```



---

archive/issue_events_331444.json:
```json
{
    "actor": "https://github.com/bgrenet",
    "created_at": "2017-10-20T07:09:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331444"
}
```



---

archive/issue_comments_363686.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe real bug is that `SR(sigma)` succeeds (and returns something broken).\nIt should just fail, and then `*` will fail too, as it should.",
    "created_at": "2017-10-20T08:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363686",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:1" align="right">comment:1</div>

The real bug is that `SR(sigma)` succeeds (and returns something broken).
It should just fail, and then `*` will fail too, as it should.



---

archive/issue_events_331445.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-10-20T14:11:28Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "title_is": "Segfault when multiplying symbolic expression and poly over finite field",
    "title_was": "Segfault when multiplication between symbolic expr. and non-monic poly over finite field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331445"
}
```



---

archive/issue_comments_363687.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault:\n+As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:\n \n ```python\n sage: P.<x> = GF(3)[]\n``````\n",
    "created_at": "2017-10-20T14:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363687",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault:
+As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:
 
 ```python
 sage: P.<x> = GF(3)[]
``````




---

archive/issue_comments_363688.json:
```json
{
    "body": "Changed keywords from **polynomial** to **polynomial, symbolics**",
    "created_at": "2017-10-20T19:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363688",
    "user": "https://github.com/videlec"
}
```

Changed keywords from **polynomial** to **polynomial, symbolics**



---

archive/issue_comments_363689.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,23 @@\n-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:\n \n ```python\n-sage: P.<x> = GF(3)[]\n-sage: a = var('a')\n-sage: sigma = 2*x + 1\n-sage: a * sigma\n+sage: x = polygen(GF(3))\n+sage: a = SR.var('a')\n+sage: (2*x + 1) * a\n+segmentation fault\n+```\n+Even going through conversion\n+\n+```python\n+sage: p = SR(2*x + 1)\n+sage: p * a\n segmentation fault\n ```\n \n My investigation gives the following conditions for the segfault:\n-* Multiplication between an element of `SR` and `GF(p)['x']` ;\n-* The polynomial is non monic, and has at least two nonzero terms.\n+* Multiplication between an element of `SR` and `GF(p)['x']`\n+* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).\n \n-Note that converting the polynomial to `SR` beforehand yields the same error.\n+Original reports:\n+- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n+- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n+\n``````\n",
    "created_at": "2017-10-20T19:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363689",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,23 @@
-As reported on [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/), the following provokes a segmentation fault due to a stack overflow:
 
 ```python
-sage: P.<x> = GF(3)[]
-sage: a = var('a')
-sage: sigma = 2*x + 1
-sage: a * sigma
+sage: x = polygen(GF(3))
+sage: a = SR.var('a')
+sage: (2*x + 1) * a
+segmentation fault
+```
+Even going through conversion
+
+```python
+sage: p = SR(2*x + 1)
+sage: p * a
 segmentation fault
 ```
 
 My investigation gives the following conditions for the segfault:
-* Multiplication between an element of `SR` and `GF(p)['x']` ;
-* The polynomial is non monic, and has at least two nonzero terms.
+* Multiplication between an element of `SR` and `GF(p)['x']`
+* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).
 
-Note that converting the polynomial to `SR` beforehand yields the same error.
+Original reports:
+- [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
+- [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
+
``````




---

archive/issue_comments_363690.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363690",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_comments_363691.json:
```json
{
    "body": "Commit: **[`148340c`](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363691",
    "user": "https://github.com/videlec"
}
```

Commit: **[`148340c`](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)**



---

archive/issue_events_331446.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T09:31:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331446"
}
```



---

archive/issue_comments_363692.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nA branch where SR does not accept anymore positive characteristic... let see what the patchbot has to say.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad\"><code>148340c</code></a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr></table>\n",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363692",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

A branch where SR does not accept anymore positive characteristic... let see what the patchbot has to say.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad"><code>148340c</code></a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr></table>




---

archive/issue_comments_363693.json:
```json
{
    "body": "Branch: **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)**",
    "created_at": "2017-10-21T09:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363693",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)**



---

archive/issue_comments_363694.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/402865e471bdec4fd2c6babf6e6256aeea89be02\"><code>402865e</code></a></td><td><code>24072: fix doctest in matrix_space.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced\"><code>8f956e0</code></a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-21T11:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363694",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/402865e471bdec4fd2c6babf6e6256aeea89be02"><code>402865e</code></a></td><td><code>24072: fix doctest in matrix_space.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced"><code>8f956e0</code></a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_363695.json:
```json
{
    "body": "Changed commit from **[`148340c`](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)** to **[`8f956e0`](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)**",
    "created_at": "2017-10-21T11:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`148340c`](https://github.com/sagemath/sagetrac-mirror/commit/148340c832900e841fea1ee25527383b26f607ad)** to **[`8f956e0`](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)**



---

archive/issue_events_331447.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T11:36:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "title_is": "Disallow positive characteristic in the symbolic ring",
    "title_was": "Segfault when multiplying symbolic expression and poly over finite field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331447"
}
```



---

archive/issue_comments_363696.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults\n \n ```python\n sage: x = polygen(GF(3))\n@@ -13,11 +14,8 @@\n segmentation fault\n ```\n \n-My investigation gives the following conditions for the segfault:\n-* Multiplication between an element of `SR` and `GF(p)['x']`\n-* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).\n+We simply disallow wrapping of element of positive characteristic in `SR`.\n \n-Original reports:\n+Original reports for the segfault:\n - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n-\n``````\n",
    "created_at": "2017-10-21T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363696",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults
 
 ```python
 sage: x = polygen(GF(3))
@@ -13,11 +14,8 @@
 segmentation fault
 ```
 
-My investigation gives the following conditions for the segfault:
-* Multiplication between an element of `SR` and `GF(p)['x']`
-* The polynomial is non monic, and has at least two nonzero terms (e.g. no complaint with `p = x` or `p = 2x`).
+We simply disallow wrapping of element of positive characteristic in `SR`.
 
-Original reports:
+Original reports for the segfault:
 - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
 - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
-
``````




---

archive/issue_comments_363697.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI think I fixed all doctests!",
    "created_at": "2017-10-21T11:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363697",
    "user": "https://github.com/videlec"
}
```

<div id="comment:7" align="right">comment:7</div>

I think I fixed all doctests!



---

archive/issue_comments_363698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n-Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults\n+Elements of positive characteristic in the symbolic ring are complete nonsense\n+\n+```\n+sage: x = SR.var('x')\n+sage: f(x) = exp(a*x)\n+sage: f(3*x)\n+1\n+```\n+or\n+\n+```\n+sage: solve(x^2 == 2, [x])\n+[x == -sqrt(2), x == sqrt(2)]\n+sage: solve(x^2 == GF(3)(2), [x])\n+[x == -sqrt(2), x == sqrt(2)]\n+```\n+\n+More dramatically, it leads to segmentation faults\n \n ```python\n sage: x = polygen(GF(3))\n``````\n",
    "created_at": "2017-10-21T11:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363698",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,21 @@
-Introducing element of positive characteristic in the symbolic ring leads to dramatic segmentation faults
+Elements of positive characteristic in the symbolic ring are complete nonsense
+
+```
+sage: x = SR.var('x')
+sage: f(x) = exp(a*x)
+sage: f(3*x)
+1
+```
+or
+
+```
+sage: solve(x^2 == 2, [x])
+[x == -sqrt(2), x == sqrt(2)]
+sage: solve(x^2 == GF(3)(2), [x])
+[x == -sqrt(2), x == sqrt(2)]
+```
+
+More dramatically, it leads to segmentation faults
 
 ```python
 sage: x = polygen(GF(3))
``````




---

archive/issue_comments_363699.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,11 @@\n \n ```\n sage: x = SR.var('x')\n-sage: f(x) = exp(a*x)\n+sage: f(x) = exp(GF(3).one() * x)\n+sage: f\n+x |--> e^x\n+sage: bool(f(x) == exp(x))\n+True\n sage: f(3*x)\n 1\n ```\n``````\n",
    "created_at": "2017-10-21T11:47:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363699",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,11 @@
 
 ```
 sage: x = SR.var('x')
-sage: f(x) = exp(a*x)
+sage: f(x) = exp(GF(3).one() * x)
+sage: f
+x |--> e^x
+sage: bool(f(x) == exp(x))
+True
 sage: f(3*x)
 1
 ```
``````




---

archive/issue_comments_363700.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2017-10-21T13:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363700",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_363701.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat a relief, thanks for your work.",
    "created_at": "2017-10-21T13:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363701",
    "user": "https://github.com/rwst"
}
```

<div id="comment:10" align="right">comment:10</div>

What a relief, thanks for your work.



---

archive/issue_events_331448.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-21T13:56:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331448"
}
```



---

archive/issue_events_331449.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-21T13:56:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331449"
}
```



---

archive/issue_comments_363702.json:
```json
{
    "body": "Changed commit from **[`8f956e0`](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)** to **[`de4e760`](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)**",
    "created_at": "2017-10-21T15:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363702",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f956e0`](https://github.com/sagemath/sagetrac-mirror/commit/8f956e0ca57c8f15b94410c43e9a17bb534a7ced)** to **[`de4e760`](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)**



---

archive/issue_events_331450.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-21T15:48:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331450"
}
```



---

archive/issue_events_331451.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-10-21T15:48:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331451"
}
```



---

archive/issue_comments_363703.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236\"><code>de4e760</code></a></td><td><code>24072: py3 syntax</code></td></tr></table>\n",
    "created_at": "2017-10-21T15:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363703",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236"><code>de4e760</code></a></td><td><code>24072: py3 syntax</code></td></tr></table>




---

archive/issue_events_331452.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T15:49:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331452"
}
```



---

archive/issue_events_331453.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-21T15:49:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331453"
}
```



---

archive/issue_comments_363704.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA tiny change for py3 syntax (patchbot complaint). Setting back to positive review...",
    "created_at": "2017-10-21T15:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363704",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

A tiny change for py3 syntax (patchbot complaint). Setting back to positive review...



---

archive/issue_comments_363705.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDoes this mean that #21391 can now be closed as duplicate?",
    "created_at": "2017-10-21T17:10:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363705",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

Does this mean that #21391 can now be closed as duplicate?



---

archive/issue_events_331454.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-21T19:05:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331454"
}
```



---

archive/issue_events_331455.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-21T19:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331455"
}
```



---

archive/issue_comments_363706.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerge conflict",
    "created_at": "2017-10-21T19:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363706",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

Merge conflict



---

archive/issue_comments_363707.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nVolker, can you provide more information?",
    "created_at": "2017-10-21T20:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363707",
    "user": "https://github.com/videlec"
}
```

<div id="comment:15" align="right">comment:15</div>

Volker, can you provide more information?



---

archive/issue_comments_363708.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,6 +37,8 @@\n \n We simply disallow wrapping of element of positive characteristic in `SR`.\n \n+Solve #18787 and #21391\n+\n Original reports for the segfault:\n - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)\n - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)\n``````\n",
    "created_at": "2017-10-21T20:25:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363708",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,6 +37,8 @@
 
 We simply disallow wrapping of element of positive characteristic in `SR`.
 
+Solve #18787 and #21391
+
 Original reports for the segfault:
 - [Ask](https://ask.sagemath.org/question/39204/segmentation-fault-when-multiplying-by-variable/)
 - [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/qSYOt22t58o)
``````




---

archive/issue_comments_363709.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHmm, I guess, look at https://github.com/vbraun/sage/tree/develop ?",
    "created_at": "2017-10-21T20:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363709",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Hmm, I guess, look at https://github.com/vbraun/sage/tree/develop ?



---

archive/issue_comments_363710.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32ffd592b246220d6b8e5a1c7274ad5d418586c1\"><code>32ffd59</code></a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5\"><code>3878ed6</code></a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-22T18:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363710",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32ffd592b246220d6b8e5a1c7274ad5d418586c1"><code>32ffd59</code></a></td><td><code>24072: disallow positive characteristic in SR</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5"><code>3878ed6</code></a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_363711.json:
```json
{
    "body": "Changed commit from **[`de4e760`](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)** to **[`3878ed6`](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)**",
    "created_at": "2017-10-22T18:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`de4e760`](https://github.com/sagemath/sagetrac-mirror/commit/de4e7607fe32aa771b2845cebcc784ab65a15236)** to **[`3878ed6`](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)**



---

archive/issue_comments_363712.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nrebased on 8.1.beta9",
    "created_at": "2017-10-22T18:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363712",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

rebased on 8.1.beta9



---

archive/issue_events_331456.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-22T18:25:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331456"
}
```



---

archive/issue_events_331457.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-10-22T18:25:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331457"
}
```



---

archive/issue_comments_363713.json:
```json
{
    "body": "Changed commit from **[`3878ed6`](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)** to **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**",
    "created_at": "2017-10-22T18:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3878ed6`](https://github.com/sagemath/sagetrac-mirror/commit/3878ed6dcb385ec71dedb2dae28df53537418bc5)** to **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**



---

archive/issue_comments_363714.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533\"><code>da8b056</code></a></td><td><code>24072: fix doctests</code></td></tr></table>\n",
    "created_at": "2017-10-22T18:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363714",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533"><code>da8b056</code></a></td><td><code>24072: fix doctests</code></td></tr></table>




---

archive/issue_comments_363715.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nping?",
    "created_at": "2017-10-23T19:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363715",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

ping?



---

archive/issue_events_331458.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-23T22:24:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331458"
}
```



---

archive/issue_events_331459.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-23T22:24:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331459"
}
```



---

archive/issue_comments_363716.json:
```json
{
    "body": "Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Travis Scrimshaw**",
    "created_at": "2017-10-23T22:24:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363716",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Ralf Stephan** to **Ralf Stephan, Travis Scrimshaw**



---

archive/issue_comments_363717.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)** to **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**",
    "created_at": "2017-10-29T10:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/24072#issuecomment-363717",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/24072](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/24072)** to **[`da8b056`](https://github.com/sagemath/sagetrac-mirror/commit/da8b056e2d506516c80c19e2ffd002807310b533)**



---

archive/issue_events_331460.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-29T10:32:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331460"
}
```



---

archive/issue_events_331461.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "88b3fbff89bb12cef4e267bfa478583e4ac42bbb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-10-29T10:32:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/24072",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/24072#event-331461"
}
```
