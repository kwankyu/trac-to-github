# Issue 14647: Update iconv to version 1.14

archive/issues_014443.json:
```json
{
    "body": "It has been out for some time and fixes the use of an obsolete function \"cygwin_conv_to_posix_path\" on Cygwin (32 bits) and unavailable on Cygwin64.\n\nUse spkg at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n\n**Assignee:** @jdemeyer\n\n**CC:**  @kcrisman @dimpase\n\n**Keywords:** iconv spkg cygwin cygwin64\n\n**Reviewer:** Leif Leonhardy\n\n**Author:** Jean-Pierre Flori\n\n**Merged:** sage-5.11.beta0\n\nIssue created by migration from https://trac.sagemath.org/ticket/14647\n\n",
    "closed_at": "2013-06-06T12:35:20Z",
    "created_at": "2013-05-26T19:06:00Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.11",
    "title": "Update iconv to version 1.14",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/14647",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
It has been out for some time and fixes the use of an obsolete function "cygwin_conv_to_posix_path" on Cygwin (32 bits) and unavailable on Cygwin64.

Use spkg at:
* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg

**Assignee:** @jdemeyer

**CC:**  @kcrisman @dimpase

**Keywords:** iconv spkg cygwin cygwin64

**Reviewer:** Leif Leonhardy

**Author:** Jean-Pierre Flori

**Merged:** sage-5.11.beta0

Issue created by migration from https://trac.sagemath.org/ticket/14647





---

archive/attachments_020412.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "iconv-1.14.diff",
    "asset_url": "tarball://root/attachments/ticket14647/iconv-1.14.diff",
    "created_at": "2013-05-26T19:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket14647/iconv-1.14.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```



---

archive/issue_comments_180268.json:
```json
{
    "body": "**Attachment:** [iconv-1.14.diff](https://github.com/sagemath/sage/files/ticket14647/iconv-1.14.diff)\n\nSpkg diff, for review only.",
    "created_at": "2013-05-26T19:07:43Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180268",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Attachment:** [iconv-1.14.diff](https://github.com/sagemath/sage/files/ticket14647/iconv-1.14.diff)

Spkg diff, for review only.



---

archive/issue_comments_180269.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n+\n+Use spkg at:\n+* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:10:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180269",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
+
+Use spkg at:
+* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_events_128573.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-05-26T19:10:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128573"
}
```



---

archive/issue_comments_180270.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"iconv spkg cygwin\".",
    "created_at": "2013-05-26T19:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180270",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "" to "iconv spkg cygwin".



---

archive/issue_comments_180271.json:
```json
{
    "body": "**Author:** Jean-Pierre Flori",
    "created_at": "2013-05-26T19:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180271",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Author:** Jean-Pierre Flori



---

archive/issue_comments_180272.json:
```json
{
    "body": "<a id='comment:4'></a>\nunable to resolve host address \u201cboxen.math.washingotn.edu\u201d",
    "created_at": "2013-05-26T19:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180272",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>
unable to resolve host address “boxen.math.washingotn.edu”



---

archive/issue_comments_180273.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n \n Use spkg at:\n-* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg\n+* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:19:50Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180273",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
 
 Use spkg at:
-* http://boxen.math.washingotn.edu/home/jpflori/spkg/iconv-1.14.spkg
+* http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_comments_180274.json:
```json
{
    "body": "<a id='comment:5'></a>\nIndeed, thanks.\nI only tested it builds on Cygwin64, not on anything else yet.\nNote there are only few platforms where this is actually built.",
    "created_at": "2013-05-26T19:24:22Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180274",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:5'></a>
Indeed, thanks.
I only tested it builds on Cygwin64, not on anything else yet.
Note there are only few platforms where this is actually built.



---

archive/issue_comments_180275.json:
```json
{
    "body": "**Changing keywords** from \"iconv spkg cygwin\" to \"iconv spkg cygwin cygwin64\".",
    "created_at": "2013-05-26T19:26:48Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180275",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "iconv spkg cygwin" to "iconv spkg cygwin cygwin64".



---

archive/issue_comments_180276.json:
```json
{
    "body": "<a id='comment:7'></a>\nCurrently building on Solaris SPARC.\n\nHP-UX, anyone? ;-)",
    "created_at": "2013-05-26T19:31:19Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180276",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Currently building on Solaris SPARC.

HP-UX, anyone? ;-)



---

archive/issue_comments_180277.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n+It has been out for some time and fixes the use of an obsolete function \"cygwin_conv_to_posix_path\" on Cygwin (32 bits) and unavailable on Cygwin64.\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg\n``````\n",
    "created_at": "2013-05-26T19:33:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180277",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.
+It has been out for some time and fixes the use of an obsolete function "cygwin_conv_to_posix_path" on Cygwin (32 bits) and unavailable on Cygwin64.
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/jpflori/spkg/iconv-1.14.spkg
``````




---

archive/issue_comments_180278.json:
```json
{
    "body": "<a id='comment:8'></a>\nBuilds ok on Solaris 10 on ultrasparc T2+.",
    "created_at": "2013-05-26T19:33:44Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180278",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
Builds ok on Solaris 10 on ultrasparc T2+.



---

archive/issue_comments_180279.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@nexttime](#comment%3A7):\n> Currently building on Solaris SPARC.\n\nSucceeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n\n```\n./check-subst\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\n```\n\nI haven't rebuilt anything *depending on iconv* though.",
    "created_at": "2013-05-26T20:12:02Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180279",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Replying to [@nexttime](#comment%3A7):
> Currently building on Solaris SPARC.

Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:

```
./check-subst
Segmentation Fault - core dumped
Segmentation Fault - core dumped
Segmentation Fault - core dumped
```

I haven't rebuilt anything *depending on iconv* though.



---

archive/issue_comments_180280.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@nexttime](#comment%3A9):\n> Replying to [@nexttime](#comment%3A7):\n> > Currently building on Solaris SPARC.\n\n> \n> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> \n> ```\n> ./check-subst\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> ```\n> \n> I haven't rebuilt anything *depending on iconv* though.\n\nIs that documented somewhere?\n\nAnd any chance for review? :)",
    "created_at": "2013-05-31T15:07:10Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180280",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>
Replying to [@nexttime](#comment%3A9):
> Replying to [@nexttime](#comment%3A7):
> > Currently building on Solaris SPARC.

> 
> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> 
> ```
> ./check-subst
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> ```
> 
> I haven't rebuilt anything *depending on iconv* though.

Is that documented somewhere?

And any chance for review? :)



---

archive/issue_comments_180281.json:
```json
{
    "body": "<a id='comment:11'></a>\nI might give a review, but it's not a high-priority for me.",
    "created_at": "2013-05-31T20:48:15Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180281",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
I might give a review, but it's not a high-priority for me.



---

archive/issue_comments_180282.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jpflori](#comment%3A10):\n> Replying to [@nexttime](#comment%3A9):\n> > Replying to [@nexttime](#comment%3A7):\n> > > Currently building on Solaris SPARC.\n\n> > \n> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> > \n> > ```\n> > ./check-subst\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > ```\n> > \n> > I haven't rebuilt anything *depending on iconv* though.\n\nIIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.\n\n\n\n\n> Is that documented somewhere?\n\nYes.\n\n\n\n\n> And any chance for review? :)\n\nJust a matter of time (and my ability to keep this ticket in mind).",
    "created_at": "2013-06-01T03:49:18Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180282",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
Replying to [jpflori](#comment%3A10):
> Replying to [@nexttime](#comment%3A9):
> > Replying to [@nexttime](#comment%3A7):
> > > Currently building on Solaris SPARC.

> > 
> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> > 
> > ```
> > ./check-subst
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > ```
> > 
> > I haven't rebuilt anything *depending on iconv* though.

IIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.




> Is that documented somewhere?

Yes.




> And any chance for review? :)

Just a matter of time (and my ability to keep this ticket in mind).



---

archive/issue_comments_180283.json:
```json
{
    "body": "**Reviewer:** Leif Leonhardy",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180283",
    "user": "https://github.com/nexttime"
}
```

**Reviewer:** Leif Leonhardy



---

archive/issue_events_128574.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-01T12:02:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128574"
}
```



---

archive/issue_events_128575.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2013-06-01T12:02:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128575"
}
```



---

archive/issue_comments_180284.json:
```json
{
    "body": "<a id='comment:13'></a>\nSlight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...\n\nAssuming you've successfully tested it on Cygwin![64], positive review.\n\n\n\n\nOut of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180284",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
Slight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...

Assuming you've successfully tested it on Cygwin![64], positive review.




Out of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?



---

archive/issue_comments_180285.json:
```json
{
    "body": "<a id='comment:14'></a>\nOn Cygwin:\n\n```\n$ uname -a\nCYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin\n```\n\nOn Cygwin64:\n\n```\n$ uname -a\nCYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin\n```",
    "created_at": "2013-06-01T14:43:05Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180285",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:14'></a>
On Cygwin:

```
$ uname -a
CYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin
```

On Cygwin64:

```
$ uname -a
CYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin
```



---

archive/issue_events_128576.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T10:03:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "milestone": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128576"
}
```



---

archive/issue_events_128577.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T10:03:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128577"
}
```



---

archive/issue_comments_180286.json:
```json
{
    "body": "**Merged:** sage-5.11.beta0",
    "created_at": "2013-06-06T12:35:20Z",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/14647#issuecomment-180286",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.11.beta0



---

archive/issue_events_128578.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T12:35:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128578"
}
```



---

archive/issue_events_128579.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T12:35:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/14647",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/14647#event-128579"
}
```
